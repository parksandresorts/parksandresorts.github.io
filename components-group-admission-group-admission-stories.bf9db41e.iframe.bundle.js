/*! For license information please see components-group-admission-group-admission-stories.bf9db41e.iframe.bundle.js.LICENSE.txt */
"use strict";(self.webpackChunk_parksandresorts_core=self.webpackChunk_parksandresorts_core||[]).push([[2933],{"./node_modules/@tanstack/react-query/build/modern/useMutation.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{D:()=>useMutation});var react=__webpack_require__("./node_modules/react/index.js"),mutation=__webpack_require__("./node_modules/@tanstack/query-core/build/modern/mutation.js"),notifyManager=__webpack_require__("./node_modules/@tanstack/query-core/build/modern/notifyManager.js"),subscribable=__webpack_require__("./node_modules/@tanstack/query-core/build/modern/subscribable.js"),utils=__webpack_require__("./node_modules/@tanstack/query-core/build/modern/utils.js"),MutationObserver=class extends subscribable.l{#client;#currentResult=void 0;#currentMutation;#mutateOptions;constructor(client,options){super(),this.#client=client,this.setOptions(options),this.bindMethods(),this.#updateResult()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(options){const prevOptions=this.options;this.options=this.#client.defaultMutationOptions(options),(0,utils.VS)(this.options,prevOptions)||this.#client.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#currentMutation,observer:this}),prevOptions?.mutationKey&&this.options.mutationKey&&(0,utils.Ym)(prevOptions.mutationKey)!==(0,utils.Ym)(this.options.mutationKey)?this.reset():"pending"===this.#currentMutation?.state.status&&this.#currentMutation.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#currentMutation?.removeObserver(this)}onMutationUpdate(action){this.#updateResult(),this.#notify(action)}getCurrentResult(){return this.#currentResult}reset(){this.#currentMutation?.removeObserver(this),this.#currentMutation=void 0,this.#updateResult(),this.#notify()}mutate(variables,options){return this.#mutateOptions=options,this.#currentMutation?.removeObserver(this),this.#currentMutation=this.#client.getMutationCache().build(this.#client,this.options),this.#currentMutation.addObserver(this),this.#currentMutation.execute(variables)}#updateResult(){const state=this.#currentMutation?.state??(0,mutation.R)();this.#currentResult={...state,isPending:"pending"===state.status,isSuccess:"success"===state.status,isError:"error"===state.status,isIdle:"idle"===state.status,mutate:this.mutate,reset:this.reset}}#notify(action){notifyManager.V.batch((()=>{if(this.#mutateOptions&&this.hasListeners()){const variables=this.#currentResult.variables,context=this.#currentResult.context;"success"===action?.type?(this.#mutateOptions.onSuccess?.(action.data,variables,context),this.#mutateOptions.onSettled?.(action.data,null,variables,context)):"error"===action?.type&&(this.#mutateOptions.onError?.(action.error,variables,context),this.#mutateOptions.onSettled?.(void 0,action.error,variables,context))}this.listeners.forEach((listener=>{listener(this.#currentResult)}))}))}},QueryClientProvider=__webpack_require__("./node_modules/@tanstack/react-query/build/modern/QueryClientProvider.js"),modern_utils=__webpack_require__("./node_modules/@tanstack/react-query/build/modern/utils.js");function useMutation(options,queryClient){const client=(0,QueryClientProvider.NL)(queryClient),[observer]=react.useState((()=>new MutationObserver(client,options)));react.useEffect((()=>{observer.setOptions(options)}),[observer,options]);const result=react.useSyncExternalStore(react.useCallback((onStoreChange=>observer.subscribe(notifyManager.V.batchCalls(onStoreChange))),[observer]),(()=>observer.getCurrentResult()),(()=>observer.getCurrentResult())),mutate=react.useCallback(((variables,mutateOptions)=>{observer.mutate(variables,mutateOptions).catch(modern_utils.Z)}),[observer]);if(result.error&&(0,modern_utils.L)(observer.options.throwOnError,[result.error]))throw result.error;return{...result,mutate,mutateAsync:result.mutate}}},"./src/components/elements/area-loader/area-loader.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>area_loader});var injectStylesIntoStyleTag=__webpack_require__("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),injectStylesIntoStyleTag_default=__webpack_require__.n(injectStylesIntoStyleTag),styleDomAPI=__webpack_require__("./node_modules/style-loader/dist/runtime/styleDomAPI.js"),styleDomAPI_default=__webpack_require__.n(styleDomAPI),insertBySelector=__webpack_require__("./node_modules/style-loader/dist/runtime/insertBySelector.js"),insertBySelector_default=__webpack_require__.n(insertBySelector),setAttributesWithoutAttributes=__webpack_require__("./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js"),setAttributesWithoutAttributes_default=__webpack_require__.n(setAttributesWithoutAttributes),insertStyleElement=__webpack_require__("./node_modules/style-loader/dist/runtime/insertStyleElement.js"),insertStyleElement_default=__webpack_require__.n(insertStyleElement),styleTagTransform=__webpack_require__("./node_modules/style-loader/dist/runtime/styleTagTransform.js"),styleTagTransform_default=__webpack_require__.n(styleTagTransform),area_loader_module=__webpack_require__("./node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[16].use[1]!./node_modules/postcss-loader/dist/cjs.js!./node_modules/less-loader/dist/cjs.js!./src/components/elements/area-loader/area-loader.module.less"),options={};options.styleTagTransform=styleTagTransform_default(),options.setAttributes=setAttributesWithoutAttributes_default(),options.insert=insertBySelector_default().bind(null,"head"),options.domAPI=styleDomAPI_default(),options.insertStyleElement=insertStyleElement_default();injectStylesIntoStyleTag_default()(area_loader_module.Z,options);const area_loader_area_loader_module=area_loader_module.Z&&area_loader_module.Z.locals?area_loader_module.Z.locals:void 0;var motion=__webpack_require__("./node_modules/framer-motion/dist/es/render/dom/motion.mjs"),calendar_loader_module=__webpack_require__("./node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[16].use[1]!./node_modules/postcss-loader/dist/cjs.js!./node_modules/less-loader/dist/cjs.js!./src/components/elements/calendar-loader/calendar-loader.module.less"),calendar_loader_module_options={};calendar_loader_module_options.styleTagTransform=styleTagTransform_default(),calendar_loader_module_options.setAttributes=setAttributesWithoutAttributes_default(),calendar_loader_module_options.insert=insertBySelector_default().bind(null,"head"),calendar_loader_module_options.domAPI=styleDomAPI_default(),calendar_loader_module_options.insertStyleElement=insertStyleElement_default();injectStylesIntoStyleTag_default()(calendar_loader_module.Z,calendar_loader_module_options);const calendar_loader_calendar_loader_module=calendar_loader_module.Z&&calendar_loader_module.Z.locals?calendar_loader_module.Z.locals:void 0;function _typeof(o){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,_toPropertyKey(descriptor.key),descriptor)}}function _toPropertyKey(t){var i=function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==_typeof(i)?i:String(i)}const site_info_helper=new(function(){function SiteInfoHelper(){!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,SiteInfoHelper),this.calendarLoaderIcons=null,this.siteMetaData=null}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}(SiteInfoHelper,[{key:"setSiteMetaData",value:function setSiteMetaData(siteMetaData){this.siteMetaData=siteMetaData}},{key:"getSiteMetaData",value:function getSiteMetaData(){return this.siteMetaData}},{key:"setCalendarLoaderIcons",value:function setCalendarLoaderIcons(calendarLoaderIcons){this.calendarLoaderIcons=calendarLoaderIcons}},{key:"getCalendarLoaderIcons",value:function getCalendarLoaderIcons(){return this.calendarLoaderIcons}}]),SiteInfoHelper}());var jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),CalendarLoader=function CalendarLoader(_ref){var _SiteInfoHelper$getCa,loaderText=_ref.loaderText,loaderIconsOverride=_ref.loaderIconsOverride,wrapperClassName=_ref.wrapperClassName,loaderTextClassName=_ref.loaderTextClassName,contentfulLabelId=_ref.contentfulLabelId,iconAnimationVariants={initial:{y:"0%"},start:{y:["0%","-7.5%","0%"],transition:{duration:.6,ease:"easeInOut",times:[0,.5,1],repeat:1/0,repeatType:"loop",repeatDelay:.8}}},_ref2=loaderIconsOverride||(null!==(_SiteInfoHelper$getCa=site_info_helper.getCalendarLoaderIcons())&&void 0!==_SiteInfoHelper$getCa?_SiteInfoHelper$getCa:{}),firstImage=_ref2.firstImage,secondImage=_ref2.secondImage,thirdImage=_ref2.thirdImage;return(0,jsx_runtime.jsx)("div",{className:"".concat(calendar_loader_calendar_loader_module.loaderWrapper," ").concat(wrapperClassName||""),children:loaderText&&(0,jsx_runtime.jsxs)(motion.E.div,{className:"".concat(calendar_loader_calendar_loader_module.loaderText," ").concat(loaderTextClassName||""),initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,ease:"easeIn"},children:[(0,jsx_runtime.jsx)("h2",{"data-contentful-label-id":contentfulLabelId,children:loaderText}),(0,jsx_runtime.jsxs)(motion.E.ul,{className:calendar_loader_calendar_loader_module.animalList,variants:{start:{transition:{staggerChildren:.2}}},initial:"initial",animate:"start",children:[(0,jsx_runtime.jsx)(motion.E.li,{variants:iconAnimationVariants,children:firstImage&&(0,jsx_runtime.jsx)("img",{src:firstImage,alt:"loader icon"})}),(0,jsx_runtime.jsx)(motion.E.li,{variants:iconAnimationVariants,children:secondImage&&(0,jsx_runtime.jsx)("img",{src:secondImage,alt:"loader icon"})}),(0,jsx_runtime.jsx)(motion.E.li,{variants:iconAnimationVariants,children:thirdImage&&(0,jsx_runtime.jsx)("img",{src:thirdImage,alt:"loader icon"})})]})]})})};CalendarLoader.displayName="CalendarLoader";const calendar_loader=CalendarLoader;try{calendarloader.displayName="calendarloader",calendarloader.__docgenInfo={description:"",displayName:"calendarloader",props:{loaderText:{defaultValue:null,description:"",name:"loaderText",required:!0,type:{name:"string"}},loaderIconsOverride:{defaultValue:null,description:"",name:"loaderIconsOverride",required:!1,type:{name:"ICalendarLoaderIcons"}},wrapperClassName:{defaultValue:null,description:"",name:"wrapperClassName",required:!1,type:{name:"string"}},loaderTextClassName:{defaultValue:null,description:"",name:"loaderTextClassName",required:!1,type:{name:"string"}},contentfulLabelId:{defaultValue:null,description:"",name:"contentfulLabelId",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/elements/calendar-loader/calendar-loader.tsx#calendarloader"]={docgenInfo:calendarloader.__docgenInfo,name:"calendarloader",path:"src/components/elements/calendar-loader/calendar-loader.tsx#calendarloader"})}catch(__react_docgen_typescript_loader_error){}var AreaLoader=function AreaLoader(_ref){var loaderText=_ref.loaderText,key=_ref.key,contentfulLabelId=_ref.contentfulLabelId;return(0,jsx_runtime.jsx)(motion.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{type:"tween",ease:"easeOut"},className:area_loader_area_loader_module.wrapper,children:(0,jsx_runtime.jsx)(calendar_loader,{loaderText,contentfulLabelId})},key||"area-loader")};AreaLoader.displayName="AreaLoader";const area_loader=AreaLoader;try{arealoader.displayName="arealoader",arealoader.__docgenInfo={description:"",displayName:"arealoader",props:{loaderText:{defaultValue:null,description:"",name:"loaderText",required:!0,type:{name:"string"}},key:{defaultValue:null,description:"",name:"key",required:!1,type:{name:"string"}},contentfulLabelId:{defaultValue:null,description:"",name:"contentfulLabelId",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/elements/area-loader/area-loader.tsx#arealoader"]={docgenInfo:arealoader.__docgenInfo,name:"arealoader",path:"src/components/elements/area-loader/area-loader.tsx#arealoader"})}catch(__react_docgen_typescript_loader_error){}},"./src/helpers/location-helper.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{function _typeof(o){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(r,l){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,n,i,u,a=[],f=!0,o=!1;try{if(i=(t=t.call(r)).next,0===l){if(Object(t)!==t)return;f=!1}else for(;!(f=(e=i.call(t)).done)&&(a.push(e.value),a.length!==l);f=!0);}catch(r){o=!0,n=r}finally{try{if(!f&&null!=t.return&&(u=t.return(),Object(u)!==u))return}finally{if(o)throw n}}return a}}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,_toPropertyKey(descriptor.key),descriptor)}}function _toPropertyKey(t){var i=function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==_typeof(i)?i:String(i)}__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__=new(function(){function LocationHelper(){!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,LocationHelper)}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}(LocationHelper,[{key:"navigateBack",value:function navigateBack(){"undefined"!=typeof window&&window.history.go(-1)}},{key:"addHashToUrlWithoutReload",value:function addHashToUrlWithoutReload(valuesArray){if("undefined"!=typeof document&&"undefined"!=typeof window&&window.history&&window.history.replaceState){if(!(valuesArray instanceof Array&&valuesArray.length>0))return window.history.replaceState({},"".concat(document.title),window.location.pathname+window.location.search);var allValues=valuesArray.map((function(item){return item.key+"="+item.value})).join("&");return window.history.replaceState({},"".concat(document.title),"#".concat(allValues))}}},{key:"updateHistory",value:function updateHistory(url,title){var replace=arguments.length>2&&void 0!==arguments[2]&&arguments[2];"undefined"!=typeof window&&window.history&&window.history.pushState&&!replace&&window.history.pushState({previousPath:window.location.pathname},title,url),"undefined"!=typeof window&&window.history&&window.history.replaceState&&replace&&window.history.replaceState({},title,url)}},{key:"getDecodedHashParams",value:function getDecodedHashParams(){var hashParams={};return"undefined"!=typeof window&&window.location&&window.location.hash&&window.location.hash.substring(1).split("&").forEach((function(item){var _item$split2=_slicedToArray(item.split("="),2),k=_item$split2[0],v=_item$split2[1];v=v&&decodeURIComponent(v),(hashParams[k]=hashParams[k]||[]).push(v)})),hashParams}},{key:"getQueryParams",value:function getQueryParams(){var pageParams={};return"undefined"!=typeof window&&window.location.search&&window.location.search.substring(1).split("&").forEach((function(item){var _item$split4=_slicedToArray(item.split("="),2),k=_item$split4[0],v=_item$split4[1];v=v&&decodeURIComponent(v),(pageParams[k]=pageParams[k]||[]).push(v)})),pageParams}},{key:"getChannelFromQuery",value:function getChannelFromQuery(){var pageParams=this.getQueryParams();return pageParams instanceof Object&&pageParams.channel instanceof Array&&pageParams.channel.length&&pageParams.channel[0]?pageParams.channel[0]:""}}]),LocationHelper}())},"./src/services/purchase-flow-service.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{I:()=>PurchaseFlowService});var _service_helper__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/services/service-helper.ts");function _createForOfIteratorHelper(o,allowArrayLike){var it="undefined"!=typeof Symbol&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0,F=function F(){};return{s:F,n:function n(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function e(_e){throw _e},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var err,normalCompletion=!0,didErr=!1;return{s:function s(){it=it.call(o)},n:function n(){var step=it.next();return normalCompletion=step.done,step},e:function e(_e2){didErr=!0,err=_e2},f:function f(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var PurchaseFlowService={getPurchaseFlow:function getPurchaseFlow(purchaseFlowId,locale){return _service_helper__WEBPACK_IMPORTED_MODULE_0__.Z.fetchGet("/purchaseflows/".concat(purchaseFlowId,"?locale=").concat(locale))},getPurchaseFlows:function getPurchaseFlows(purchaseFlowIds,dateFrom,dateTo,locale){var _step,params=new URLSearchParams,_iterator=_createForOfIteratorHelper(purchaseFlowIds);try{for(_iterator.s();!(_step=_iterator.n()).done;){var id=_step.value;params.append("purchaseFlowIds",id.toString())}}catch(err){_iterator.e(err)}finally{_iterator.f()}return params.append("dateFrom",dateFrom),params.append("dateTo",dateTo),params.append("locale",locale),_service_helper__WEBPACK_IMPORTED_MODULE_0__.Z.fetchGet("/purchaseflows/?".concat(params.toString()))}}},"./src/stores/ride-store.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _core_helpers__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/helpers/array-helper.ts"),_core_helpers__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/helpers/language-helper.ts");function _typeof(o){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,_toPropertyKey(descriptor.key),descriptor)}}function _defineProperty(obj,key,value){return(key=_toPropertyKey(key))in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _toPropertyKey(t){var i=function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==_typeof(i)?i:String(i)}const __WEBPACK_DEFAULT_EXPORT__=new(function(){function RideStore(){!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,RideStore),_defineProperty(this,"rides",{}),_defineProperty(this,"initialized",!1)}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}(RideStore,[{key:"populateStore",value:function populateStore(rides){var _this=this;(0,_core_helpers__WEBPACK_IMPORTED_MODULE_0__.Of)(rides)&&!this.initialized&&(rides.forEach((function(rides){_this.rides[rides.node.node_locale]instanceof Array?_this.rides[rides.node.node_locale].push(rides.node):_this.rides[rides.node.node_locale]=[rides.node]})),this.initialized=!0)}},{key:"getRideById",value:function getRideById(rideId){var locale=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_core_helpers__WEBPACK_IMPORTED_MODULE_1__.Z.getCurrentLocale(),rideItem=(0,_core_helpers__WEBPACK_IMPORTED_MODULE_0__.Of)(this.rides[locale])?this.rides[locale].find((function(item){return item.rideId===rideId})):null;return rideItem}},{key:"getRideByContentfulId",value:function getRideByContentfulId(contentfulId){var _this$rides$locale$fi,_this$rides$locale,locale=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_core_helpers__WEBPACK_IMPORTED_MODULE_1__.Z.getCurrentLocale(),rideItem=null!==(_this$rides$locale$fi=null===(_this$rides$locale=this.rides[locale])||void 0===_this$rides$locale?void 0:_this$rides$locale.find((function(item){return item.contentful_id===contentfulId})))&&void 0!==_this$rides$locale$fi?_this$rides$locale$fi:null;return rideItem}},{key:"getImageInListForRide",value:function getImageInListForRide(rideId){var locale=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_core_helpers__WEBPACK_IMPORTED_MODULE_1__.Z.getCurrentLocale(),rideItem=this.getRideById(rideId,locale);return rideItem&&rideItem.imageInList?rideItem.imageInList.file.url:null}}]),RideStore}())},"./node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[16].use[1]!./node_modules/postcss-loader/dist/cjs.js!./node_modules/less-loader/dist/cjs.js!./src/components/elements/area-loader/area-loader.module.less":(module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/css-loader/dist/runtime/sourceMaps.js"),_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__),_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js"),___CSS_LOADER_EXPORT___=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__)()(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default());___CSS_LOADER_EXPORT___.push([module.id,".area-loader-module--wrapper--NxmWG {\n  position: relative;\n  width: 100%;\n  height: 100%;\n  min-height: 20rem;\n}\n","",{version:3,sources:["webpack://./src/components/elements/area-loader/area-loader.module.less"],names:[],mappings:"AAAA;EACE,kBAAA;EACA,WAAA;EACA,YAAA;EACA,iBAAA;AACF",sourcesContent:[".wrapper {\n  position: relative;\n  width: 100%;\n  height: 100%;\n  min-height: 20rem;\n}\n"],sourceRoot:""}]),___CSS_LOADER_EXPORT___.locals={wrapper:"area-loader-module--wrapper--NxmWG"};const __WEBPACK_DEFAULT_EXPORT__=___CSS_LOADER_EXPORT___},"./node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[16].use[1]!./node_modules/postcss-loader/dist/cjs.js!./node_modules/less-loader/dist/cjs.js!./src/components/elements/calendar-loader/calendar-loader.module.less":(module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/css-loader/dist/runtime/sourceMaps.js"),_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__),_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js"),___CSS_LOADER_EXPORT___=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__)()(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default());___CSS_LOADER_EXPORT___.push([module.id,".calendar-loader-module--loader-wrapper--XyN6r {\n  position: absolute;\n  left: 0;\n  top: 0;\n  bottom: 0;\n  right: 0;\n  border-radius: var(--foundation-border-radius-xs);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  z-index: 4;\n}\n.calendar-loader-module--loader-text--w02Jm {\n  text-align: center;\n  width: 100%;\n}\n.calendar-loader-module--animal-list--_HXfF {\n  padding: 0;\n}\n.calendar-loader-module--animal-list--_HXfF li {\n  display: inline-block;\n  font-size: 2rem;\n}\n.calendar-loader-module--animal-list--_HXfF li img {\n  height: 5rem;\n  width: 5rem;\n  -webkit-backface-visibility: hidden;\n}\n","",{version:3,sources:["webpack://./src/components/elements/calendar-loader/calendar-loader.module.less"],names:[],mappings:"AAAA;EACE,kBAAA;EACA,OAAA;EACA,MAAA;EACA,SAAA;EACA,QAAA;EACA,iDAAA;EACA,aAAA;EACA,uBAAA;EACA,mBAAA;EACA,UAAA;AACF;AAEA;EACE,kBAAA;EACA,WAAA;AAAF;AAGA;EACE,UAAA;AADF;AAAA;EAII,qBAAA;EACA,eAAA;AADJ;AAJA;EAQM,YAAA;EACA,WAAA;EACA,mCAAA;AADN",sourcesContent:[".loader-wrapper {\n  position: absolute;\n  left: 0;\n  top: 0;\n  bottom: 0;\n  right: 0;\n  border-radius: var(--foundation-border-radius-xs);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  z-index: 4;\n}\n\n.loader-text {\n  text-align: center;\n  width: 100%;\n}\n\n.animal-list {\n  padding: 0;\n\n  li {\n    display: inline-block;\n    font-size: 2rem;\n\n    img {\n      height: 5rem;\n      width: 5rem;\n      -webkit-backface-visibility: hidden;\n    }\n  }\n}\n"],sourceRoot:""}]),___CSS_LOADER_EXPORT___.locals={"loader-wrapper":"calendar-loader-module--loader-wrapper--XyN6r",loaderWrapper:"calendar-loader-module--loader-wrapper--XyN6r","loader-text":"calendar-loader-module--loader-text--w02Jm",loaderText:"calendar-loader-module--loader-text--w02Jm","animal-list":"calendar-loader-module--animal-list--_HXfF",animalList:"calendar-loader-module--animal-list--_HXfF"};const __WEBPACK_DEFAULT_EXPORT__=___CSS_LOADER_EXPORT___},"./node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[16].use[1]!./node_modules/postcss-loader/dist/cjs.js!./node_modules/less-loader/dist/cjs.js!./src/components/group-admission/group-admission.module.less":(module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/css-loader/dist/runtime/sourceMaps.js"),_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__),_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js"),___CSS_LOADER_EXPORT___=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__)()(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default());___CSS_LOADER_EXPORT___.push([module.id,"/* Breakpoints for responsive design\n   IMPORTANT! Make sure to keep these in sync with the breakpoints in ts file (used by hooks) (src\\constants\\breakpoints.ts)\n   IMPORTANT! useIsMobile() hook uses these breakpoints to determine if the device is mobile or not, make sure to update the hook if you change these breakpoints\n */\n.group-admission-module--wrapper--SRmFZ {\n  position: relative;\n  background: var(--common-wrapper-background);\n  color: var(--common-wrapper-text-color);\n}\n.group-admission-module--wrapper--SRmFZ.group-admission-module--loading--mh2m8 {\n  min-height: 50vh;\n}\n.group-admission-module--wrapper--SRmFZ a {\n  color: var(--common-color-link);\n}\n.group-admission-module--wide-wrapper--UBo21 {\n  position: relative;\n}\n.group-admission-module--inner-wrapper--PSh0o {\n  padding: var(--foundation-spacing-x6) 0;\n  margin: 0 auto;\n  width: 100%;\n  position: relative;\n}\n@media (min-width: 48rem) {\n  .group-admission-module--inner-wrapper--PSh0o {\n    padding: var(--foundation-spacing-x10) 0;\n  }\n}\n.group-admission-module--all-content--dPtbn {\n  position: relative;\n  z-index: 5;\n}\n.group-admission-module--hero-image-wrapper--Umzsr {\n  background-size: cover;\n  background-position: top center;\n}\n.group-admission-module--hero-image--uXXFc {\n  z-index: 1;\n  width: 100%;\n  height: 30vh;\n  left: 0;\n  top: 0;\n}\n.group-admission-module--hero-image--uXXFc * {\n  object-fit: contain;\n  width: 100%;\n  max-height: 30vh;\n}\n.group-admission-module--sticky-bar--kLZ6l {\n  position: fixed;\n  top: calc(var(--common-main-navigation-height) + var(--foundation-spacing-x2));\n  right: 0;\n  background: var(--foundation-color-primary-700);\n  color: var(--foundation-color-primary-100);\n  padding: var(--foundation-spacing-x2);\n  z-index: 100;\n  text-align: end;\n  border-radius: var(--foundation-border-radius-xs) 0rem 0rem var(--foundation-border-radius-xs);\n}\n@media (min-width: 90rem) {\n  .group-admission-module--sticky-bar--kLZ6l {\n    right: var(--foundation-spacing-x8);\n  }\n}\n.group-admission-module--purchase-flow-headline--qrl8E {\n  padding: 1rem 0 1rem 0;\n  margin: 0 var(--foundation-spacing-x6) var(--foundation-spacing-x1);\n  display: flex;\n  justify-content: center;\n  color: var(--common-colors-font-heading);\n  text-shadow: var(--heading-text-shadow, none);\n  animation: var(--heading-animation, none);\n}\n.group-admission-module--intro-wrapper--ENxQj {\n  background: transparent;\n  margin: 0 var(--foundation-spacing-x2) var(--foundation-spacing-x4);\n}\n@media (min-width: 48rem) {\n  .group-admission-module--intro-wrapper--ENxQj {\n    margin: 0 0 var(--foundation-spacing-x4);\n  }\n}\n.group-admission-module--description--MlC5e {\n  padding: var(--foundation-spacing-x4);\n  background: var(--component-text-block-background);\n  border-radius: var(--foundation-border-radius-xs);\n  border: 0.0625rem solid var(--common-wrapper-border-color);\n}\n.group-admission-module--description--MlC5e .paragraph {\n  margin: var(--foundation-spacing-x1) 0;\n}\n.group-admission-module--loader--yqVXG {\n  height: 100%;\n  width: 100%;\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n.group-admission-module--loader-text--Jvzue {\n  width: min-content;\n}\n","",{version:3,sources:["webpack://./src/components/group-admission/group-admission.module.less"],names:[],mappings:"AAAA;;;EAGE;AADF;EACE,kBAAA;EACA,4CAAA;EACA,uCAAA;AAGF;AADE;EACE,gBAAA;AAGJ;AATA;EAUI,+BAAA;AAEJ;AAEA;EACE,kBAAA;AAAF;AAGA;EACE,uCAAA;EACA,cAAA;EACA,WAAA;EACA,kBAAA;AADF;AAGE;EAAA;IACE,wCAAA;EAAF;AACF;AAGA;EACE,kBAAA;EACA,UAAA;AADF;AAGA;EACE,sBAAA;EACA,+BAAA;AADF;AAIA;EACE,UAAA;EACA,WAAA;EACA,YAAA;EACA,OAAA;EACA,MAAA;AAFF;AAHA;EAOI,mBAAA;EACA,WAAA;EACA,gBAAA;AADJ;AAKA;EACE,eAAA;EACA,8EAAA;EACA,QAAA;EACA,+CAAA;EACA,0CAAA;EACA,qCAAA;EACA,YAAA;EACA,eAAA;EACA,8FAAA;AAHF;AAKE;EAAA;IACE,mCAAA;EAFF;AACF;AAKA;EACE,sBAAA;EACA,mEAAA;EACA,aAAA;EACA,uBAAA;EACA,wCAAA;EACA,6CAAA;EACA,yCAAA;AAHF;AAMA;EACE,uBAAA;EACA,mEAAA;AAJF;AAME;EAAA;IACE,wCAAA;EAHF;AACF;AAMA;EACE,qCAAA;EACA,kDAAA;EACA,iDAAA;EACA,0DAAA;AAJF;AAAA;EAMI,sCAAA;AAHJ;AAOA;EACE,YAAA;EACA,WAAA;EACA,kBAAA;EACA,MAAA;EACA,QAAA;EACA,SAAA;EACA,OAAA;EACA,aAAA;EACA,uBAAA;EACA,mBAAA;AALF;AAQA;EACE,kBAAA;AANF",sourcesContent:['@import "../../constants/breakpoints.less";\n\n.wrapper {\n  position: relative;\n  background: var(--common-wrapper-background);\n  color: var(--common-wrapper-text-color);\n\n  &.loading {\n    min-height: 50vh;\n  }\n\n  a {\n    color: var(--common-color-link);\n  }\n}\n\n.wide-wrapper {\n  position: relative;\n}\n\n.inner-wrapper {\n  padding: var(--foundation-spacing-x6) 0;\n  margin: 0 auto;\n  width: 100%;\n  position: relative;\n\n  @media @medium {\n    padding: var(--foundation-spacing-x10) 0;\n  }\n}\n\n.all-content {\n  position: relative;\n  z-index: 5;\n}\n.hero-image-wrapper {\n  background-size: cover;\n  background-position: top center;\n}\n\n.hero-image {\n  z-index: 1;\n  width: 100%;\n  height: 30vh;\n  left: 0;\n  top: 0;\n  * > {\n    object-fit: contain;\n    width: 100%;\n    max-height: 30vh;\n  }\n}\n\n.sticky-bar {\n  position: fixed;\n  top: calc(var(--common-main-navigation-height) + var(--foundation-spacing-x2));\n  right: 0;\n  background: var(--foundation-color-primary-700);\n  color: var(--foundation-color-primary-100);\n  padding: var(--foundation-spacing-x2);\n  z-index: 100;\n  text-align: end;\n  border-radius: var(--foundation-border-radius-xs) 0rem 0rem var(--foundation-border-radius-xs);\n\n  @media @large {\n    right: var(--foundation-spacing-x8);\n  }\n}\n\n.purchase-flow-headline {\n  padding: 1rem 0 1rem 0;\n  margin: 0 var(--foundation-spacing-x6) var(--foundation-spacing-x1);\n  display: flex;\n  justify-content: center;\n  color: var(--common-colors-font-heading);\n  text-shadow: var(--heading-text-shadow, none);\n  animation: var(--heading-animation, none);\n}\n\n.intro-wrapper {\n  background: transparent;\n  margin: 0 var(--foundation-spacing-x2) var(--foundation-spacing-x4);\n\n  @media @medium {\n    margin: 0 0 var(--foundation-spacing-x4);\n  }\n}\n\n.description {\n  padding: var(--foundation-spacing-x4);\n  background: var(--component-text-block-background);\n  border-radius: var(--foundation-border-radius-xs);\n  border: 0.0625rem solid var(--common-wrapper-border-color);\n  :global(.paragraph) {\n    margin: var(--foundation-spacing-x1) 0;\n  }\n}\n\n.loader {\n  height: 100%;\n  width: 100%;\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n\n.loader-text {\n  width: min-content;\n}\n'],sourceRoot:""}]),___CSS_LOADER_EXPORT___.locals={wrapper:"group-admission-module--wrapper--SRmFZ",loading:"group-admission-module--loading--mh2m8","wide-wrapper":"group-admission-module--wide-wrapper--UBo21",wideWrapper:"group-admission-module--wide-wrapper--UBo21","inner-wrapper":"group-admission-module--inner-wrapper--PSh0o",innerWrapper:"group-admission-module--inner-wrapper--PSh0o","all-content":"group-admission-module--all-content--dPtbn",allContent:"group-admission-module--all-content--dPtbn","hero-image-wrapper":"group-admission-module--hero-image-wrapper--Umzsr",heroImageWrapper:"group-admission-module--hero-image-wrapper--Umzsr","hero-image":"group-admission-module--hero-image--uXXFc",heroImage:"group-admission-module--hero-image--uXXFc","sticky-bar":"group-admission-module--sticky-bar--kLZ6l",stickyBar:"group-admission-module--sticky-bar--kLZ6l","purchase-flow-headline":"group-admission-module--purchase-flow-headline--qrl8E",purchaseFlowHeadline:"group-admission-module--purchase-flow-headline--qrl8E","intro-wrapper":"group-admission-module--intro-wrapper--ENxQj",introWrapper:"group-admission-module--intro-wrapper--ENxQj",description:"group-admission-module--description--MlC5e",loader:"group-admission-module--loader--yqVXG","loader-text":"group-admission-module--loader-text--Jvzue",loaderText:"group-admission-module--loader-text--Jvzue"};const __WEBPACK_DEFAULT_EXPORT__=___CSS_LOADER_EXPORT___},"./node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[16].use[1]!./node_modules/postcss-loader/dist/cjs.js!./node_modules/less-loader/dist/cjs.js!./src/components/group-admission/steps/group-size/group-size.module.less":(module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/css-loader/dist/runtime/sourceMaps.js"),_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__),_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js"),___CSS_LOADER_EXPORT___=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__)()(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default());___CSS_LOADER_EXPORT___.push([module.id,".group-size-module--categories--hSVBP {\n  display: flex;\n  flex-flow: column;\n  padding: var(--foundation-spacing-x4);\n}\n.group-size-module--category--IrjAB {\n  margin-bottom: var(--foundation-spacing-x2);\n}\n.group-size-module--category--IrjAB:last-of-type {\n  margin-bottom: 0;\n}\n","",{version:3,sources:["webpack://./src/components/group-admission/steps/group-size/group-size.module.less"],names:[],mappings:"AAAA;EACE,aAAA;EACA,iBAAA;EACA,qCAAA;AACF;AAEA;EACE,2CAAA;AAAF;AAEE;EACE,gBAAA;AAAJ",sourcesContent:[".categories {\n  display: flex;\n  flex-flow: column;\n  padding: var(--foundation-spacing-x4);\n}\n\n.category {\n  margin-bottom: var(--foundation-spacing-x2);\n\n  &:last-of-type {\n    margin-bottom: 0;\n  }\n}\n"],sourceRoot:""}]),___CSS_LOADER_EXPORT___.locals={categories:"group-size-module--categories--hSVBP",category:"group-size-module--category--IrjAB"};const __WEBPACK_DEFAULT_EXPORT__=___CSS_LOADER_EXPORT___},"./node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[16].use[1]!./node_modules/postcss-loader/dist/cjs.js!./node_modules/less-loader/dist/cjs.js!./src/components/group-admission/steps/group-size/promotion-banner/promotion-banner.module.less":(module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/css-loader/dist/runtime/sourceMaps.js"),_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__),_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js"),___CSS_LOADER_EXPORT___=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__)()(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default());___CSS_LOADER_EXPORT___.push([module.id,"/* Breakpoints for responsive design\n   IMPORTANT! Make sure to keep these in sync with the breakpoints in ts file (used by hooks) (src\\constants\\breakpoints.ts)\n   IMPORTANT! useIsMobile() hook uses these breakpoints to determine if the device is mobile or not, make sure to update the hook if you change these breakpoints\n */\n.promotion-banner-module--banner-wrapper--cByYX {\n  width: 100%;\n  margin: var(--foundation-spacing-x4) 0;\n  display: flex;\n  flex-flow: row;\n  justify-content: space-between;\n  overflow: hidden;\n  border-radius: var(--foundation-border-radius-xs);\n  background-color: var(--common-promotion-banner-background, var(--primary-btn-text));\n  border: 0.0625rem solid var(--common-wrapper-border-color);\n}\n.promotion-banner-module--banner-wrapper--cByYX.promotion-banner-module--dark--xXDqR {\n  background: var(--text-color-75);\n}\n.promotion-banner-module--banner-wrapper--cByYX.promotion-banner-module--dark--xXDqR .promotion-banner-module--banner-text--ETAyi {\n  color: var(--primary-btn-text);\n}\n.promotion-banner-module--banner-text--ETAyi {\n  padding: var(--foundation-spacing-x4);\n  display: flex;\n  align-items: center;\n}\n.promotion-banner-module--banner-text--ETAyi > * p {\n  margin: 0;\n}\n.promotion-banner-module--banner-image--SG5Z4 {\n  width: 5rem;\n  object-fit: contain;\n  margin-right: 0.75rem;\n}\n","",{version:3,sources:["webpack://./src/components/group-admission/steps/group-size/promotion-banner/promotion-banner.module.less"],names:[],mappings:"AAAA;;;EAGE;AADF;EACE,WAAA;EACA,sCAAA;EACA,aAAA;EACA,cAAA;EACA,8BAAA;EACA,gBAAA;EACA,iDAAA;EACA,oFAAA;EACA,0DAAA;AAGF;AADE;EACE,gCAAA;AAGJ;AAJE;EAGI,8BAAA;AAIN;AACA;EACE,qCAAA;EACA,aAAA;EACA,mBAAA;AACF;AAJA;EAKI,SAAA;AAEJ;AAEA;EACE,WAAA;EACA,mBAAA;EACA,qBAAA;AAAF",sourcesContent:['@import "../../../../../constants/breakpoints.less";\n\n.banner-wrapper {\n  width: 100%;\n  margin: var(--foundation-spacing-x4) 0;\n  display: flex;\n  flex-flow: row;\n  justify-content: space-between;\n  overflow: hidden;\n  border-radius: var(--foundation-border-radius-xs);\n  background-color: var(--common-promotion-banner-background, var(--primary-btn-text));\n  border: 0.0625rem solid var(--common-wrapper-border-color);\n\n  &.dark {\n    background: var(--text-color-75);\n    .banner-text {\n      color: var(--primary-btn-text);\n    }\n  }\n}\n\n.banner-text {\n  padding: var(--foundation-spacing-x4);\n  display: flex;\n  align-items: center;\n  > * p {\n    margin: 0;\n  }\n}\n\n.banner-image {\n  width: 5rem;\n  object-fit: contain;\n  margin-right: 0.75rem;\n}\n'],sourceRoot:""}]),___CSS_LOADER_EXPORT___.locals={"banner-wrapper":"promotion-banner-module--banner-wrapper--cByYX",bannerWrapper:"promotion-banner-module--banner-wrapper--cByYX",dark:"promotion-banner-module--dark--xXDqR","banner-text":"promotion-banner-module--banner-text--ETAyi",bannerText:"promotion-banner-module--banner-text--ETAyi","banner-image":"promotion-banner-module--banner-image--SG5Z4",bannerImage:"promotion-banner-module--banner-image--SG5Z4"};const __WEBPACK_DEFAULT_EXPORT__=___CSS_LOADER_EXPORT___},"./node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[16].use[1]!./node_modules/postcss-loader/dist/cjs.js!./node_modules/less-loader/dist/cjs.js!./src/components/group-admission/steps/select-entry-time/select-entry-time.module.less":(module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/css-loader/dist/runtime/sourceMaps.js"),_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__),_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js"),___CSS_LOADER_EXPORT___=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__)()(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default());___CSS_LOADER_EXPORT___.push([module.id,".select-entry-time-module--wrapper--uCwAr {\n  padding: 1.5rem;\n  color: var(--text-color);\n  position: relative;\n}\n.select-entry-time-module--inner-wrapper--VyOp_.select-entry-time-module--faded--E6RBn {\n  opacity: 0.2;\n}\n.select-entry-time-module--heading--imwv6 {\n  font-weight: var(--common-font-weight-xl);\n  margin: 0 0 0.75rem 0;\n}\n.select-entry-time-module--description--uyVEQ {\n  margin: 0 0 1.5rem 0;\n}\n.select-entry-time-module--loader--qwUsd {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  padding: 1.5rem;\n  text-align: center;\n}\n.select-entry-time-module--information-modal-list--OriyP {\n  padding: 0 0 0 1rem;\n  list-style: none;\n  text-align: left;\n}\n.select-entry-time-module--information-modal-list-item--VXExc {\n  margin: 0.25rem 0;\n  color: var(--text-color-75);\n}\n","",{version:3,sources:["webpack://./src/components/group-admission/steps/select-entry-time/select-entry-time.module.less"],names:[],mappings:"AAAA;EACE,eAAA;EACA,wBAAA;EACA,kBAAA;AACF;AAGE;EACE,YAAA;AADJ;AAKA;EACE,yCAAA;EACA,qBAAA;AAHF;AAMA;EACE,oBAAA;AAJF;AAOA;EACE,kBAAA;EACA,MAAA;EACA,QAAA;EACA,SAAA;EACA,OAAA;EACA,aAAA;EACA,sBAAA;EACA,uBAAA;EACA,mBAAA;EACA,eAAA;EACA,kBAAA;AALF;AAWA;EACE,mBAAA;EACA,gBAAA;EACA,gBAAA;AATF;AAWA;EACE,iBAAA;EACA,2BAAA;AATF",sourcesContent:[".wrapper {\n  padding: 1.5rem;\n  color: var(--text-color);\n  position: relative;\n}\n\n.inner-wrapper {\n  &.faded {\n    opacity: 0.2;\n  }\n}\n\n.heading {\n  font-weight: var(--common-font-weight-xl);\n  margin: 0 0 0.75rem 0;\n}\n\n.description {\n  margin: 0 0 1.5rem 0;\n}\n\n.loader {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  padding: 1.5rem;\n  text-align: center;\n}\n\n.information-modal-body-wrapper {\n}\n// .information-modal-body-text {}\n.information-modal-list {\n  padding: 0 0 0 1rem;\n  list-style: none;\n  text-align: left;\n}\n.information-modal-list-item {\n  margin: 0.25rem 0;\n  color: var(--text-color-75);\n}\n"],sourceRoot:""}]),___CSS_LOADER_EXPORT___.locals={wrapper:"select-entry-time-module--wrapper--uCwAr","inner-wrapper":"select-entry-time-module--inner-wrapper--VyOp_",innerWrapper:"select-entry-time-module--inner-wrapper--VyOp_",faded:"select-entry-time-module--faded--E6RBn",heading:"select-entry-time-module--heading--imwv6",description:"select-entry-time-module--description--uyVEQ",loader:"select-entry-time-module--loader--qwUsd","information-modal-list":"select-entry-time-module--information-modal-list--OriyP",informationModalList:"select-entry-time-module--information-modal-list--OriyP","information-modal-list-item":"select-entry-time-module--information-modal-list-item--VXExc",informationModalListItem:"select-entry-time-module--information-modal-list-item--VXExc"};const __WEBPACK_DEFAULT_EXPORT__=___CSS_LOADER_EXPORT___},"./node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[16].use[1]!./node_modules/postcss-loader/dist/cjs.js!./node_modules/less-loader/dist/cjs.js!./src/components/group-admission/steps/select-jetpass/select-jetpass.module.less":(module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/css-loader/dist/runtime/sourceMaps.js"),_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__),_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js"),___CSS_LOADER_EXPORT___=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__)()(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default());___CSS_LOADER_EXPORT___.push([module.id,"/* Breakpoints for responsive design\n   IMPORTANT! Make sure to keep these in sync with the breakpoints in ts file (used by hooks) (src\\constants\\breakpoints.ts)\n   IMPORTANT! useIsMobile() hook uses these breakpoints to determine if the device is mobile or not, make sure to update the hook if you change these breakpoints\n */\n.select-jetpass-module--wrapper--Io3qH {\n  color: var(--text-color);\n}\n.select-jetpass-module--heading--l2siG {\n  font-weight: var(--common-font-weight-xl);\n  margin: 0 0 0.75rem 0;\n}\n.select-jetpass-module--description--X0wrd {\n  margin: 0 0 1.5rem 0;\n}\n.select-jetpass-module--guest-list--dJepR {\n  padding: 0 0 1rem;\n  list-style: none;\n}\n.select-jetpass-module--guest-list-item--kqrC4 {\n  border-bottom: 0.0625rem solid var(--text-color-25);\n  padding: 0.5rem 0;\n  list-style: none;\n}\n.select-jetpass-module--guest-list-item--kqrC4:first-of-type {\n  padding-top: 0;\n}\n.select-jetpass-module--guest-list-item--kqrC4:last-of-type {\n  border-bottom: none;\n}\n.select-jetpass-module--pass-row--Gh0qF,\n.select-jetpass-module--guest-name--kQrcH {\n  margin: 0.25rem 0;\n  color: var(--text-color-75);\n}\n.select-jetpass-module--pass-list--yNA8x {\n  padding: 0 0 0 1rem;\n  list-style: none;\n}\n.select-jetpass-module--button-wrapper--F4asJ {\n  padding: 1rem 0;\n  display: flex;\n}\n.select-jetpass-module--button-wrapper--F4asJ .select-jetpass-module--prev-button--j5xh_ {\n  margin-right: 1rem;\n}\n.select-jetpass-module--skip-step-button--MlLpf {\n  font-size: 0.875rem;\n}\n","",{version:3,sources:["webpack://./src/components/group-admission/steps/select-jetpass/select-jetpass.module.less"],names:[],mappings:"AAAA;;;EAGE;AADF;EACE,wBAAA;AAGF;AAAA;EACE,yCAAA;EACA,qBAAA;AAEF;AACA;EACE,oBAAA;AACF;AAEA;EACE,iBAAA;EACA,gBAAA;AAAF;AAGA;EACE,mDAAA;EACA,iBAAA;EACA,gBAAA;AADF;AAGE;EACE,cAAA;AADJ;AAGE;EACE,mBAAA;AADJ;AAKA;;EAEE,iBAAA;EACA,2BAAA;AAHF;AAMA;EACE,mBAAA;EACA,gBAAA;AAJF;AAOA;EACE,eAAA;EACA,aAAA;AALF;AAGA;EAKI,kBAAA;AALJ;AASA;EACE,mBAAA;AAPF",sourcesContent:['@import "../../../../constants/breakpoints.less";\n\n.wrapper {\n  color: var(--text-color);\n}\n\n.heading {\n  font-weight: var(--common-font-weight-xl);\n  margin: 0 0 0.75rem 0;\n}\n\n.description {\n  margin: 0 0 1.5rem 0;\n}\n\n.guest-list {\n  padding: 0 0 1rem;\n  list-style: none;\n}\n\n.guest-list-item {\n  border-bottom: 0.0625rem solid var(--text-color-25);\n  padding: 0.5rem 0;\n  list-style: none;\n\n  &:first-of-type {\n    padding-top: 0;\n  }\n  &:last-of-type {\n    border-bottom: none;\n  }\n}\n\n.pass-row,\n.guest-name {\n  margin: 0.25rem 0;\n  color: var(--text-color-75);\n}\n\n.pass-list {\n  padding: 0 0 0 1rem;\n  list-style: none;\n}\n\n.button-wrapper {\n  padding: 1rem 0;\n  display: flex;\n\n  .prev-button {\n    margin-right: 1rem;\n  }\n}\n\n.skip-step-button {\n  font-size: 0.875rem;\n}\n'],sourceRoot:""}]),___CSS_LOADER_EXPORT___.locals={wrapper:"select-jetpass-module--wrapper--Io3qH",heading:"select-jetpass-module--heading--l2siG",description:"select-jetpass-module--description--X0wrd","guest-list":"select-jetpass-module--guest-list--dJepR",guestList:"select-jetpass-module--guest-list--dJepR","guest-list-item":"select-jetpass-module--guest-list-item--kqrC4",guestListItem:"select-jetpass-module--guest-list-item--kqrC4","pass-row":"select-jetpass-module--pass-row--Gh0qF",passRow:"select-jetpass-module--pass-row--Gh0qF","guest-name":"select-jetpass-module--guest-name--kQrcH",guestName:"select-jetpass-module--guest-name--kQrcH","pass-list":"select-jetpass-module--pass-list--yNA8x",passList:"select-jetpass-module--pass-list--yNA8x","button-wrapper":"select-jetpass-module--button-wrapper--F4asJ",buttonWrapper:"select-jetpass-module--button-wrapper--F4asJ","prev-button":"select-jetpass-module--prev-button--j5xh_",prevButton:"select-jetpass-module--prev-button--j5xh_","skip-step-button":"select-jetpass-module--skip-step-button--MlLpf",skipStepButton:"select-jetpass-module--skip-step-button--MlLpf"};const __WEBPACK_DEFAULT_EXPORT__=___CSS_LOADER_EXPORT___},"./node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[16].use[1]!./node_modules/postcss-loader/dist/cjs.js!./node_modules/less-loader/dist/cjs.js!./src/components/group-admission/steps/select-mandatory-jetpass/mandatory-jetpass-card/mandatory-jetpass-card.module.less":(module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/css-loader/dist/runtime/sourceMaps.js"),_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__),_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js"),___CSS_LOADER_EXPORT___=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__)()(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default());___CSS_LOADER_EXPORT___.push([module.id,".mandatory-jetpass-card-module--wrapper--GNkxv {\n  position: relative;\n  margin-bottom: 1rem;\n}\n.mandatory-jetpass-card-module--border--wiLKm {\n  background: var(--card-border, var(--primary));\n  border-radius: var(--foundation-border-radius-xs);\n  padding: 0.0625rem;\n  z-index: 1;\n}\n.mandatory-jetpass-card-module--selected-outline--MRsgd {\n  position: absolute;\n  z-index: 2;\n  background: var(--card-border-selected, var(--primary));\n  border-radius: 0.5rem;\n  top: -0.25rem;\n  right: -0.25rem;\n  bottom: -0.25rem;\n  left: -0.25rem;\n  opacity: 0;\n}\n.mandatory-jetpass-card-module--selected-outline--MRsgd.mandatory-jetpass-card-module--selected--Im7Ab {\n  opacity: 1;\n}\n.mandatory-jetpass-card-module--inner-wrapper--F9hkW {\n  position: relative;\n  z-index: 3;\n  display: flex;\n  flex-direction: column;\n  background: var(--card-background);\n  border-radius: var(--foundation-border-radius-xs);\n}\n.mandatory-jetpass-card-module--top-wrapper--GUOlB {\n  padding: 0.5rem;\n}\n.mandatory-jetpass-card-module--image-container--LN6is {\n  display: flex;\n  flex-direction: row;\n  margin-bottom: 0.5rem;\n}\n.mandatory-jetpass-card-module--image--zWrjL {\n  object-fit: cover;\n  object-position: center center;\n  width: 100%;\n  height: 11.25rem;\n  border-radius: var(--foundation-border-radius-xs);\n}\n.mandatory-jetpass-card-module--text-wrapper--TVW52 {\n  display: flex;\n  flex-direction: column;\n  padding: 0.5rem;\n}\n.mandatory-jetpass-card-module--text-wrapper--TVW52 h3,\n.mandatory-jetpass-card-module--text-wrapper--TVW52 p {\n  margin: 0;\n}\n.mandatory-jetpass-card-module--text-wrapper--TVW52 h3 {\n  margin-bottom: 0.25rem;\n}\n.mandatory-jetpass-card-module--select-button--O_X6N {\n  margin-top: 1rem;\n}\n.mandatory-jetpass-card-module--details-wrapper--XroFZ {\n  padding: 1.25rem;\n  border-top: 0.0625rem solid var(--secondary-50);\n}\n.mandatory-jetpass-card-module--expand-wrapper--rb1sR {\n  overflow: hidden;\n}\n.mandatory-jetpass-card-module--expand-inner-wrapper--Y72eF {\n  background-color: var(--modal-background, var(--primary-background));\n  margin-top: 1rem;\n}\n.mandatory-jetpass-card-module--expand-inner-wrapper--Y72eF p {\n  margin: 0;\n  padding: 1rem;\n}\n.mandatory-jetpass-card-module--expand-button--kfqv7 {\n  -webkit-appearance: none;\n  background-color: transparent;\n  display: flex;\n  align-items: center;\n  border: 0;\n  padding: 0;\n  margin-top: auto;\n}\n.mandatory-jetpass-card-module--icon-wrapper--Yl3qk {\n  display: flex;\n  margin-right: 0.25rem;\n}\n.mandatory-jetpass-card-module--icon--Tq0HD {\n  display: inline-block;\n}\n.mandatory-jetpass-card-module--expand-button-label--qkFna {\n  text-decoration: underline;\n  margin-left: 0.25rem;\n}\n","",{version:3,sources:["webpack://./src/components/group-admission/steps/select-mandatory-jetpass/mandatory-jetpass-card/mandatory-jetpass-card.module.less"],names:[],mappings:"AAAA;EACE,kBAAA;EACA,mBAAA;AACF;AAIA;EACE,8CAAA;EACA,iDAAA;EACA,kBAAA;EACA,UAAA;AAFF;AAKA;EACE,kBAAA;EACA,UAAA;EACA,uDAAA;EACA,qBAAA;EACA,aAAA;EACA,eAAA;EACA,gBAAA;EACA,cAAA;EACA,UAAA;AAHF;AAIE;EACE,UAAA;AAFJ;AAMA;EACE,kBAAA;EACA,UAAA;EACA,aAAA;EACA,sBAAA;EACA,kCAAA;EACA,iDAAA;AAJF;AAOA;EACE,eAAA;AALF;AAQA;EACE,aAAA;EACA,mBAAA;EACA,qBAAA;AANF;AASA;EACE,iBAAA;EACA,8BAAA;EACA,WAAA;EACA,gBAAA;EACA,iDAAA;AAPF;AAUA;EACE,aAAA;EACA,sBAAA;EACA,eAAA;AARF;AAKA;;EAMI,SAAA;AAPJ;AACA;EASI,sBAAA;AAPJ;AAWA;EACE,gBAAA;AATF;AAYA;EACE,gBAAA;EACA,+CAAA;AAVF;AAaA;EACE,gBAAA;AAXF;AAcA;EACE,oEAAA;EACA,gBAAA;AAZF;AAUA;EAII,SAAA;EACA,aAAA;AAXJ;AAeA;EACE,wBAAA;EACA,6BAAA;EACA,aAAA;EACA,mBAAA;EACA,SAAA;EACA,UAAA;EACA,gBAAA;AAbF;AAgBA;EACE,aAAA;EACA,qBAAA;AAdF;AAiBA;EACE,qBAAA;AAfF;AAkBA;EACE,0BAAA;EACA,oBAAA;AAhBF",sourcesContent:[".wrapper {\n  position: relative;\n  margin-bottom: 1rem;\n}\n\n@selectedBorderWidth: -0.25rem;\n\n.border {\n  background: var(--card-border, var(--primary));\n  border-radius: var(--foundation-border-radius-xs);\n  padding: 0.0625rem;\n  z-index: 1;\n}\n\n.selected-outline {\n  position: absolute;\n  z-index: 2;\n  background: var(--card-border-selected, var(--primary));\n  border-radius: 0.5rem;\n  top: @selectedBorderWidth;\n  right: @selectedBorderWidth;\n  bottom: @selectedBorderWidth;\n  left: @selectedBorderWidth;\n  opacity: 0;\n  &.selected {\n    opacity: 1;\n  }\n}\n\n.inner-wrapper {\n  position: relative;\n  z-index: 3;\n  display: flex;\n  flex-direction: column;\n  background: var(--card-background);\n  border-radius: var(--foundation-border-radius-xs);\n}\n\n.top-wrapper {\n  padding: 0.5rem;\n}\n\n.image-container {\n  display: flex;\n  flex-direction: row;\n  margin-bottom: 0.5rem;\n}\n\n.image {\n  object-fit: cover;\n  object-position: center center;\n  width: 100%;\n  height: 11.25rem;\n  border-radius: var(--foundation-border-radius-xs);\n}\n\n.text-wrapper {\n  display: flex;\n  flex-direction: column;\n  padding: 0.5rem;\n  h3,\n  p {\n    margin: 0;\n  }\n  h3 {\n    margin-bottom: 0.25rem;\n  }\n}\n\n.select-button {\n  margin-top: 1rem;\n}\n\n.details-wrapper {\n  padding: 1.25rem;\n  border-top: 0.0625rem solid var(--secondary-50);\n}\n\n.expand-wrapper {\n  overflow: hidden;\n}\n\n.expand-inner-wrapper {\n  background-color: var(--modal-background, var(--primary-background));\n  margin-top: 1rem;\n  p {\n    margin: 0;\n    padding: 1rem;\n  }\n}\n\n.expand-button {\n  -webkit-appearance: none;\n  background-color: transparent;\n  display: flex;\n  align-items: center;\n  border: 0;\n  padding: 0;\n  margin-top: auto;\n}\n\n.icon-wrapper {\n  display: flex;\n  margin-right: 0.25rem;\n}\n\n.icon {\n  display: inline-block;\n}\n\n.expand-button-label {\n  text-decoration: underline;\n  margin-left: 0.25rem;\n}\n"],sourceRoot:""}]),___CSS_LOADER_EXPORT___.locals={wrapper:"mandatory-jetpass-card-module--wrapper--GNkxv",border:"mandatory-jetpass-card-module--border--wiLKm","selected-outline":"mandatory-jetpass-card-module--selected-outline--MRsgd",selectedOutline:"mandatory-jetpass-card-module--selected-outline--MRsgd",selected:"mandatory-jetpass-card-module--selected--Im7Ab","inner-wrapper":"mandatory-jetpass-card-module--inner-wrapper--F9hkW",innerWrapper:"mandatory-jetpass-card-module--inner-wrapper--F9hkW","top-wrapper":"mandatory-jetpass-card-module--top-wrapper--GUOlB",topWrapper:"mandatory-jetpass-card-module--top-wrapper--GUOlB","image-container":"mandatory-jetpass-card-module--image-container--LN6is",imageContainer:"mandatory-jetpass-card-module--image-container--LN6is",image:"mandatory-jetpass-card-module--image--zWrjL","text-wrapper":"mandatory-jetpass-card-module--text-wrapper--TVW52",textWrapper:"mandatory-jetpass-card-module--text-wrapper--TVW52","select-button":"mandatory-jetpass-card-module--select-button--O_X6N",selectButton:"mandatory-jetpass-card-module--select-button--O_X6N","details-wrapper":"mandatory-jetpass-card-module--details-wrapper--XroFZ",detailsWrapper:"mandatory-jetpass-card-module--details-wrapper--XroFZ","expand-wrapper":"mandatory-jetpass-card-module--expand-wrapper--rb1sR",expandWrapper:"mandatory-jetpass-card-module--expand-wrapper--rb1sR","expand-inner-wrapper":"mandatory-jetpass-card-module--expand-inner-wrapper--Y72eF",expandInnerWrapper:"mandatory-jetpass-card-module--expand-inner-wrapper--Y72eF","expand-button":"mandatory-jetpass-card-module--expand-button--kfqv7",expandButton:"mandatory-jetpass-card-module--expand-button--kfqv7","icon-wrapper":"mandatory-jetpass-card-module--icon-wrapper--Yl3qk",iconWrapper:"mandatory-jetpass-card-module--icon-wrapper--Yl3qk",icon:"mandatory-jetpass-card-module--icon--Tq0HD","expand-button-label":"mandatory-jetpass-card-module--expand-button-label--qkFna",expandButtonLabel:"mandatory-jetpass-card-module--expand-button-label--qkFna"};const __WEBPACK_DEFAULT_EXPORT__=___CSS_LOADER_EXPORT___},"./node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[16].use[1]!./node_modules/postcss-loader/dist/cjs.js!./node_modules/less-loader/dist/cjs.js!./src/components/group-admission/steps/select-mandatory-jetpass/select-mandatory-jetpass.module.less":(module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/css-loader/dist/runtime/sourceMaps.js"),_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__),_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js"),___CSS_LOADER_EXPORT___=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__)()(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default());___CSS_LOADER_EXPORT___.push([module.id,".select-mandatory-jetpass-module--wrapper--boLzf {\n  padding: 1.5rem 1.5rem 0 1.5rem;\n}\n.select-mandatory-jetpass-module--ride-list--nGQJv {\n  padding: 0;\n  margin: 0;\n  list-style: none;\n}\n","",{version:3,sources:["webpack://./src/components/group-admission/steps/select-mandatory-jetpass/select-mandatory-jetpass.module.less"],names:[],mappings:"AAAA;EACE,+BAAA;AACF;AAEA;EACE,UAAA;EACA,SAAA;EACA,gBAAA;AAAF",sourcesContent:[".wrapper {\n  padding: 1.5rem 1.5rem 0 1.5rem;\n}\n\n.ride-list {\n  padding: 0;\n  margin: 0;\n  list-style: none;\n}\n"],sourceRoot:""}]),___CSS_LOADER_EXPORT___.locals={wrapper:"select-mandatory-jetpass-module--wrapper--boLzf","ride-list":"select-mandatory-jetpass-module--ride-list--nGQJv",rideList:"select-mandatory-jetpass-module--ride-list--nGQJv"};const __WEBPACK_DEFAULT_EXPORT__=___CSS_LOADER_EXPORT___},"./node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[16].use[1]!./node_modules/postcss-loader/dist/cjs.js!./node_modules/less-loader/dist/cjs.js!./src/components/group-admission/steps/step-wrapper.module.less":(module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/css-loader/dist/runtime/sourceMaps.js"),_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__),_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js"),___CSS_LOADER_EXPORT___=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__)()(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default());___CSS_LOADER_EXPORT___.push([module.id,"/* Breakpoints for responsive design\n   IMPORTANT! Make sure to keep these in sync with the breakpoints in ts file (used by hooks) (src\\constants\\breakpoints.ts)\n   IMPORTANT! useIsMobile() hook uses these breakpoints to determine if the device is mobile or not, make sure to update the hook if you change these breakpoints\n */\n.step-wrapper-module--wrapper--FLtBo {\n  width: 100%;\n  padding: var(--foundation-spacing-x4) var(--foundation-spacing-x2) 0;\n}\n.step-wrapper-module--wrapper--FLtBo.step-wrapper-module--no-side-padding--xF1g_ {\n  padding: var(--foundation-spacing-x4) 0 0;\n}\n@media (min-width: 48rem) {\n  .step-wrapper-module--wrapper--FLtBo {\n    padding: var(--foundation-spacing-x4) 0 0;\n  }\n}\n.step-wrapper-module--header--R2JS5 {\n  min-height: 2.75rem;\n  display: flex;\n  flex-flow: row;\n  align-items: flex-start;\n}\n.step-wrapper-module--header--R2JS5.step-wrapper-module--is-upcoming-step--jxI3o {\n  height: auto;\n}\n.step-wrapper-module--header--R2JS5.step-wrapper-module--is-upcoming-step--jxI3o .step-wrapper-module--header-title--x3pDH {\n  color: var(--common-colors-font-heading);\n}\n.step-wrapper-module--header--R2JS5.step-wrapper-module--completed--OXxrz .step-wrapper-module--header-number--jH7ef {\n  background: var(--component-step-wrapper-background);\n  --icon-color: #fff;\n  border-radius: 50%;\n  margin: var(--foundation-spacing-x05) var(--foundation-spacing-x2) 0 0;\n  min-width: 1.25rem;\n  max-width: 1.25rem;\n  height: 1.25rem;\n  justify-content: center;\n  align-items: center;\n}\n.step-wrapper-module--header--R2JS5.step-wrapper-module--active--jILt9 {\n  color: var(--common-colors-font-heading);\n}\n.step-wrapper-module--header--R2JS5.step-wrapper-module--active--jILt9 .step-wrapper-module--header-title--x3pDH {\n  font-size: 1.3125rem;\n  line-height: 1.75rem;\n}\n.step-wrapper-module--header--R2JS5.step-wrapper-module--active--jILt9 .step-wrapper-module--step-number--oKPm6 {\n  margin-right: 0.375rem;\n}\n@media (max-width: 48rem) {\n  .step-wrapper-module--header--R2JS5.step-wrapper-module--add-side-padding--juuw5 {\n    padding: 0 var(--foundation-spacing-x2);\n  }\n}\n.step-wrapper-module--change-button--PFUBV {\n  background: transparent;\n  color: var(--common-colors-font-heading);\n  text-decoration: none;\n  border-radius: var(--common-button-border-radius);\n  padding: 0.5rem;\n  min-height: 2.125rem;\n  margin-left: auto;\n  display: flex;\n  align-items: center;\n  outline: none;\n  border: 0.125rem solid var(--component-step-wrapper-background);\n  font-size: 0.875rem;\n  line-height: 0.875rem;\n  font-weight: var(--common-font-weight-xl);\n}\n@supports not selector(:focus-visible) {\n  .step-wrapper-module--change-button--PFUBV:focus {\n    border: 0.125rem solid var(--common-colors-font-heading);\n  }\n}\n.step-wrapper-module--change-button--PFUBV:focus-visible {\n  border: 0.125rem solid var(--common-colors-font-heading);\n}\n.step-wrapper-module--header-number--jH7ef {\n  display: flex;\n  font-size: var(--font-large);\n  font-weight: var(--common-font-weight-xl);\n  transition: background 0.2s ease-out;\n}\n.step-wrapper-module--header-title--x3pDH {\n  font-weight: var(--common-font-weight-xl);\n  margin: 0;\n  font-size: 1rem;\n  line-height: 1.375rem;\n}\n.step-wrapper-module--summary--VfjRA {\n  margin: 0;\n}\n.step-wrapper-module--button-wrapper--nynpE {\n  padding: 1rem;\n  display: flex;\n  justify-content: space-between;\n}\n.step-wrapper-module--top-border--dy4Aa {\n  display: flex;\n  border-top: 0.0625rem solid var(--foundation-color-primary-300);\n  margin: 0 1.5rem 1.5rem;\n}\n.step-wrapper-module--bottom-border--XMcHc {\n  display: flex;\n  border-bottom: 0.0625rem solid var(--foundation-color-primary-300);\n  margin: 1.5rem 1.5rem 0.5rem;\n}\n","",{version:3,sources:["webpack://./src/components/group-admission/steps/step-wrapper.module.less"],names:[],mappings:"AAAA;;;EAGE;AADF;EACE,WAAA;EACA,oEAAA;AAGF;AADE;EACE,yCAAA;AAGJ;AAAE;EAAA;IACE,yCAAA;EAGF;AACF;AAAA;EACE,mBAAA;EACA,aAAA;EACA,cAAA;EACA,uBAAA;AAEF;AAAE;EACE,YAAA;AAEJ;AAHE;EAII,wCAAA;AAEN;AAEE;EAEI,oDAAA;EACA,kBAAA;EACA,kBAAA;EACA,sEAAA;EACA,kBAAA;EACA,kBAAA;EACA,eAAA;EACA,uBAAA;EACA,mBAAA;AADN;AAKE;EACE,wCAAA;AAHJ;AAEE;EAII,oBAAA;EACA,oBAAA;AAHN;AAFE;EASI,sBAAA;AAJN;AAQE;EACE;IACE,uCAAA;EANJ;AACF;AAUA;EACE,uBAAA;EACA,wCAAA;EACA,qBAAA;EACA,iDAAA;EACA,eAAA;EACA,oBAAA;EACA,iBAAA;EACA,aAAA;EACA,mBAAA;EACA,aAAA;EACA,+DAAA;EACA,mBAAA;EACA,qBAAA;EACA,yCAAA;AARF;AAWE;EACE;IACE,wDAAA;EATJ;AACF;AAWE;EACE,wDAAA;AATJ;AAaA;EACE,aAAA;EACA,4BAAA;EACA,yCAAA;EACA,oCAAA;AAXF;AAcA;EACE,yCAAA;EACA,SAAA;EACA,eAAA;EACA,qBAAA;AAZF;AAeA;EACE,SAAA;AAbF;AAmBA;EACE,aAAA;EACA,aAAA;EACA,8BAAA;AAjBF;AAoBA;EACE,aAAA;EACA,+DAAA;EACA,uBAAA;AAlBF;AAoBA;EACE,aAAA;EACA,kEAAA;EACA,4BAAA;AAlBF",sourcesContent:['@import "../../../constants/breakpoints.less";\n\n.wrapper {\n  width: 100%;\n  padding: var(--foundation-spacing-x4) var(--foundation-spacing-x2) 0;\n\n  &.no-side-padding {\n    padding: var(--foundation-spacing-x4) 0 0;\n  }\n\n  @media @medium {\n    padding: var(--foundation-spacing-x4) 0 0;\n  }\n}\n\n.header {\n  min-height: 2.75rem;\n  display: flex;\n  flex-flow: row;\n  align-items: flex-start;\n\n  &.is-upcoming-step {\n    height: auto;\n\n    .header-title {\n      color: var(--common-colors-font-heading);\n    }\n  }\n\n  &.completed {\n    .header-number {\n      background: var(--component-step-wrapper-background);\n      --icon-color: #fff;\n      border-radius: 50%;\n      margin: var(--foundation-spacing-x05) var(--foundation-spacing-x2) 0 0;\n      min-width: 1.25rem;\n      max-width: 1.25rem;\n      height: 1.25rem;\n      justify-content: center;\n      align-items: center;\n    }\n  }\n\n  &.active {\n    color: var(--common-colors-font-heading);\n\n    .header-title {\n      font-size: 1.3125rem;\n      line-height: 1.75rem;\n    }\n\n    .step-number {\n      margin-right: 0.375rem;\n    }\n  }\n\n  @media @medium-only {\n    &.add-side-padding {\n      padding: 0 var(--foundation-spacing-x2);\n    }\n  }\n}\n\n.change-button {\n  background: transparent;\n  color: var(--common-colors-font-heading);\n  text-decoration: none;\n  border-radius: var(--common-button-border-radius);\n  padding: 0.5rem;\n  min-height: 2.125rem;\n  margin-left: auto;\n  display: flex;\n  align-items: center;\n  outline: none;\n  border: 0.125rem solid var(--component-step-wrapper-background);\n  font-size: 0.875rem;\n  line-height: 0.875rem;\n  font-weight: var(--common-font-weight-xl);\n\n  // Fallback styles for browsers that doesn\'t support :focus-visible.\n  @supports not selector(:focus-visible) {\n    &:focus {\n      border: 0.125rem solid var(--common-colors-font-heading);\n    }\n  }\n  &:focus-visible {\n    border: 0.125rem solid var(--common-colors-font-heading);\n  }\n}\n\n.header-number {\n  display: flex;\n  font-size: var(--font-large);\n  font-weight: var(--common-font-weight-xl);\n  transition: background 0.2s ease-out;\n}\n\n.header-title {\n  font-weight: var(--common-font-weight-xl);\n  margin: 0;\n  font-size: 1rem;\n  line-height: 1.375rem;\n}\n\n.summary {\n  margin: 0;\n}\n\n.content-wrapper {\n}\n\n.button-wrapper {\n  padding: 1rem;\n  display: flex;\n  justify-content: space-between;\n}\n\n.top-border {\n  display: flex;\n  border-top: 0.0625rem solid var(--foundation-color-primary-300);\n  margin: 0 1.5rem 1.5rem;\n}\n.bottom-border {\n  display: flex;\n  border-bottom: 0.0625rem solid var(--foundation-color-primary-300);\n  margin: 1.5rem 1.5rem 0.5rem;\n}\n'],sourceRoot:""}]),___CSS_LOADER_EXPORT___.locals={wrapper:"step-wrapper-module--wrapper--FLtBo","no-side-padding":"step-wrapper-module--no-side-padding--xF1g_",noSidePadding:"step-wrapper-module--no-side-padding--xF1g_",header:"step-wrapper-module--header--R2JS5","is-upcoming-step":"step-wrapper-module--is-upcoming-step--jxI3o",isUpcomingStep:"step-wrapper-module--is-upcoming-step--jxI3o","header-title":"step-wrapper-module--header-title--x3pDH",headerTitle:"step-wrapper-module--header-title--x3pDH",completed:"step-wrapper-module--completed--OXxrz","header-number":"step-wrapper-module--header-number--jH7ef",headerNumber:"step-wrapper-module--header-number--jH7ef",active:"step-wrapper-module--active--jILt9","step-number":"step-wrapper-module--step-number--oKPm6",stepNumber:"step-wrapper-module--step-number--oKPm6","add-side-padding":"step-wrapper-module--add-side-padding--juuw5",addSidePadding:"step-wrapper-module--add-side-padding--juuw5","change-button":"step-wrapper-module--change-button--PFUBV",changeButton:"step-wrapper-module--change-button--PFUBV",summary:"step-wrapper-module--summary--VfjRA","button-wrapper":"step-wrapper-module--button-wrapper--nynpE",buttonWrapper:"step-wrapper-module--button-wrapper--nynpE","top-border":"step-wrapper-module--top-border--dy4Aa",topBorder:"step-wrapper-module--top-border--dy4Aa","bottom-border":"step-wrapper-module--bottom-border--XMcHc",bottomBorder:"step-wrapper-module--bottom-border--XMcHc"};const __WEBPACK_DEFAULT_EXPORT__=___CSS_LOADER_EXPORT___},"./node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[16].use[1]!./node_modules/postcss-loader/dist/cjs.js!./node_modules/less-loader/dist/cjs.js!./src/components/group-admission/steps/summary/summary.module.less":(module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/css-loader/dist/runtime/sourceMaps.js"),_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__),_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js"),___CSS_LOADER_EXPORT___=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__)()(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default());___CSS_LOADER_EXPORT___.push([module.id,"/* Breakpoints for responsive design\n   IMPORTANT! Make sure to keep these in sync with the breakpoints in ts file (used by hooks) (src\\constants\\breakpoints.ts)\n   IMPORTANT! useIsMobile() hook uses these breakpoints to determine if the device is mobile or not, make sure to update the hook if you change these breakpoints\n */\n.summary-module--wrapper--ZLgF4 {\n  padding: 0;\n  color: var(--common-wrapper-text-color);\n}\n@media (min-width: 48rem) {\n  .summary-module--wrapper--ZLgF4 {\n    padding: 0 0 1.5rem;\n  }\n}\n.summary-module--summary-total--vKNWR {\n  font-size: 1.3125rem;\n  line-height: 1.75rem;\n  display: flex;\n  justify-content: space-between;\n  padding: 1.25rem 0;\n  font-weight: var(--common-font-weight-xl);\n}\n.summary-module--terms-link--EQta3 {\n  display: inline-block;\n  margin-top: 1.5rem;\n  font-size: 0.875rem;\n  --common-color-link: var(--component-summary-terms-link-color);\n}\n","",{version:3,sources:["webpack://./src/components/group-admission/steps/summary/summary.module.less"],names:[],mappings:"AAAA;;;EAGE;AADF;EACE,UAAA;EACA,uCAAA;AAGF;AADE;EAAA;IACE,mBAAA;EAIF;AACF;AADA;EACE,oBAAA;EACA,oBAAA;EACA,aAAA;EACA,8BAAA;EACA,kBAAA;EACA,yCAAA;AAGF;AAAA;EACE,qBAAA;EACA,kBAAA;EACA,mBAAA;EACA,8DAAA;AAEF",sourcesContent:['@import "../../../../constants/breakpoints.less";\n\n.wrapper {\n  padding: 0;\n  color: var(--common-wrapper-text-color);\n\n  @media @medium {\n    padding: 0 0 1.5rem;\n  }\n}\n\n.summary-total {\n  font-size: 1.3125rem;\n  line-height: 1.75rem;\n  display: flex;\n  justify-content: space-between;\n  padding: 1.25rem 0;\n  font-weight: var(--common-font-weight-xl);\n}\n\n.terms-link {\n  display: inline-block;\n  margin-top: 1.5rem;\n  font-size: 0.875rem;\n  --common-color-link: var(--component-summary-terms-link-color);\n}\n'],sourceRoot:""}]),___CSS_LOADER_EXPORT___.locals={wrapper:"summary-module--wrapper--ZLgF4","summary-total":"summary-module--summary-total--vKNWR",summaryTotal:"summary-module--summary-total--vKNWR","terms-link":"summary-module--terms-link--EQta3",termsLink:"summary-module--terms-link--EQta3"};const __WEBPACK_DEFAULT_EXPORT__=___CSS_LOADER_EXPORT___},"./node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[16].use[1]!./node_modules/postcss-loader/dist/cjs.js!./node_modules/less-loader/dist/cjs.js!./src/components/group-admission/steps/upsell/upsell-list/upsell-list.module.less":(module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/css-loader/dist/runtime/sourceMaps.js"),_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__),_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js"),___CSS_LOADER_EXPORT___=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__)()(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default());___CSS_LOADER_EXPORT___.push([module.id,".upsell-list-module--upsell-list--TE7Hg {\n  margin: var(--foundation-spacing-x4) 0 0;\n  list-style: none;\n  padding: 0;\n}\n","",{version:3,sources:["webpack://./src/components/group-admission/steps/upsell/upsell-list/upsell-list.module.less"],names:[],mappings:"AAAA;EACE,wCAAA;EACA,gBAAA;EACA,UAAA;AACF",sourcesContent:[".upsell-list {\n  margin: var(--foundation-spacing-x4) 0 0;\n  list-style: none;\n  padding: 0;\n}\n"],sourceRoot:""}]),___CSS_LOADER_EXPORT___.locals={"upsell-list":"upsell-list-module--upsell-list--TE7Hg",upsellList:"upsell-list-module--upsell-list--TE7Hg"};const __WEBPACK_DEFAULT_EXPORT__=___CSS_LOADER_EXPORT___},"./node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[16].use[1]!./node_modules/postcss-loader/dist/cjs.js!./node_modules/less-loader/dist/cjs.js!./src/components/group-admission/steps/upsell/upsell.module.less":(module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/css-loader/dist/runtime/sourceMaps.js"),_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__),_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js"),___CSS_LOADER_EXPORT___=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__)()(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default());___CSS_LOADER_EXPORT___.push([module.id,"/* Breakpoints for responsive design\n   IMPORTANT! Make sure to keep these in sync with the breakpoints in ts file (used by hooks) (src\\constants\\breakpoints.ts)\n   IMPORTANT! useIsMobile() hook uses these breakpoints to determine if the device is mobile or not, make sure to update the hook if you change these breakpoints\n */\n.upsell-module--wrapper--BePkX {\n  position: relative;\n  padding: 0.5rem 0 0;\n  color: var(--text-color);\n}\n.upsell-module--inner-wrapper--cr913.upsell-module--faded--Hd_0c {\n  opacity: 0.2;\n}\n.upsell-module--text-wrapper--hWWby,\n.upsell-module--upsell-item-list-heading--SYJcm {\n  padding: 0 var(--foundation-spacing-x4);\n}\n.upsell-module--heading--kJ2lc {\n  margin: 0 0 0.75rem;\n  font-weight: var(--common-font-weight-xl);\n}\n.upsell-module--description--Q15PE {\n  margin: 0;\n}\n.upsell-module--loader--NUayV {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  padding: 1.5rem;\n  text-align: center;\n}\n.upsell-module--upsell-item-list-heading--SYJcm {\n  margin: var(--foundation-spacing-x8) 0 0;\n}\n.upsell-module--button-wrapper--EJUhn {\n  margin: 0 var(--foundation-spacing-x4);\n}\n","",{version:3,sources:["webpack://./src/components/group-admission/steps/upsell/upsell.module.less"],names:[],mappings:"AAAA;;;EAGE;AADF;EACE,kBAAA;EACA,mBAAA;EACA,wBAAA;AAGF;AACE;EACE,YAAA;AACJ;AAGA;;EAEE,uCAAA;AADF;AAIA;EACE,mBAAA;EACA,yCAAA;AAFF;AAKA;EACE,SAAA;AAHF;AAMA;EACE,kBAAA;EACA,MAAA;EACA,QAAA;EACA,SAAA;EACA,OAAA;EACA,aAAA;EACA,sBAAA;EACA,uBAAA;EACA,mBAAA;EACA,eAAA;EACA,kBAAA;AAJF;AAOA;EACE,wCAAA;AALF;AAQA;EACE,sCAAA;AANF",sourcesContent:['@import "../../../../constants/breakpoints.less";\n\n.wrapper {\n  position: relative;\n  padding: 0.5rem 0 0;\n  color: var(--text-color);\n}\n\n.inner-wrapper {\n  &.faded {\n    opacity: 0.2;\n  }\n}\n\n.text-wrapper,\n.upsell-item-list-heading {\n  padding: 0 var(--foundation-spacing-x4);\n}\n\n.heading {\n  margin: 0 0 0.75rem;\n  font-weight: var(--common-font-weight-xl);\n}\n\n.description {\n  margin: 0;\n}\n\n.loader {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  padding: 1.5rem;\n  text-align: center;\n}\n\n.upsell-item-list-heading {\n  margin: var(--foundation-spacing-x8) 0 0;\n}\n\n.button-wrapper {\n  margin: 0 var(--foundation-spacing-x4);\n}\n'],sourceRoot:""}]),___CSS_LOADER_EXPORT___.locals={wrapper:"upsell-module--wrapper--BePkX","inner-wrapper":"upsell-module--inner-wrapper--cr913",innerWrapper:"upsell-module--inner-wrapper--cr913",faded:"upsell-module--faded--Hd_0c","text-wrapper":"upsell-module--text-wrapper--hWWby",textWrapper:"upsell-module--text-wrapper--hWWby","upsell-item-list-heading":"upsell-module--upsell-item-list-heading--SYJcm",upsellItemListHeading:"upsell-module--upsell-item-list-heading--SYJcm",heading:"upsell-module--heading--kJ2lc",description:"upsell-module--description--Q15PE",loader:"upsell-module--loader--NUayV","button-wrapper":"upsell-module--button-wrapper--EJUhn",buttonWrapper:"upsell-module--button-wrapper--EJUhn"};const __WEBPACK_DEFAULT_EXPORT__=___CSS_LOADER_EXPORT___},"./node_modules/lodash-es/debounce.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>lodash_es_debounce});var isObject=__webpack_require__("./node_modules/lodash-es/isObject.js"),_root=__webpack_require__("./node_modules/lodash-es/_root.js");const lodash_es_now=function(){return _root.Z.Date.now()};var toNumber=__webpack_require__("./node_modules/lodash-es/toNumber.js"),nativeMax=Math.max,nativeMin=Math.min;const lodash_es_debounce=function debounce(func,wait,options){var lastArgs,lastThis,maxWait,result,timerId,lastCallTime,lastInvokeTime=0,leading=!1,maxing=!1,trailing=!0;if("function"!=typeof func)throw new TypeError("Expected a function");function invokeFunc(time){var args=lastArgs,thisArg=lastThis;return lastArgs=lastThis=void 0,lastInvokeTime=time,result=func.apply(thisArg,args)}function leadingEdge(time){return lastInvokeTime=time,timerId=setTimeout(timerExpired,wait),leading?invokeFunc(time):result}function shouldInvoke(time){var timeSinceLastCall=time-lastCallTime;return void 0===lastCallTime||timeSinceLastCall>=wait||timeSinceLastCall<0||maxing&&time-lastInvokeTime>=maxWait}function timerExpired(){var time=lodash_es_now();if(shouldInvoke(time))return trailingEdge(time);timerId=setTimeout(timerExpired,function remainingWait(time){var timeWaiting=wait-(time-lastCallTime);return maxing?nativeMin(timeWaiting,maxWait-(time-lastInvokeTime)):timeWaiting}(time))}function trailingEdge(time){return timerId=void 0,trailing&&lastArgs?invokeFunc(time):(lastArgs=lastThis=void 0,result)}function debounced(){var time=lodash_es_now(),isInvoking=shouldInvoke(time);if(lastArgs=arguments,lastThis=this,lastCallTime=time,isInvoking){if(void 0===timerId)return leadingEdge(lastCallTime);if(maxing)return clearTimeout(timerId),timerId=setTimeout(timerExpired,wait),invokeFunc(lastCallTime)}return void 0===timerId&&(timerId=setTimeout(timerExpired,wait)),result}return wait=(0,toNumber.Z)(wait)||0,(0,isObject.Z)(options)&&(leading=!!options.leading,maxWait=(maxing="maxWait"in options)?nativeMax((0,toNumber.Z)(options.maxWait)||0,wait):maxWait,trailing="trailing"in options?!!options.trailing:trailing),debounced.cancel=function cancel(){void 0!==timerId&&clearTimeout(timerId),lastInvokeTime=0,lastArgs=lastCallTime=lastThis=timerId=void 0},debounced.flush=function flush(){return void 0===timerId?result:trailingEdge(lodash_es_now())},debounced}},"./node_modules/lodash-es/sum.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>lodash_es_sum});const _baseSum=function baseSum(array,iteratee){for(var result,index=-1,length=array.length;++index<length;){var current=iteratee(array[index]);void 0!==current&&(result=void 0===result?current:result+current)}return result};var identity=__webpack_require__("./node_modules/lodash-es/identity.js");const lodash_es_sum=function sum(array){return array&&array.length?_baseSum(array,identity.Z):0}},"./src/components/group-admission/group-admission.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{AdditionalTicketStepProducts:()=>AdditionalTicketStepProducts,CountdownTimer:()=>CountdownTimer,Primary:()=>Primary,ShowEventTextBlock:()=>ShowEventTextBlock,ShowSoldOutEventDateContent:()=>ShowSoldOutEventDateContent,TwoDayTickets:()=>TwoDayTickets,UpsellTheme:()=>UpsellTheme,__namedExportsOrder:()=>__namedExportsOrder,default:()=>group_admission_stories});var react=__webpack_require__("./node_modules/react/index.js"),group_admission_types=__webpack_require__("./src/types/state/group-admission/group-admission-types.ts"),date_helper=__webpack_require__("./src/helpers/date-helper.ts"),array_helper=__webpack_require__("./src/helpers/array-helper.ts"),group_admission_helper=__webpack_require__("./src/helpers/group-admission-helper.ts"),uniqBy=__webpack_require__("./node_modules/lodash-es/uniqBy.js"),uniqueId=__webpack_require__("./node_modules/lodash-es/uniqueId.js"),product_store=__webpack_require__("./src/stores/product-store.ts");function _typeof(o){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function _defineProperty(obj,key,value){return(key=function _toPropertyKey(t){var i=function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==_typeof(i)?i:String(i)}(key))in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||_unsupportedIterableToArray(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _createForOfIteratorHelper(o,allowArrayLike){var it="undefined"!=typeof Symbol&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=_unsupportedIterableToArray(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0,F=function F(){};return{s:F,n:function n(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function e(_e){throw _e},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var err,normalCompletion=!0,didErr=!1;return{s:function s(){it=it.call(o)},n:function n(){var step=it.next();return normalCompletion=step.done,step},e:function e(_e2){didErr=!0,err=_e2},f:function f(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}function _unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(o,minLen):void 0}}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var GroupAdmissionInitialState={steps:null,activeStep:null,quantity:new Map,isCompleted:new Map,selectedDateOpeningHours:null,selectedDates:new Map,selectedDate:null,selectedDateProducts:[],variantsForSelectedDate:[],selectedMonth:(0,date_helper.Bq)(),selectedVariant:null,guests:[],variants:null,entryVariantType:null,preSelectedDate:!1,isDisabledStep:new Map},getSelectedDates=function getSelectedDates(date){var selectedDates=new Map;return date&&selectedDates.set(date_helper.ZP.toStringYYYYMMDD(date),{date,selectedEntryTime:null,selectedUpsellProducts:new Map}),selectedDates},getGuestsFromVariantSelection=function getGuestsFromVariantSelection(quantity,products,selectedVariant){var _step,guests=[],filteredProducts=products.filter((function(product){var _ref,_product$productMetad;return null!==(_ref=selectedVariant===(null==product||null===(_product$productMetad=product.productMetadata)||void 0===_product$productMetad?void 0:_product$productMetad.entryVariant))&&void 0!==_ref?_ref:null})),_iterator=_createForOfIteratorHelper((0,uniqBy.Z)(filteredProducts,"productId"));try{for(_iterator.s();!(_step=_iterator.n()).done;){var _product$productMetad2,_product$productMetad3,product=_step.value,productFromStore=product_store.Z.getProductByGlkId(product.productId),visitorCategory=null!==(_product$productMetad2=null==product||null===(_product$productMetad3=product.productMetadata)||void 0===_product$productMetad3?void 0:_product$productMetad3.visitorCategory)&&void 0!==_product$productMetad2?_product$productMetad2:null;if(quantity.has(visitorCategory)){var quantityForCategory=quantity.get(visitorCategory);guests.push.apply(guests,_toConsumableArray(createGuestsFromSelection(quantityForCategory,product,visitorCategory,productFromStore)))}}}catch(err){_iterator.e(err)}finally{_iterator.f()}return guests},createGuestsFromSelection=function createGuestsFromSelection(quantity,product,visitorCategory,productFromStore){for(var guests=[],i=0;i<quantity;i++){var _product$dateSlot$dat,_product$dateSlot,_product$dateSlot2,_product$productMetad6,_product$productMetad7,_product$productMetad8,_product$productMetad9;guests.push({id:(0,uniqueId.Z)("guest-"),name:null,visitorCategory,admissionProduct:{id:product.productId,jetshopId:product.jetshopId,jetshopProductType:product.jetshopProductType,productName:productFromStore?productFromStore.productName:product.productName,dateSlotId:null!==(_product$dateSlot$dat=null===(_product$dateSlot=product.dateSlot)||void 0===_product$dateSlot?void 0:_product$dateSlot.dateSlotId)&&void 0!==_product$dateSlot$dat?_product$dateSlot$dat:null,dateSlot:null!==(_product$dateSlot2=null==product?void 0:product.dateSlot)&&void 0!==_product$dateSlot2?_product$dateSlot2:null,timePassRequired:product.timePassRequired,numberOfJetpassIncluded:null!==(_product$productMetad6=null===(_product$productMetad7=product.productMetadata)||void 0===_product$productMetad7?void 0:_product$productMetad7.numberOfJetPassIncluded)&&void 0!==_product$productMetad6?_product$productMetad6:0,timeLimits:null!==(_product$productMetad8=null===(_product$productMetad9=product.productMetadata)||void 0===_product$productMetad9?void 0:_product$productMetad9.timeLimits)&&void 0!==_product$productMetad8?_product$productMetad8:null,selectedJetpasses:[],selectedMandatoryJetpass:null,price:product.price}})}return guests},removeSelectedJetpasses=function removeSelectedJetpasses(guests){return guests.map((function(guest){return _objectSpread(_objectSpread({},guest),{},{name:null,admissionProduct:_objectSpread(_objectSpread({},guest.admissionProduct),{},{selectedJetpasses:[]})})}))},removeIsCompleteForSubsequentSteps=function removeIsCompleteForSubsequentSteps(activeStep,steps,isCompleted){for(var isCompletedCopy=new Map(isCompleted),i=activeStep+1;i<steps.length;i++)isCompletedCopy.set(steps[i].stepType,!1);return isCompletedCopy},getSelectedDatesMap=function getSelectedDatesMap(selectedDate){var numberOfDays=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(selectedDate){for(var dateMap=new Map,i=0;i<numberOfDays;i++){var newDate=date_helper.ZP.addDays(selectedDate,i);dateMap.set(date_helper.ZP.toStringYYYYMMDD(newDate),{date:newDate,selectedEntryTime:null,selectedUpsellProducts:new Map})}return dateMap}},GroupAdmissionReducer=function GroupAdmissionReducer(state,action){switch(action.type){case group_admission_types.U.DEBUG:return _objectSpread({},state);case group_admission_types.U.INITIALIZE:var _action$payload,selectedDates=getSelectedDates(null===(_action$payload=action.payload)||void 0===_action$payload?void 0:_action$payload.selectedDate),preSelectedDate=selectedDates.size>0;return _objectSpread(_objectSpread({},state),{},{activeStep:0,steps:action.payload.steps,selectedMonth:action.payload.selectedMonth,entryVariantType:action.payload.entryVariantType,selectedDate:action.payload.selectedDate,selectedDates,preSelectedDate,variants:action.payload.variants,variantsForSelectedDate:action.payload.variantsForSelectedDate,selectedDateOpeningHours:action.payload.selectedDateOpeningHours,selectedDateProducts:action.payload.selectedDateProducts});case group_admission_types.U.CHANGE_STEP:return _objectSpread(_objectSpread({},state),{},{activeStep:action.payload.stepIndex});case group_admission_types.U.CHANGE_QUANTITY:var quantityCopy=new Map(state.quantity);quantityCopy.set(action.payload.category,action.payload.quantity);var resetState=_objectSpread(_objectSpread({},state),{},{isCompleted:new Map(_toConsumableArray(state.isCompleted.entries())),selectedVariant:null,guests:[]});return _objectSpread(_objectSpread({},resetState),{},{quantity:quantityCopy,selectedDateOpeningHours:state.preSelectedDate?state.selectedDateOpeningHours:null,selectedDateProducts:state.preSelectedDate?state.selectedDateProducts:[],variantsForSelectedDate:state.preSelectedDate?state.variantsForSelectedDate:[],selectedDate:state.preSelectedDate?state.selectedDate:null,selectedDates:state.preSelectedDate?state.selectedDates:new Map});case group_admission_types.U.COMPLETE_STEP:var completedStep=action.payload.completedStep,disabledSteps=function findDisabledSteps(isDisabledStep,steps,guests){var _step3,disabledSteps=new Map(isDisabledStep),_iterator3=_createForOfIteratorHelper(steps);try{for(_iterator3.s();!(_step3=_iterator3.n()).done;)if(_step3.value.stepType===group_admission_types.h.SELECT_JETPASS){var hasGuests=guests.length>0,guestsHasNoJetpasses=null==guests?void 0:guests.every((function(guest){return 0===guest.admissionProduct.numberOfJetpassIncluded})),shouldStepBeDisabled=hasGuests&&guestsHasNoJetpasses;disabledSteps.set(group_admission_types.h.SELECT_JETPASS,shouldStepBeDisabled)}}catch(err){_iterator3.e(err)}finally{_iterator3.f()}return disabledSteps}(state.isDisabledStep,state.steps,state.guests),isCompletedCopy=new Map(state.isCompleted);return isCompletedCopy.set(completedStep,!0),state.steps.filter((function(step){return step.stepType!==group_admission_types.h.SUMMARY})).every((function(step){return isCompletedCopy.get(step.stepType)||disabledSteps.get(step.stepType)}))&&isCompletedCopy.set(group_admission_types.h.SUMMARY,!0),_objectSpread(_objectSpread({},state),{},{isCompleted:isCompletedCopy,isDisabledStep:disabledSteps,activeStep:state.activeStep+1});case group_admission_types.U.SELECT_DATE:var modifiedGuests=removeSelectedJetpasses(state.guests),_action$payload2=action.payload,selectedDate=_action$payload2.selectedDate,opens=_action$payload2.opens,closing=_action$payload2.closing,hideVariant=_action$payload2.hideVariant,products=_action$payload2.products,variantsForSelectedDate=group_admission_helper.Z.getSortedVariantsFromSelection(products,state.variants),_selectedDates=new Map,selectedVariant=null;hideVariant?(modifiedGuests=[],_selectedDates=getSelectedDatesMap(selectedDate)):(1===variantsForSelectedDate.length&&(selectedVariant=state.variants[variantsForSelectedDate[0]],modifiedGuests=getGuestsFromVariantSelection(state.quantity,products,selectedVariant.id)),function selectedDateAndVariantHasQuantityForGroup(selectedDateProducts,selectedVariant,quantityMap){var productsForVariant=selectedDateProducts.filter((function(product){var _product$productMetad10,_selectedVariant$id;return(null==product||null===(_product$productMetad10=product.productMetadata)||void 0===_product$productMetad10?void 0:_product$productMetad10.entryVariant)===(null!==(_selectedVariant$id=null==selectedVariant?void 0:selectedVariant.id)&&void 0!==_selectedVariant$id?_selectedVariant$id:null)}));if(!(0,array_helper.Of)(productsForVariant))return!1;var _step2,_iterator2=_createForOfIteratorHelper(productsForVariant);try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var _product$dateSlot$qua,_product$dateSlot3,product=_step2.value,stateQuantity=quantityMap.get(product.productMetadata.visitorCategory);if((null!==(_product$dateSlot$qua=null===(_product$dateSlot3=product.dateSlot)||void 0===_product$dateSlot3?void 0:_product$dateSlot3.quantity)&&void 0!==_product$dateSlot$qua?_product$dateSlot$qua:0)<stateQuantity)return!1}}catch(err){_iterator2.e(err)}finally{_iterator2.f()}return!0}(products,state.selectedVariant,state.quantity)&&(selectedVariant=state.selectedVariant),selectedVariant?(_selectedDates=getSelectedDatesMap(selectedDate,selectedVariant.numberOfDays),modifiedGuests=getGuestsFromVariantSelection(state.quantity,products,selectedVariant.id)):_selectedDates=getSelectedDates(selectedDate));var _resetState=_objectSpread(_objectSpread({},state),{},{isCompleted:removeIsCompleteForSubsequentSteps(state.activeStep,state.steps,state.isCompleted),selectedVariant,guests:modifiedGuests});return _objectSpread(_objectSpread({},_resetState),{},{selectedDateOpeningHours:{opens:opens?date_helper.ZP.toStringTimeYYYYMMDDHHMM(opens):null,closing:closing?date_helper.ZP.toStringTimeYYYYMMDDHHMM(closing):null},selectedDate,selectedDates:_selectedDates,selectedDateProducts:products,variantsForSelectedDate,preSelectedDate:!1});case group_admission_types.U.SELECT_VARIANT:var guests=getGuestsFromVariantSelection(state.quantity,state.selectedDateProducts,action.payload.selectedVariant.id),_selectedDate=state.selectedDate,_selectedVariant=action.payload.selectedVariant,_selectedDates2=getSelectedDatesMap(_selectedDate,_selectedVariant.numberOfDays),_resetState2=_objectSpread(_objectSpread({},state),{},{isCompleted:removeIsCompleteForSubsequentSteps(state.activeStep,state.steps,state.isCompleted)});return _objectSpread(_objectSpread({},_resetState2),{},{selectedVariant:_selectedVariant,selectedDates:_selectedDates2,guests});case group_admission_types.U.SELECT_TICKET:var _action$payload$selec,selectedTicketProducts=[];null===(_action$payload$selec=action.payload.selectedTickets)||void 0===_action$payload$selec||_action$payload$selec.forEach((function(category){category.productsByVariant.forEach((function(productsArray){selectedTicketProducts.push.apply(selectedTicketProducts,_toConsumableArray(productsArray))}))}));var _guests=function getGuestsFromTicketSelection(products){return products.flatMap((function(product){var _product$productMetad4,_product$productMetad5,productFromStore=product_store.Z.getProductByGlkId(product.productId),visitorCategory=null!==(_product$productMetad4=null==product||null===(_product$productMetad5=product.productMetadata)||void 0===_product$productMetad5?void 0:_product$productMetad5.visitorCategory)&&void 0!==_product$productMetad4?_product$productMetad4:null,quantity=product.quantity;return createGuestsFromSelection(quantity,product,visitorCategory,productFromStore)}))}(selectedTicketProducts);return _objectSpread(_objectSpread({},state),{},{guests:_guests,isCompleted:action.payload.hasSubsequentChanges?removeIsCompleteForSubsequentSteps(state.activeStep,state.steps,state.isCompleted):state.isCompleted});case group_admission_types.U.SELECT_MONTH:return _objectSpread(_objectSpread({},state),{},{selectedMonth:action.payload.selectedMonth});case group_admission_types.U.SELECT_ENTRY_TIME:var _action$payload$selec2,_action$payload3,_action$payload$remov,_action$payload4,_action$payload5,selectedEntryTimes=null!==(_action$payload$selec2=null===(_action$payload3=action.payload)||void 0===_action$payload3?void 0:_action$payload3.selectedEntryTime)&&void 0!==_action$payload$selec2?_action$payload$selec2:[],shouldRemoveSelectedJetpasses=null!==(_action$payload$remov=null===(_action$payload4=action.payload)||void 0===_action$payload4?void 0:_action$payload4.removeSelectedJetpasses)&&void 0!==_action$payload$remov&&_action$payload$remov,updatedSelectedUpsellProducts=null===(_action$payload5=action.payload)||void 0===_action$payload5?void 0:_action$payload5.updatedSelectedUpsellProducts,updatedGuests=shouldRemoveSelectedJetpasses?removeSelectedJetpasses(state.guests):state.guests,selectedDatesCopy=new Map(state.selectedDates);return selectedEntryTimes.forEach((function(selectedEntryTime){var entryTimeDateString=date_helper.ZP.toStringYYYYMMDD(selectedEntryTime.timeSlotFrom),selectedDate=selectedDatesCopy.get(entryTimeDateString);if(selectedDate){var updatedSelectedUpsellProductsForDate=(0,array_helper.Of)(updatedSelectedUpsellProducts)&&updatedSelectedUpsellProducts.find((function(upsellProducts){return date_helper.ZP.toStringYYYYMMDD(upsellProducts.date)===entryTimeDateString}));selectedDate.selectedEntryTime=selectedEntryTime,updatedSelectedUpsellProductsForDate?updatedSelectedUpsellProductsForDate.upsellProducts.forEach((function(upsellProduct){selectedDate.selectedUpsellProducts.delete(upsellProduct.product.id)})):selectedDate.selectedUpsellProducts,selectedDatesCopy.set(entryTimeDateString,selectedDate)}})),_objectSpread(_objectSpread({},state),{},{guests:updatedGuests,selectedDates:selectedDatesCopy});case group_admission_types.U.ADD_JETPASSES_TO_GUESTS:var guestDTOs=action.payload.jetpassGuests,_updatedGuests=state.guests.map((function(guest){var jetpassGuest=guestDTOs.find((function(jetpassGuest){return jetpassGuest.id==guest.id}));return jetpassGuest.jetPasses.sort((function(a,b){return a.timeSlotFrom<b.timeSlotFrom?-1:0})),_objectSpread(_objectSpread({},guest),{},{name:jetpassGuest?jetpassGuest.name:null,admissionProduct:_objectSpread(_objectSpread({},guest.admissionProduct),{},{selectedJetpasses:jetpassGuest?jetpassGuest.jetPasses:[]})})}));return _objectSpread(_objectSpread({},state),{},{guests:_updatedGuests});case group_admission_types.U.UPDATE_UPSELL_PRODUCT:var _upsellProduct$quanti,_upsellProduct$produc,_upsellProduct$produc2,_upsellProduct$timeSl,upsellProduct=action.payload.upsellProduct,_selectedDate2=action.payload.selectedDate,updatedQuantity=null!==(_upsellProduct$quanti=null==upsellProduct?void 0:upsellProduct.quantity)&&void 0!==_upsellProduct$quanti?_upsellProduct$quanti:0,productId=null!==(_upsellProduct$produc=null==upsellProduct||null===(_upsellProduct$produc2=upsellProduct.product)||void 0===_upsellProduct$produc2?void 0:_upsellProduct$produc2.id)&&void 0!==_upsellProduct$produc?_upsellProduct$produc:null,selectedTimeSlot=null!==(_upsellProduct$timeSl=null==upsellProduct?void 0:upsellProduct.timeSlot)&&void 0!==_upsellProduct$timeSl?_upsellProduct$timeSl:void 0,_selectedDatesCopy=new Map(state.selectedDates),selectedDateString=date_helper.ZP.toStringYYYYMMDD(_selectedDate2),selectedDateFromSelectedDates=_selectedDatesCopy.get(selectedDateString);if(selectedDateFromSelectedDates){var selectedUpsellProductsCopy=new Map(selectedDateFromSelectedDates.selectedUpsellProducts),selectedUpsellProduct=selectedUpsellProductsCopy.get(productId);selectedUpsellProduct?(selectedUpsellProduct.quantity=updatedQuantity,selectedUpsellProduct.timeSlot=selectedTimeSlot,selectedUpsellProductsCopy.set(productId,selectedUpsellProduct)):selectedUpsellProductsCopy.set(productId,{product:upsellProduct.product,quantity:updatedQuantity,timeSlot:selectedTimeSlot}),_selectedDatesCopy.set(selectedDateString,_objectSpread(_objectSpread({},selectedDateFromSelectedDates),{},{selectedUpsellProducts:selectedUpsellProductsCopy}))}return _objectSpread(_objectSpread({},state),{},{selectedDates:_selectedDatesCopy});case group_admission_types.U.DELETE_UPSELL_PRODUCT:var _productId=action.payload.productId,_selectedDate3=action.payload.date,_selectedDatesCopy2=new Map(state.selectedDates);return _selectedDatesCopy2.forEach((function(visitDate,date){visitDate.selectedUpsellProducts.get(_productId)&&date_helper.ZP.toStringYYYYMMDD(_selectedDate3)===date&&visitDate.selectedUpsellProducts.delete(_productId)})),_objectSpread(_objectSpread({},state),{},{selectedDates:_selectedDatesCopy2});case group_admission_types.U.SELECT_MANDATORY_JETPASS:var entrance=action.payload.entrance,timeSlot=action.payload.timeSlot,mandatoryPass={productId:entrance.productId,attractionId:entrance.attractionId,attractionName:entrance.attractionName,timeSlotFrom:timeSlot.timeSlotFrom,timeSlotTo:timeSlot.timeSlotTo,timeSlotId:timeSlot.timeSlotId,quantity:timeSlot.quantity},_updatedGuests2=state.guests.map((function(guest){return _objectSpread(_objectSpread({},guest),{},{admissionProduct:_objectSpread(_objectSpread({},guest.admissionProduct),{},{selectedMandatoryJetpass:_objectSpread({},mandatoryPass)})})}));return _objectSpread(_objectSpread({},state),{},{guests:_updatedGuests2});default:return _objectSpread({},state)}},injectStylesIntoStyleTag=__webpack_require__("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),injectStylesIntoStyleTag_default=__webpack_require__.n(injectStylesIntoStyleTag),styleDomAPI=__webpack_require__("./node_modules/style-loader/dist/runtime/styleDomAPI.js"),styleDomAPI_default=__webpack_require__.n(styleDomAPI),insertBySelector=__webpack_require__("./node_modules/style-loader/dist/runtime/insertBySelector.js"),insertBySelector_default=__webpack_require__.n(insertBySelector),setAttributesWithoutAttributes=__webpack_require__("./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js"),setAttributesWithoutAttributes_default=__webpack_require__.n(setAttributesWithoutAttributes),insertStyleElement=__webpack_require__("./node_modules/style-loader/dist/runtime/insertStyleElement.js"),insertStyleElement_default=__webpack_require__.n(insertStyleElement),styleTagTransform=__webpack_require__("./node_modules/style-loader/dist/runtime/styleTagTransform.js"),styleTagTransform_default=__webpack_require__.n(styleTagTransform),step_wrapper_module=__webpack_require__("./node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[16].use[1]!./node_modules/postcss-loader/dist/cjs.js!./node_modules/less-loader/dist/cjs.js!./src/components/group-admission/steps/step-wrapper.module.less"),options={};options.styleTagTransform=styleTagTransform_default(),options.setAttributes=setAttributesWithoutAttributes_default(),options.insert=insertBySelector_default().bind(null,"head"),options.domAPI=styleDomAPI_default(),options.insertStyleElement=insertStyleElement_default();injectStylesIntoStyleTag_default()(step_wrapper_module.Z,options);const steps_step_wrapper_module=step_wrapper_module.Z&&step_wrapper_module.Z.locals?step_wrapper_module.Z.locals:void 0;var motion=__webpack_require__("./node_modules/framer-motion/dist/es/render/dom/motion.mjs"),object_helper=__webpack_require__("./src/helpers/object-helper.ts"),string_helper=__webpack_require__("./src/helpers/string-helper.tsx"),es=__webpack_require__("./node_modules/react-i18next/dist/es/index.js"),parks_button=__webpack_require__("./src/components/shared-components/parks-button/parks-button.tsx"),icon=__webpack_require__("./src/components/elements/icon/icon.tsx"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");function step_wrapper_typeof(o){return step_wrapper_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},step_wrapper_typeof(o)}function step_wrapper_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function step_wrapper_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?step_wrapper_ownKeys(Object(t),!0).forEach((function(r){step_wrapper_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):step_wrapper_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function step_wrapper_defineProperty(obj,key,value){return(key=function step_wrapper_toPropertyKey(t){var i=function step_wrapper_toPrimitive(t,r){if("object"!=step_wrapper_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=step_wrapper_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==step_wrapper_typeof(i)?i:String(i)}(key))in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function getStepType(stepType){switch(stepType){case group_admission_types.h.GROUP_SIZE:return"GroupSize";case group_admission_types.h.SELECT_DATE:return"SelectDate";case group_admission_types.h.SELECT_ENTRY_TIME:return"SelectEntryTime";case group_admission_types.h.SELECT_MANDATORY_JETPASS:return"SelectMandatoryJetpass";case group_admission_types.h.SELECT_TICKET:return"SelectTicket";case group_admission_types.h.UPSELL:return"Upsell";case group_admission_types.h.SELECT_JETPASS:return"SelectJetpass";case group_admission_types.h.SUMMARY:return"Summary";default:(0,object_helper.y0)(stepType)}}var StepWrapper=function StepWrapper(_ref){var stepRefArray=_ref.stepRefArray,isActive=_ref.isActive,isCompleted=_ref.isCompleted,stepIndex=_ref.stepIndex,titleLabelId=_ref.titleLabelId,stepType=_ref.stepType,stepSummary=_ref.stepSummary,isDisabledStep=_ref.isDisabledStep,dispatch=_ref.dispatch,children=_ref.children,t=(0,es.$G)().t,isUpcomingStep=!isActive&&!isCompleted,isPreviousStep=!isActive&&!isUpcomingStep,isLastStep=stepRefArray&&(0,array_helper.Of)(stepRefArray.current)&&stepIndex===stepRefArray.current.length-1,summaryAnimationProps={initial:{opacity:isUpcomingStep||isActive?0:.7,height:isUpcomingStep||isActive?0:"auto"},animate:{opacity:isPreviousStep||isDisabledStep?.7:0,height:isPreviousStep||isDisabledStep?"auto":0},transition:{opacity:{duration:.15}}},isUpsellStep="Upsell"===getStepType(stepType);return(0,jsx_runtime.jsxs)("div",{ref:function ref(_ref2){stepRefArray.current[stepIndex]=_ref2},className:(0,string_helper.JC)(steps_step_wrapper_module.wrapper,isDisabledStep&&steps_step_wrapper_module.disabledStep,isUpsellStep&&steps_step_wrapper_module.noSidePadding),children:[isActive&&stepIndex>0&&(0,jsx_runtime.jsx)("span",{className:steps_step_wrapper_module.topBorder}),(0,jsx_runtime.jsxs)("div",{className:(0,string_helper.JC)(steps_step_wrapper_module.header,isUpsellStep&&steps_step_wrapper_module.addSidePadding,isCompleted&&!isActive&&steps_step_wrapper_module.completed,isActive&&steps_step_wrapper_module.active,isUpcomingStep&&steps_step_wrapper_module.isUpcomingStep),children:[(0,jsx_runtime.jsx)("p",{className:steps_step_wrapper_module.headerNumber,children:isCompleted&&!isActive&&(0,jsx_runtime.jsx)(icon.ZP,{name:"done"})}),(0,jsx_runtime.jsxs)("div",{className:steps_step_wrapper_module.headerTextWrapper,children:[(0,jsx_runtime.jsxs)("h3",{className:"".concat(steps_step_wrapper_module.headerTitle),"data-contentful-label-id":titleLabelId,children:[(!isCompleted||isActive)&&(0,jsx_runtime.jsx)("span",{className:steps_step_wrapper_module.stepNumber,children:stepIndex+1+". "}),(0,jsx_runtime.jsx)("span",{children:t(titleLabelId)})]}),stepSummary&&(0,jsx_runtime.jsx)(motion.E.p,step_wrapper_objectSpread(step_wrapper_objectSpread({},summaryAnimationProps),{},{className:"".concat(steps_step_wrapper_module.summary," p_small"),children:stepSummary})),isDisabledStep&&(0,jsx_runtime.jsx)(motion.E.p,step_wrapper_objectSpread(step_wrapper_objectSpread({},summaryAnimationProps),{},{className:"".concat(steps_step_wrapper_module.summary," p_small"),children:t("stepWrapper".concat(getStepType(stepType),"DisabledText"))}))]}),isCompleted&&!isActive&&!isDisabledStep&&(0,jsx_runtime.jsx)(parks_button.gh,{onClick:function onClick(){return dispatch({type:group_admission_types.U.CHANGE_STEP,payload:{stepIndex}})},className:steps_step_wrapper_module.changeButton,contentfulLabelId:stepType===group_admission_types.h.SUMMARY?"stepWrapperGoTo":"modify",label:stepType===group_admission_types.h.SUMMARY?t("stepWrapperGoTo"):t("modify")})]}),(0,jsx_runtime.jsx)(motion.E.div,{initial:{height:isActive?"auto":0,opacity:isActive?1:0,display:isActive?"block":"none"},animate:isActive?"isActive":"notActive",variants:{isActive:{display:"block",height:"auto",opacity:1,transition:{opacity:{delay:.2,duration:.3},height:{duration:.4,type:"tween"}}},notActive:{height:0,opacity:0,transition:{opacity:{duration:.2},height:{duration:.4,type:"tween"}},transitionEnd:{display:"none"}}},className:steps_step_wrapper_module.contentWrapper,children}),isActive&&!isLastStep&&(0,jsx_runtime.jsx)("span",{className:steps_step_wrapper_module.bottomBorder})]})};StepWrapper.displayName="StepWrapper";const step_wrapper=StepWrapper;try{stepwrapper.displayName="stepwrapper",stepwrapper.__docgenInfo={description:"",displayName:"stepwrapper",props:{stepRefArray:{defaultValue:null,description:"",name:"stepRefArray",required:!0,type:{name:"MutableRefObject<HTMLElement[]>"}},isCompleted:{defaultValue:null,description:"",name:"isCompleted",required:!0,type:{name:"boolean"}},isActive:{defaultValue:null,description:"",name:"isActive",required:!0,type:{name:"boolean"}},stepIndex:{defaultValue:null,description:"",name:"stepIndex",required:!0,type:{name:"number"}},titleLabelId:{defaultValue:null,description:"",name:"titleLabelId",required:!0,type:{name:"string | number"}},stepType:{defaultValue:null,description:"",name:"stepType",required:!0,type:{name:"enum",value:[{value:'"GROUP_SIZE"'},{value:'"SELECT_DATE"'},{value:'"SELECT_ENTRY_TIME"'},{value:'"SELECT_TICKET"'},{value:'"SELECT_MANDATORY_JETPASS"'},{value:'"SELECT_JETPASS"'},{value:'"UPSELL"'},{value:'"SUMMARY"'}]}},stepSummary:{defaultValue:null,description:"",name:"stepSummary",required:!1,type:{name:"string"}},isDisabledStep:{defaultValue:null,description:"",name:"isDisabledStep",required:!1,type:{name:"boolean"}},dispatch:{defaultValue:null,description:"",name:"dispatch",required:!0,type:{name:"Dispatch<Action>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/group-admission/steps/step-wrapper.tsx#stepwrapper"]={docgenInfo:stepwrapper.__docgenInfo,name:"stepwrapper",path:"src/components/group-admission/steps/step-wrapper.tsx#stepwrapper"})}catch(__react_docgen_typescript_loader_error){}var group_size_module=__webpack_require__("./node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[16].use[1]!./node_modules/postcss-loader/dist/cjs.js!./node_modules/less-loader/dist/cjs.js!./src/components/group-admission/steps/group-size/group-size.module.less"),group_size_module_options={};group_size_module_options.styleTagTransform=styleTagTransform_default(),group_size_module_options.setAttributes=setAttributesWithoutAttributes_default(),group_size_module_options.insert=insertBySelector_default().bind(null,"head"),group_size_module_options.domAPI=styleDomAPI_default(),group_size_module_options.insertStyleElement=insertStyleElement_default();injectStylesIntoStyleTag_default()(group_size_module.Z,group_size_module_options);const group_size_group_size_module=group_size_module.Z&&group_size_module.Z.locals?group_size_module.Z.locals:void 0;var quantity_selector_styled=__webpack_require__("./src/components/elements/quantity-selector-styled/quantity-selector-styled.tsx"),dialog_modal=__webpack_require__("./src/components/elements/dialog-modal/dialog-modal.tsx"),AnimatePresence=__webpack_require__("./node_modules/framer-motion/dist/es/components/AnimatePresence/index.mjs"),promotion_banner_module=__webpack_require__("./node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[16].use[1]!./node_modules/postcss-loader/dist/cjs.js!./node_modules/less-loader/dist/cjs.js!./src/components/group-admission/steps/group-size/promotion-banner/promotion-banner.module.less"),promotion_banner_module_options={};promotion_banner_module_options.styleTagTransform=styleTagTransform_default(),promotion_banner_module_options.setAttributes=setAttributesWithoutAttributes_default(),promotion_banner_module_options.insert=insertBySelector_default().bind(null,"head"),promotion_banner_module_options.domAPI=styleDomAPI_default(),promotion_banner_module_options.insertStyleElement=insertStyleElement_default();injectStylesIntoStyleTag_default()(promotion_banner_module.Z,promotion_banner_module_options);const promotion_banner_promotion_banner_module=promotion_banner_module.Z&&promotion_banner_module.Z.locals?promotion_banner_module.Z.locals:void 0;var rich_text=__webpack_require__("./src/components/elements/rich-text/rich-text.tsx"),link_link=__webpack_require__("./src/components/elements/link/link.tsx"),BannerContent=function BannerContent(_ref){var bannerText=_ref.bannerText,bannerImage=_ref.bannerImage;return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)("div",{className:promotion_banner_promotion_banner_module.bannerText,children:(0,jsx_runtime.jsx)(rich_text.Z,{richText:bannerText})}),bannerImage&&(0,jsx_runtime.jsx)("img",{className:promotion_banner_promotion_banner_module.bannerImage,src:bannerImage,alt:""})]})};const promotion_banner=function PromotionBanner(_ref2){var bannerText=_ref2.bannerText,bannerLink=_ref2.bannerLink,bannerImage=_ref2.bannerImage,openBannerLinkInNewTab=_ref2.openBannerLinkInNewTab;return bannerLink?(0,jsx_runtime.jsx)(link_link.Z,{className:promotion_banner_promotion_banner_module.bannerWrapper,contentfulLink:bannerLink,openInNewTab:null!=openBannerLinkInNewTab&&openBannerLinkInNewTab,children:(0,jsx_runtime.jsx)(BannerContent,{bannerText,bannerImage})}):(0,jsx_runtime.jsx)("div",{className:promotion_banner_promotion_banner_module.bannerWrapper,children:(0,jsx_runtime.jsx)(BannerContent,{bannerText,bannerImage})})};try{promotionbanner.displayName="promotionbanner",promotionbanner.__docgenInfo={description:"",displayName:"promotionbanner",props:{bannerText:{defaultValue:null,description:"",name:"bannerText",required:!0,type:{name:"any"}},bannerImage:{defaultValue:null,description:"",name:"bannerImage",required:!1,type:{name:"string"}},bannerLink:{defaultValue:null,description:"",name:"bannerLink",required:!1,type:{name:"IContentfulLink"}},openBannerLinkInNewTab:{defaultValue:null,description:"",name:"openBannerLinkInNewTab",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/group-admission/steps/group-size/promotion-banner/promotion-banner.tsx#promotionbanner"]={docgenInfo:promotionbanner.__docgenInfo,name:"promotionbanner",path:"src/components/group-admission/steps/group-size/promotion-banner/promotion-banner.tsx#promotionbanner"})}catch(__react_docgen_typescript_loader_error){}var sum=__webpack_require__("./node_modules/lodash-es/sum.js"),step_backdrop=__webpack_require__("./src/components/group-admission/components/step-backdrop.tsx"),use_focus=__webpack_require__("./src/hooks/use-focus.ts"),step_warning=__webpack_require__("./src/components/group-admission/step-warning/step-warning.tsx"),button_row=__webpack_require__("./src/components/group-admission/components/button-row.tsx");function group_size_typeof(o){return group_size_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},group_size_typeof(o)}function group_size_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function group_size_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?group_size_ownKeys(Object(t),!0).forEach((function(r){group_size_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):group_size_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function group_size_defineProperty(obj,key,value){return(key=function group_size_toPropertyKey(t){var i=function group_size_toPrimitive(t,r){if("object"!=group_size_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=group_size_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==group_size_typeof(i)?i:String(i)}(key))in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function group_size_toConsumableArray(arr){return function group_size_arrayWithoutHoles(arr){if(Array.isArray(arr))return group_size_arrayLikeToArray(arr)}(arr)||function group_size_iterableToArray(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||group_size_unsupportedIterableToArray(arr)||function group_size_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(r,l){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,n,i,u,a=[],f=!0,o=!1;try{if(i=(t=t.call(r)).next,0===l){if(Object(t)!==t)return;f=!1}else for(;!(f=(e=i.call(t)).done)&&(a.push(e.value),a.length!==l);f=!0);}catch(r){o=!0,n=r}finally{try{if(!f&&null!=t.return&&(u=t.return(),Object(u)!==u))return}finally{if(o)throw n}}return a}}(arr,i)||group_size_unsupportedIterableToArray(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function group_size_unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return group_size_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?group_size_arrayLikeToArray(o,minLen):void 0}}function group_size_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var isCategoryIndependent=function isCategoryIndependent(category,visitorCategories){var categoryObject=visitorCategories.get(category);return!!categoryObject&&!categoryObject.notSoldSeparately},isStepCompleted=function isStepCompleted(quantity,visitorCategories){var _step,_iterator=function group_size_createForOfIteratorHelper(o,allowArrayLike){var it="undefined"!=typeof Symbol&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=group_size_unsupportedIterableToArray(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0,F=function F(){};return{s:F,n:function n(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function e(_e){throw _e},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var err,normalCompletion=!0,didErr=!1;return{s:function s(){it=it.call(o)},n:function n(){var step=it.next();return normalCompletion=step.done,step},e:function e(_e2){didErr=!0,err=_e2},f:function f(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}(quantity);try{for(_iterator.s();!(_step=_iterator.n()).done;){var _step$value=_slicedToArray(_step.value,2),category=_step$value[0];if(_step$value[1]>0&&isCategoryIndependent(category,visitorCategories))return!0}}catch(err){_iterator.e(err)}finally{_iterator.f()}return!1};function GroupSize(_ref5){var quantity=_ref5.quantity,visitorCategories=_ref5.visitorCategories,selectedVariant=_ref5.selectedVariant,isNextStepCompleted=_ref5.isNextStepCompleted,ignoreVariantSelection=_ref5.ignoreVariantSelection,bannerProps=_ref5.bannerProps,minMaxEntryProducts=_ref5.minMaxEntryProducts,stepWrapperRef=_ref5.stepWrapperRef,dispatch=_ref5.dispatch,_useState2=_slicedToArray((0,react.useState)(null),2),informationModalProps=_useState2[0],setInformationModalProps=_useState2[1],totalGroupSize=(0,react.useMemo)((function(){return(0,sum.Z)(group_size_toConsumableArray(quantity.values()))}),[quantity]),_useState4=_slicedToArray((0,react.useState)(!1),2),showStepWarning=_useState4[0],setShowStepWarning=_useState4[1],minGroupSizeFullfilled=totalGroupSize>=minMaxEntryProducts.minEntryProducts,maxGroupSizeReached=totalGroupSize===minMaxEntryProducts.maxEntryProducts,_useFocus2=_slicedToArray((0,use_focus.Z)(),2),focusRef=_useFocus2[0],setFocus=_useFocus2[1],_useState6=_slicedToArray((0,react.useState)(),2),warningTexts=_useState6[0],setWarningTexts=_useState6[1],_useStepWarning=(0,step_warning.n)({title:null==warningTexts?void 0:warningTexts.title,bodyText:null==warningTexts?void 0:warningTexts.bodyText}),scrollAndFocusOnWarning=_useStepWarning.scrollAndFocusOnWarning,StepWarning=_useStepWarning.StepWarning,t=(0,es.$G)().t,onChangeQuantity=function onChangeQuantity(category,newQuantity,overrideClick){!isNextStepCompleted||overrideClick||null===selectedVariant&&!ignoreVariantSelection?(dispatch({type:group_admission_types.U.CHANGE_QUANTITY,payload:{category,quantity:newQuantity}}),overrideClick&&setFocus(),setInformationModalProps(null)):setInformationModalProps({category,quantity,newQuantity})};function closeDialog(){setFocus(),setInformationModalProps(null)}return(0,jsx_runtime.jsxs)("div",{className:group_size_group_size_module.wrapper,ref:focusRef,tabIndex:-1,children:[(0,jsx_runtime.jsx)(AnimatePresence.M,{mode:"wait",children:showStepWarning&&(0,jsx_runtime.jsx)(StepWarning,{})}),(0,jsx_runtime.jsx)(step_backdrop.Z,{children:(0,jsx_runtime.jsx)("div",{className:group_size_group_size_module.categories,children:group_size_toConsumableArray(visitorCategories.values()).map((function(category){var _category$minCount,quantityForCategory=quantity.get(category.id)?quantity.get(category.id):0;return(0,jsx_runtime.jsx)("div",{className:group_size_group_size_module.category,children:(0,jsx_runtime.jsx)(quantity_selector_styled.Z,{quantity:quantityForCategory,minQuantity:null!==(_category$minCount=category.minCount)&&void 0!==_category$minCount?_category$minCount:0,maxQuantity:maxGroupSizeReached?quantityForCategory:category.maxCount,label:category.name,sublabel:category.description,onQuantityChange:function onQuantityChange(newQuantity){return onChangeQuantity(category.id,newQuantity)}})},category.id)}))})}),bannerProps&&bannerProps.bannerText&&(0,jsx_runtime.jsx)(promotion_banner,group_size_objectSpread({},bannerProps)),(0,jsx_runtime.jsx)(button_row.V,{onClickStepComplete:function onClickNextStep(){isStepCompleted(quantity,visitorCategories)&&minGroupSizeFullfilled?(setShowStepWarning(!1),group_admission_helper.Z.scrollAndCompleteStep(stepWrapperRef,group_admission_types.h.GROUP_SIZE,dispatch,!0)):(setWarningTexts(function getWarningTexts(quantity,visitorCategories,minGroupSizeFullfilled){var _quantity$entries;return group_size_toConsumableArray(null!==(_quantity$entries=null==quantity?void 0:quantity.entries())&&void 0!==_quantity$entries?_quantity$entries:[]).filter((function(_ref){return _slicedToArray(_ref,2)[1]>0})).every((function(_ref3){var category=_slicedToArray(_ref3,1)[0];return!isCategoryIndependent(category,visitorCategories)}))&&minGroupSizeFullfilled?{title:"groupSizeStepWarningNotIndependentTitle",bodyText:"groupSizeStepWarningNotIndependentBodyText"}:{title:"groupSizeStepWarningNotEnoughVisitorsSelectedTitle",bodyText:"groupSizeStepWarningNotEnoughVisitorsSelectedBodyText"}}(quantity,visitorCategories,minGroupSizeFullfilled)),setShowStepWarning(!0),scrollAndFocusOnWarning())},nextTestId:"group-size-next-button"}),(0,jsx_runtime.jsx)(AnimatePresence.M,{children:informationModalProps&&(0,jsx_runtime.jsx)(dialog_modal.Z,{headingText:t("groupSizeStepDialogHeading"),bodyText:t("groupSizeStepDialogBodyText"),primaryButtonText:t("groupSizeStepDialogConfirmChange"),primaryButtonAction:function primaryButtonAction(){return onChangeQuantity(informationModalProps.category,informationModalProps.newQuantity,!0)},secondaryButtonText:t("cancel"),secondaryButtonAction:closeDialog,onCloseFunction:closeDialog,contentfulLabelIds:{headingText:"groupSizeStepDialogHeading",bodyText:"groupSizeStepDialogBodyText",confirmChange:"groupSizeStepDialogConfirmChange",cancelChange:"cancel"}})})]})}GroupSize.displayName="GroupSize";const group_size=GroupSize;try{GroupSize.displayName="GroupSize",GroupSize.__docgenInfo={description:"",displayName:"GroupSize",props:{quantity:{defaultValue:null,description:"",name:"quantity",required:!0,type:{name:'Map<"Adult" | "Child" | "Elderly" | "Baby", number>'}},visitorCategories:{defaultValue:null,description:"",name:"visitorCategories",required:!0,type:{name:'Map<"Adult" | "Child" | "Elderly" | "Baby", VisitorCategory>'}},selectedVariant:{defaultValue:null,description:"",name:"selectedVariant",required:!0,type:{name:"EntryVariant"}},ignoreVariantSelection:{defaultValue:null,description:"",name:"ignoreVariantSelection",required:!0,type:{name:"boolean"}},isNextStepCompleted:{defaultValue:null,description:"",name:"isNextStepCompleted",required:!0,type:{name:"boolean"}},bannerProps:{defaultValue:null,description:"",name:"bannerProps",required:!0,type:{name:"BannerData"}},minMaxEntryProducts:{defaultValue:null,description:"",name:"minMaxEntryProducts",required:!0,type:{name:"{ minEntryProducts: number; maxEntryProducts: number; }"}},stepWrapperRef:{defaultValue:null,description:"",name:"stepWrapperRef",required:!0,type:{name:"HTMLElement"}},dispatch:{defaultValue:null,description:"",name:"dispatch",required:!0,type:{name:"Dispatch<Action>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/group-admission/steps/group-size/group-size.tsx#GroupSize"]={docgenInfo:GroupSize.__docgenInfo,name:"GroupSize",path:"src/components/group-admission/steps/group-size/group-size.tsx#GroupSize"})}catch(__react_docgen_typescript_loader_error){}var group_admission_calendar=__webpack_require__("./src/components/group-admission/steps/calendar/group-admission-calendar.tsx"),select_jetpass_module=__webpack_require__("./node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[16].use[1]!./node_modules/postcss-loader/dist/cjs.js!./node_modules/less-loader/dist/cjs.js!./src/components/group-admission/steps/select-jetpass/select-jetpass.module.less"),select_jetpass_module_options={};select_jetpass_module_options.styleTagTransform=styleTagTransform_default(),select_jetpass_module_options.setAttributes=setAttributesWithoutAttributes_default(),select_jetpass_module_options.insert=insertBySelector_default().bind(null,"head"),select_jetpass_module_options.domAPI=styleDomAPI_default(),select_jetpass_module_options.insertStyleElement=insertStyleElement_default();injectStylesIntoStyleTag_default()(select_jetpass_module.Z,select_jetpass_module_options);const select_jetpass_select_jetpass_module=select_jetpass_module.Z&&select_jetpass_module.Z.locals?select_jetpass_module.Z.locals:void 0;var dist=__webpack_require__("./node_modules/@parksandresorts/webapiproxy-types/dist/index.js");var cart_context=__webpack_require__("./src/contexts/cart-context.tsx");function select_jetpass_slicedToArray(arr,i){return function select_jetpass_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function select_jetpass_iterableToArrayLimit(r,l){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,n,i,u,a=[],f=!0,o=!1;try{if(i=(t=t.call(r)).next,0===l){if(Object(t)!==t)return;f=!1}else for(;!(f=(e=i.call(t)).done)&&(a.push(e.value),a.length!==l);f=!0);}catch(r){o=!0,n=r}finally{try{if(!f&&null!=t.return&&(u=t.return(),Object(u)!==u))return}finally{if(o)throw n}}return a}}(arr,i)||function select_jetpass_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return select_jetpass_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return select_jetpass_arrayLikeToArray(o,minLen)}(arr,i)||function select_jetpass_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function select_jetpass_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var PassRow=function PassRow(_ref){var pass=_ref.pass;return(0,jsx_runtime.jsxs)("li",{className:[select_jetpass_select_jetpass_module.passRow,"p_small"].join(" "),children:[date_helper.ZP.toStringTimeHHMM(pass.timeSlotFrom)," • ",pass.attractionName]})};PassRow.displayName="PassRow";var GuestRow=function GuestRow(_ref2){var _guest$admissionProdu,_guest$admissionProdu2,guest=_ref2.guest,index=_ref2.index,t=(0,es.$G)().t,jetPasses=null!==(_guest$admissionProdu=null===(_guest$admissionProdu2=guest.admissionProduct)||void 0===_guest$admissionProdu2?void 0:_guest$admissionProdu2.selectedJetpasses)&&void 0!==_guest$admissionProdu?_guest$admissionProdu:[];return(0,jsx_runtime.jsx)("div",{className:select_jetpass_select_jetpass_module.guestRowWrapper,children:(0,jsx_runtime.jsxs)("ul",{className:select_jetpass_select_jetpass_module.passList,children:[(0,jsx_runtime.jsx)("p",{className:select_jetpass_select_jetpass_module.guestName,children:guest.name?guest.name:"".concat(t("guest")," ").concat(index)}),(0,array_helper.Of)(jetPasses)&&jetPasses.map((function(pass){return(0,jsx_runtime.jsx)(PassRow,{pass},pass.timeSlotId)}))]})})};GuestRow.displayName="GuestRow";var SelectJetpass=function SelectJetpass(_ref3){var stepWrapperRef=_ref3.stepWrapperRef,onClickBack=_ref3.onClickBack,stepIndex=_ref3.stepIndex,guests=_ref3.guests,selectedDate=_ref3.selectedDate,selectedEntryTime=_ref3.selectedEntryTime,jetpassMaxLimit=_ref3.jetpassMaxLimit,dispatch=_ref3.dispatch,cartContext=(0,cart_context.iQ)(),t=(0,es.$G)().t,_useState2=select_jetpass_slicedToArray((0,react.useState)(!1),2),activatedJetpassModal=_useState2[0],setActivatedJetpassModal=_useState2[1],_useFocus2=select_jetpass_slicedToArray((0,use_focus.Z)(),2),focusRef=_useFocus2[0],setFocus=_useFocus2[1];(0,react.useEffect)((function(){!cartContext.showJetPassModal&&activatedJetpassModal&&(setFocus(),setActivatedJetpassModal(!1))}),[cartContext,activatedJetpassModal]);var onStepComplete=function onStepComplete(){group_admission_helper.Z.scrollAndCompleteStep(stepWrapperRef,group_admission_types.h.SELECT_JETPASS,dispatch,!0)},hasJetPassSelected=function anyGuestHasJetPassSelected(guests){return guests.some((function(guest){var _guest$admissionProdu3,_guest$admissionProdu4,selectedJetPasses=null!==(_guest$admissionProdu3=null==guest||null===(_guest$admissionProdu4=guest.admissionProduct)||void 0===_guest$admissionProdu4?void 0:_guest$admissionProdu4.selectedJetpasses)&&void 0!==_guest$admissionProdu3?_guest$admissionProdu3:[];return(0,array_helper.Of)(selectedJetPasses)}))}(guests),guestsHasExeededJetpassLimit=group_admission_helper.Z.hasGuestsExeededJetpassLimit(guests,jetpassMaxLimit);return(0,jsx_runtime.jsxs)("div",{className:select_jetpass_select_jetpass_module.wrapper,children:[guestsHasExeededJetpassLimit&&(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)("h4",{className:"subtitle ".concat(select_jetpass_select_jetpass_module.heading),"data-contentful-label-id":"selectJetpassStepHeadingTooManyGuests",children:t("selectJetpassStepHeadingTooManyGuests")}),(0,jsx_runtime.jsx)("p",{className:select_jetpass_select_jetpass_module.description,"data-contentful-label-id":"selectJetpassStepDescriptionTooManyGuests",children:t("selectJetpassStepDescriptionTooManyGuests")}),(0,jsx_runtime.jsx)("p",{"data-contentful-label-id":"selectJetpassStepTermsTooManyGuests",children:t("selectJetpassStepTermsTooManyGuests")}),(0,jsx_runtime.jsxs)("div",{ref:focusRef,tabIndex:-1,className:select_jetpass_select_jetpass_module.buttonWrapper,children:[stepIndex>0&&(0,jsx_runtime.jsx)(parks_button.KM,{isFullWidth:!0,onClick:onClickBack,className:select_jetpass_select_jetpass_module.prevButton,label:t("previous"),contentfulLabelId:"previous",complementary:!0}),(0,jsx_runtime.jsx)(parks_button.KM,{isFullWidth:!0,onClick:onStepComplete,isDisabled:!1,className:select_jetpass_select_jetpass_module.skipStepButton,label:t("nextStep"),contentfulLabelId:"nextStep",testId:"skip-jetpass-button"})]})]}),!guestsHasExeededJetpassLimit&&(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[!hasJetPassSelected&&(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)("h4",{className:"subtitle ".concat(select_jetpass_select_jetpass_module.heading),"data-contentful-label-id":"selectJetpassStepHeading",children:t("selectJetpassStepHeading")}),(0,jsx_runtime.jsx)("p",{className:select_jetpass_select_jetpass_module.description,"data-contentful-label-id":"selectJetpassStepDescription",children:(0,string_helper.L4)(t("selectJetpassStepDescription"),"2")}),(0,jsx_runtime.jsx)("p",{"data-contentful-label-id":"selectJetpassStepTerms",children:t("selectJetpassStepTerms")})]}),hasJetPassSelected&&(0,jsx_runtime.jsx)("ul",{className:select_jetpass_select_jetpass_module.guestList,children:guests.map((function(guest,i){return(0,jsx_runtime.jsx)("li",{className:select_jetpass_select_jetpass_module.guestListItem,children:(0,jsx_runtime.jsx)(GuestRow,{guest,index:i+1})},guest.id)}))}),(0,jsx_runtime.jsxs)("div",{ref:focusRef,tabIndex:-1,className:select_jetpass_select_jetpass_module.buttonWrapper,children:[stepIndex>0&&(0,jsx_runtime.jsx)(parks_button.KM,{isFullWidth:!0,onClick:onClickBack,className:select_jetpass_select_jetpass_module.prevButton,label:t("previous"),contentfulLabelId:"previous",complementary:!0}),(0,jsx_runtime.jsx)(parks_button.KM,{isFullWidth:!0,onClick:function onClickSelectJetpass(){var jetpassGuests=guests.map((function(guest){return function mapAdmissionGuestToJetpassGuest(guest,numberOfEntryTickets,numberOfJetpasses){var _guest$admissionProdu,_guest$admissionProdu2;if(guest.admissionProduct.id){var product={glkId:guest.admissionProduct.id,productName:guest.admissionProduct.productName};return{numberOfEntryTickets,numberOfJetpasses,entryPasses:null,jetPasses:null,name:guest.name,product,productTimeLimit:null!==(_guest$admissionProdu=null===(_guest$admissionProdu2=guest.admissionProduct)||void 0===_guest$admissionProdu2?void 0:_guest$admissionProdu2.timeLimits)&&void 0!==_guest$admissionProdu?_guest$admissionProdu:null,additionalInfo:{guestId:guest.id}}}console.error("Missing product id on guest admission product.")}(guest,0,guest.admissionProduct.numberOfJetpassIncluded)}));cartContext.setValue({jetPassAlternativeOptOut:function jetPassAlternativeOptOut(selectionData){return function onSelectJetpassComplete(selectionData){var guestDTOs=(0,array_helper.Of)(selectionData.guests)?selectionData.guests.map((function(guest){return function mapJetpassGuestToGuestDTO(jetPassGuest){var _jetPassGuest$jetPass,jetPasses=null!==(_jetPassGuest$jetPass=jetPassGuest.jetPasses)&&void 0!==_jetPassGuest$jetPass?_jetPassGuest$jetPass:[];return{id:jetPassGuest.additionalInfo.guestId,name:jetPassGuest.name,jetPasses:jetPasses.map((function(jetPass){return{attractionId:jetPass.attractionId,productId:jetPass.productId,attractionName:jetPass.attractionName,timeSlotId:jetPass.id,timeSlotFrom:jetPass.startDateTime,timeSlotTo:jetPass.endDateTime}}))}}(guest)})):[];setFocus(),setActivatedJetpassModal(!1),dispatch({type:group_admission_types.U.ADD_JETPASSES_TO_GUESTS,payload:{jetpassGuests:guestDTOs}}),onStepComplete()}(selectionData)},showJetPassModal:!0,jetPassDate:selectedDate,guests:jetpassGuests,jetPassOptions:{disableIntro:!0,enableBackButton:!1,filterOutTimesBefore:selectedEntryTime?selectedEntryTime.timeSlotFrom:void 0}}),setActivatedJetpassModal(!0)},label:t(hasJetPassSelected?"modify":"selectJetpassSelectRides"),contentfulLabelId:hasJetPassSelected?"modify":"selectJetpassSelectRides"})]}),(0,jsx_runtime.jsx)(parks_button.gh,{isFullWidth:!0,onClick:onStepComplete,isDisabled:!1,className:select_jetpass_select_jetpass_module.skipStepButton,label:t(hasJetPassSelected?"nextStep":"selectJetpassSelectRidesLater"),contentfulLabelId:hasJetPassSelected?"nextStep":"selectJetpassSelectRidesLater",testId:"skip-jetpass-button"})]})]})};SelectJetpass.displayName="SelectJetpass";const select_jetpass=SelectJetpass;try{selectjetpass.displayName="selectjetpass",selectjetpass.__docgenInfo={description:"",displayName:"selectjetpass",props:{stepWrapperRef:{defaultValue:null,description:"",name:"stepWrapperRef",required:!0,type:{name:"HTMLElement"}},guests:{defaultValue:null,description:"",name:"guests",required:!0,type:{name:"Guest[]"}},selectedDate:{defaultValue:null,description:"",name:"selectedDate",required:!0,type:{name:"Date"}},selectedEntryTime:{defaultValue:null,description:"",name:"selectedEntryTime",required:!0,type:{name:"SelectablePass"}},jetpassMaxLimit:{defaultValue:null,description:"",name:"jetpassMaxLimit",required:!1,type:{name:"number"}},stepIndex:{defaultValue:null,description:"",name:"stepIndex",required:!0,type:{name:"number"}},onClickBack:{defaultValue:null,description:"",name:"onClickBack",required:!0,type:{name:"() => void"}},dispatch:{defaultValue:null,description:"",name:"dispatch",required:!0,type:{name:"Dispatch<Action>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/group-admission/steps/select-jetpass/select-jetpass.tsx#selectjetpass"]={docgenInfo:selectjetpass.__docgenInfo,name:"selectjetpass",path:"src/components/group-admission/steps/select-jetpass/select-jetpass.tsx#selectjetpass"})}catch(__react_docgen_typescript_loader_error){}var select_entry_time_module=__webpack_require__("./node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[16].use[1]!./node_modules/postcss-loader/dist/cjs.js!./node_modules/less-loader/dist/cjs.js!./src/components/group-admission/steps/select-entry-time/select-entry-time.module.less"),select_entry_time_module_options={};select_entry_time_module_options.styleTagTransform=styleTagTransform_default(),select_entry_time_module_options.setAttributes=setAttributesWithoutAttributes_default(),select_entry_time_module_options.insert=insertBySelector_default().bind(null,"head"),select_entry_time_module_options.domAPI=styleDomAPI_default(),select_entry_time_module_options.insertStyleElement=insertStyleElement_default();injectStylesIntoStyleTag_default()(select_entry_time_module.Z,select_entry_time_module_options);const select_entry_time_select_entry_time_module=select_entry_time_module.Z&&select_entry_time_module.Z.locals?select_entry_time_module.Z.locals:void 0;var time_slot_list=__webpack_require__("./src/components/elements/time-slot-list/time-slot-list.tsx"),time_slot_service=__webpack_require__("./src/services/time-slot-service.ts");function select_entry_time_typeof(o){return select_entry_time_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},select_entry_time_typeof(o)}function select_entry_time_slicedToArray(arr,i){return function select_entry_time_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function select_entry_time_iterableToArrayLimit(r,l){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,n,i,u,a=[],f=!0,o=!1;try{if(i=(t=t.call(r)).next,0===l){if(Object(t)!==t)return;f=!1}else for(;!(f=(e=i.call(t)).done)&&(a.push(e.value),a.length!==l);f=!0);}catch(r){o=!0,n=r}finally{try{if(!f&&null!=t.return&&(u=t.return(),Object(u)!==u))return}finally{if(o)throw n}}return a}}(arr,i)||select_entry_time_unsupportedIterableToArray(arr,i)||function select_entry_time_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function select_entry_time_createForOfIteratorHelper(o,allowArrayLike){var it="undefined"!=typeof Symbol&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=select_entry_time_unsupportedIterableToArray(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0,F=function F(){};return{s:F,n:function n(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function e(_e){throw _e},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var err,normalCompletion=!0,didErr=!1;return{s:function s(){it=it.call(o)},n:function n(){var step=it.next();return normalCompletion=step.done,step},e:function e(_e2){didErr=!0,err=_e2},f:function f(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}function select_entry_time_toConsumableArray(arr){return function select_entry_time_arrayWithoutHoles(arr){if(Array.isArray(arr))return select_entry_time_arrayLikeToArray(arr)}(arr)||function select_entry_time_iterableToArray(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||select_entry_time_unsupportedIterableToArray(arr)||function select_entry_time_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function select_entry_time_unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return select_entry_time_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?select_entry_time_arrayLikeToArray(o,minLen):void 0}}function select_entry_time_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function select_entry_time_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function select_entry_time_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?select_entry_time_ownKeys(Object(t),!0).forEach((function(r){select_entry_time_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):select_entry_time_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function select_entry_time_defineProperty(obj,key,value){return(key=function select_entry_time_toPropertyKey(t){var i=function select_entry_time_toPrimitive(t,r){if("object"!=select_entry_time_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=select_entry_time_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==select_entry_time_typeof(i)?i:String(i)}(key))in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var filterTimeSlots=function filterTimeSlots(timeSlots,timeLimits){var futureTimeSlots=timeSlots.filter((function(timeSlot){return!date_helper.ZP.hasDatePassed(timeSlot.timeSlotFrom)}));return timeLimits?futureTimeSlots.filter((function(timeSlot){var timeSlotFromDate=(0,date_helper.Bq)(timeSlot.timeSlotFrom),firstEntryTime=timeLimits.firstEntryTime,firstEntryTimeDate=firstEntryTime?(0,date_helper.Bq)(date_helper.ZP.toStringYYYYMMDD(timeSlotFromDate)+"T"+firstEntryTime):null,lastEntryTime=timeLimits.lastEntryTime,lastEntryTimeDate=lastEntryTime?(0,date_helper.Bq)(date_helper.ZP.toStringYYYYMMDD(timeSlotFromDate)+"T"+lastEntryTime):null;return date_helper.ZP.isDateInDateSpan(timeSlotFromDate,firstEntryTimeDate,lastEntryTimeDate,"minute")})):futureTimeSlots},renderUpsellListItems=function renderUpsellListItems(selectedUpsellProductsBeforeEntryTime){return selectedUpsellProductsBeforeEntryTime.map((function(upsellProductForDate){var dateString=date_helper.ZP.toStringMMDDWeekday(upsellProductForDate.date);return(0,jsx_runtime.jsxs)("div",{children:[(0,jsx_runtime.jsx)("p",{children:dateString}),select_entry_time_toConsumableArray(upsellProductForDate.upsellProducts.values()).map((function(upsellProduct){return(0,jsx_runtime.jsx)("li",{className:select_entry_time_select_entry_time_module.informationModalListItem,children:upsellProduct.product.name},upsellProduct.product.id)}))]},(0,uniqueId.Z)())}))},InformationModalBodyElement=function InformationModalBodyElement(_ref){var hasSelectedJetpassesBeforeEntryTime=_ref.hasSelectedJetpassesBeforeEntryTime,selectedUpsellProductsBeforeEntryTime=_ref.selectedUpsellProductsBeforeEntryTime,t=(0,es.$G)().t;return(0,jsx_runtime.jsxs)("div",{className:select_entry_time_select_entry_time_module.informationModalBodyWrapper,children:[(0,jsx_runtime.jsx)("p",{className:select_entry_time_select_entry_time_module.informationModalBodyText,"data-contentful-label-id":"selectEntryTimeStepDialogChangeBodyText",children:t("selectEntryTimeStepDialogChangeBodyText")}),(0,jsx_runtime.jsxs)("ul",{className:select_entry_time_select_entry_time_module.informationModalList,children:[hasSelectedJetpassesBeforeEntryTime&&(0,jsx_runtime.jsx)("li",{className:select_entry_time_select_entry_time_module.informationModalListItem,"data-contentful-label-id":"jetpass",children:t("jetpass")}),(0,array_helper.Of)(selectedUpsellProductsBeforeEntryTime)&&renderUpsellListItems(selectedUpsellProductsBeforeEntryTime)]})]})};InformationModalBodyElement.displayName="InformationModalBodyElement";var SelectEntryTime=function SelectEntryTime(_ref2){var _entrances$0$timeSlot,_entrances$,_entrances$0$attracti,_entrances$2,_entrances$0$productI,_entrances$3,_entrances$0$attracti2,_entrances$4,onClickBack=_ref2.onClickBack,stepIndex=_ref2.stepIndex,selectedDates=_ref2.selectedDates,selectedVariant=_ref2.selectedVariant,guests=_ref2.guests,quantity=_ref2.quantity,dispatch=_ref2.dispatch,stepWrapperRef=_ref2.stepWrapperRef,_useState2=select_entry_time_slicedToArray((0,react.useState)([]),2),entrances=_useState2[0],setEntrances=_useState2[1],_useState4=select_entry_time_slicedToArray((0,react.useState)(!1),2),isLoading=_useState4[0],setIsLoading=_useState4[1],apiError=select_entry_time_slicedToArray((0,react.useState)(null),1)[0],_useState8=select_entry_time_slicedToArray((0,react.useState)(null),2),informationModalProps=_useState8[0],setInformationModalProps=_useState8[1],_useState10=select_entry_time_slicedToArray((0,react.useState)([]),2),prevSelectedDates=_useState10[0],setPrevSelectedDates=_useState10[1],t=(0,es.$G)().t,_useFocus2=select_entry_time_slicedToArray((0,use_focus.Z)(),2),focusRef=_useFocus2[0],setFocus=_useFocus2[1],firstVisitDateInSelectedDates=select_entry_time_toConsumableArray(selectedDates.values())[0],selectedEntryTimeOnFirstVisitDate=firstVisitDateInSelectedDates?firstVisitDateInSelectedDates.selectedEntryTime:null;(0,react.useEffect)((function(){var _guests$0$admissionPr,_guests$;if(selectedVariant&&0!==selectedDates.size&&!function isSelectedDatesIsEqualToPrevSelectedDates(selectedDates,prevSelectedDates){if(!(0,array_helper.Of)(prevSelectedDates))return!1;var _step,_iterator=select_entry_time_createForOfIteratorHelper(prevSelectedDates);try{for(_iterator.s();!(_step=_iterator.n()).done;){var date=_step.value;if(!selectedDates.has(date))return!1}}catch(err){_iterator.e(err)}finally{_iterator.f()}return!0}(selectedDates,prevSelectedDates)){setIsLoading(!0);var glkId=null!==(_guests$0$admissionPr=null==guests||null===(_guests$=guests[0])||void 0===_guests$||null===(_guests$=_guests$.admissionProduct)||void 0===_guests$?void 0:_guests$.id)&&void 0!==_guests$0$admissionPr?_guests$0$admissionPr:null,getEntrancesAndJetpassTimeslotsPromises=select_entry_time_toConsumableArray(selectedDates.keys()).map((function(date){return time_slot_service.Z.getEntrancesAndJetpassTimeslots(glkId,date_helper.ZP.toStringYYYYMMDD(date))}));Promise.all(getEntrancesAndJetpassTimeslotsPromises).then((function(response){var entranceAndJetpassTimeslotsArray=response.flatMap((function(responseForDate){var _responseForDate$resp,_responseForDate$resp2,_guests$0$admissionPr2,_guests$2,filteredEntrances=function filterEntrances(entrances,timeLimit){return entrances.map((function(entrance){return select_entry_time_objectSpread(select_entry_time_objectSpread({},entrance),{},{timeSlots:filterTimeSlots(entrance.timeSlots.map((function(timeSlot){return select_entry_time_objectSpread(select_entry_time_objectSpread({},timeSlot),{},{productId:entrance.productId})})),timeLimit)})}))}(null!==(_responseForDate$resp=null==responseForDate||null===(_responseForDate$resp2=responseForDate.response)||void 0===_responseForDate$resp2?void 0:_responseForDate$resp2.timePassTimeSlots)&&void 0!==_responseForDate$resp?_responseForDate$resp:[],null!==(_guests$0$admissionPr2=null==guests||null===(_guests$2=guests[0])||void 0===_guests$2||null===(_guests$2=_guests$2.admissionProduct)||void 0===_guests$2?void 0:_guests$2.timeLimits)&&void 0!==_guests$0$admissionPr2?_guests$0$admissionPr2:null);return filteredEntrances}));setPrevSelectedDates(select_entry_time_toConsumableArray(selectedDates.keys())),setEntrances(entranceAndJetpassTimeslotsArray)})).catch((function(error){console.error("getEntrancesAndJetpassTimeslots error: ",error)})).finally((function(){setIsLoading(!1)}))}}),[selectedDates,selectedVariant]);function closeDialog(){setFocus(),setInformationModalProps(null)}var timeSlots=null!==(_entrances$0$timeSlot=null==entrances||null===(_entrances$=entrances[0])||void 0===_entrances$?void 0:_entrances$.timeSlots)&&void 0!==_entrances$0$timeSlot?_entrances$0$timeSlot:[],attractionId=null!==(_entrances$0$attracti=null==entrances||null===(_entrances$2=entrances[0])||void 0===_entrances$2?void 0:_entrances$2.attractionId)&&void 0!==_entrances$0$attracti?_entrances$0$attracti:null,productId=null!==(_entrances$0$productI=null==entrances||null===(_entrances$3=entrances[0])||void 0===_entrances$3?void 0:_entrances$3.productId)&&void 0!==_entrances$0$productI?_entrances$0$productI:null,attractionName=null!==(_entrances$0$attracti2=null==entrances||null===(_entrances$4=entrances[0])||void 0===_entrances$4?void 0:_entrances$4.attractionName)&&void 0!==_entrances$0$attracti2?_entrances$0$attracti2:null,totalGuestQuantity=quantity.size&&select_entry_time_toConsumableArray(quantity.values()).reduce((function(prev,curr){return prev+curr}));return(0,jsx_runtime.jsxs)("div",{ref:focusRef,tabIndex:-1,className:select_entry_time_select_entry_time_module.wrapper,children:[(0,jsx_runtime.jsxs)("div",{className:"".concat(select_entry_time_select_entry_time_module.innerWrapper," ").concat(isLoading||apiError?select_entry_time_select_entry_time_module.faded:""),children:[(0,jsx_runtime.jsx)("h4",{className:"subtitle ".concat(select_entry_time_select_entry_time_module.heading),"data-contentful-label-id":"selectEntryTimeStepTitle",children:t("selectEntryTimeStepTitle")}),selectedVariant&&selectedVariant.numberOfDays>1?(0,jsx_runtime.jsx)("p",{className:select_entry_time_select_entry_time_module.description,"data-contentful-label-id":"selectEntryTimeStepDescriptionMultipleDays",children:t("selectEntryTimeStepDescriptionMultipleDays")}):(0,jsx_runtime.jsx)("p",{className:select_entry_time_select_entry_time_module.description,"data-contentful-label-id":"selectEntryTimeStepDescription",children:t("selectEntryTimeStepDescription")}),(0,jsx_runtime.jsx)(time_slot_list.cL,{timeSlots:timeSlots.map((function(timeSlot){return select_entry_time_objectSpread(select_entry_time_objectSpread({},timeSlot),{},{productId})})),attractionId,productId,attractionName,heading:null,onClick:function onClickSelectTimeSlot(timeSlot,productId,attractionId,attractionName){var _step2,selectedEntryTimePerDate=group_admission_helper.Z.getSelectedTimeSlotsFromEntrancesArray(entrances,timeSlot.timeSlotFrom).map((function(timeSlotPerVisitDate){return group_admission_helper.Z.mapJetshopTimeSlotToSelectablePass(timeSlotPerVisitDate,productId,attractionId,attractionName)})),hasSelectedJetpassesBeforeEntryTime=!1,selectedUpsellProductsBeforeEntryTime=new Array,_iterator2=select_entry_time_createForOfIteratorHelper(selectedEntryTimePerDate);try{var _loop=function _loop(){var selectedEntryTimeForDate=_step2.value,dateKey=date_helper.ZP.toStringYYYYMMDD(selectedEntryTimeForDate.timeSlotFrom);guests.some((function(guest){var jetpassForDate=guest.admissionProduct.selectedJetpasses.find((function(jetpass){return date_helper.ZP.toStringYYYYMMDD(jetpass.timeSlotFrom)===dateKey}));return(0,array_helper.Of)(jetpassForDate)}))&&(hasSelectedJetpassesBeforeEntryTime=group_admission_helper.Z.hasSelectedJetpassesBeforePickedEntryTime(guests,selectedEntryTimeForDate.timeSlotFrom));var visitDate=selectedDates.get(dateKey);visitDate.selectedUpsellProducts.size>0&&selectedUpsellProductsBeforeEntryTime.push.apply(selectedUpsellProductsBeforeEntryTime,select_entry_time_toConsumableArray(group_admission_helper.Z.getSelectedUpsellProductsBeforePickedEntryTime(visitDate.selectedUpsellProducts,selectedEntryTimeForDate.timeSlotFrom)))};for(_iterator2.s();!(_step2=_iterator2.n()).done;)_loop()}catch(err){_iterator2.e(err)}finally{_iterator2.f()}hasSelectedJetpassesBeforeEntryTime||(0,array_helper.Of)(selectedUpsellProductsBeforeEntryTime)?setInformationModalProps({bodyText:(0,jsx_runtime.jsx)(InformationModalBodyElement,{hasSelectedJetpassesBeforeEntryTime,selectedUpsellProductsBeforeEntryTime}),selectedEntryTimeArray:selectedEntryTimePerDate,removeSelectedJetpasses:hasSelectedJetpassesBeforeEntryTime,selectedUpsellProductsBeforeEntryTime}):dispatch({type:group_admission_types.U.SELECT_ENTRY_TIME,payload:{selectedEntryTime:selectedEntryTimePerDate}})},showMoreThreshhold:12,selectedTimeSlotId:selectedEntryTimeOnFirstVisitDate?selectedEntryTimeOnFirstVisitDate.timeSlotId:null,quantity:totalGuestQuantity}),(0,jsx_runtime.jsx)(button_row.V,{stepIndex,onClickBack,onClickStepComplete:function onClickStepComplete(){group_admission_helper.Z.scrollAndCompleteStep(stepWrapperRef,group_admission_types.h.SELECT_ENTRY_TIME,dispatch)},nextDisabled:!selectedEntryTimeOnFirstVisitDate})]}),isLoading&&(0,jsx_runtime.jsx)("div",{className:select_entry_time_select_entry_time_module.loader,children:(0,jsx_runtime.jsx)("h4",{"data-contentful-label-id":"selectEntryTimeStepLoadingEntryTimes",children:t("selectEntryTimeStepLoadingEntryTimes")})}),apiError&&(0,jsx_runtime.jsxs)("div",{className:select_entry_time_select_entry_time_module.loader,children:[(0,jsx_runtime.jsx)("h4",{"data-contentful-label-id":"selectEntryTimeStepErrorGetEntryTimes",children:t("selectEntryTimeStepErrorGetEntryTimes")}),(0,jsx_runtime.jsx)(parks_button.KM,{isFullWidth:!0,className:select_entry_time_select_entry_time_module.continueButton,label:t("tryAgain"),contentfulLabelId:"tryAgain"})]}),(0,jsx_runtime.jsx)(AnimatePresence.M,{children:informationModalProps&&(0,jsx_runtime.jsx)(dialog_modal.Z,{headingText:t("selectEntryTimeStepDialogHeadingText"),bodyText:informationModalProps.bodyText,primaryButtonText:t("selectEntryTimeStepDialogConfirmChange"),primaryButtonAction:function primaryButtonAction(){return function onClickAcceptChange(informationModalProps){var selectedEntryTimeArray=informationModalProps.selectedEntryTimeArray,removeSelectedJetpasses=informationModalProps.removeSelectedJetpasses,selectedUpsellProductsBeforeEntryTime=informationModalProps.selectedUpsellProductsBeforeEntryTime;dispatch({type:group_admission_types.U.SELECT_ENTRY_TIME,payload:{selectedEntryTime:selectedEntryTimeArray,removeSelectedJetpasses,updatedSelectedUpsellProducts:selectedUpsellProductsBeforeEntryTime}}),closeDialog()}(informationModalProps)},secondaryButtonText:t("cancel"),secondaryButtonAction:closeDialog,onCloseFunction:closeDialog,contentfulLabelIds:{headingText:"selectEntryTimeStepDialogHeading",bodyText:"selectEntryTimeStepDialogBodyText",confirmChange:"selectEntryTimeStepDialogConfirmChange",cancelChange:"cancel"}})})]})};SelectEntryTime.displayName="SelectEntryTime";const select_entry_time=SelectEntryTime;try{selectentrytime.displayName="selectentrytime",selectentrytime.__docgenInfo={description:"",displayName:"selectentrytime",props:{selectedVariant:{defaultValue:null,description:"",name:"selectedVariant",required:!0,type:{name:"EntryVariant"}},selectedDates:{defaultValue:null,description:"",name:"selectedDates",required:!0,type:{name:"Map<string, VisitDate>"}},guests:{defaultValue:null,description:"",name:"guests",required:!0,type:{name:"Guest[]"}},quantity:{defaultValue:null,description:"",name:"quantity",required:!0,type:{name:'Map<"Adult" | "Child" | "Elderly" | "Baby", number>'}},stepWrapperRef:{defaultValue:null,description:"",name:"stepWrapperRef",required:!0,type:{name:"HTMLElement"}},stepIndex:{defaultValue:null,description:"",name:"stepIndex",required:!0,type:{name:"number"}},onClickBack:{defaultValue:null,description:"",name:"onClickBack",required:!0,type:{name:"() => void"}},dispatch:{defaultValue:null,description:"",name:"dispatch",required:!0,type:{name:"Dispatch<Action>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/group-admission/steps/select-entry-time/select-entry-time.tsx#selectentrytime"]={docgenInfo:selectentrytime.__docgenInfo,name:"selectentrytime",path:"src/components/group-admission/steps/select-entry-time/select-entry-time.tsx#selectentrytime"})}catch(__react_docgen_typescript_loader_error){}var upsell_module=__webpack_require__("./node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[16].use[1]!./node_modules/postcss-loader/dist/cjs.js!./node_modules/less-loader/dist/cjs.js!./src/components/group-admission/steps/upsell/upsell.module.less"),upsell_module_options={};upsell_module_options.styleTagTransform=styleTagTransform_default(),upsell_module_options.setAttributes=setAttributesWithoutAttributes_default(),upsell_module_options.insert=insertBySelector_default().bind(null,"head"),upsell_module_options.domAPI=styleDomAPI_default(),upsell_module_options.insertStyleElement=insertStyleElement_default();injectStylesIntoStyleTag_default()(upsell_module.Z,upsell_module_options);const upsell_upsell_module=upsell_module.Z&&upsell_module.Z.locals?upsell_module.Z.locals:void 0;var upsell_list_module=__webpack_require__("./node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[16].use[1]!./node_modules/postcss-loader/dist/cjs.js!./node_modules/less-loader/dist/cjs.js!./src/components/group-admission/steps/upsell/upsell-list/upsell-list.module.less"),upsell_list_module_options={};upsell_list_module_options.styleTagTransform=styleTagTransform_default(),upsell_list_module_options.setAttributes=setAttributesWithoutAttributes_default(),upsell_list_module_options.insert=insertBySelector_default().bind(null,"head"),upsell_list_module_options.domAPI=styleDomAPI_default(),upsell_list_module_options.insertStyleElement=insertStyleElement_default();injectStylesIntoStyleTag_default()(upsell_list_module.Z,upsell_list_module_options);const upsell_list_upsell_list_module=upsell_list_module.Z&&upsell_list_module.Z.locals?upsell_list_module.Z.locals:void 0;var upsell_item=__webpack_require__("./src/components/group-admission/steps/upsell/upsell-item/upsell-item.tsx"),upsell_functions=__webpack_require__("./src/components/group-admission/steps/upsell/upsell-functions.tsx");function upsell_list_typeof(o){return upsell_list_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},upsell_list_typeof(o)}function upsell_list_slicedToArray(arr,i){return function upsell_list_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function upsell_list_iterableToArrayLimit(r,l){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,n,i,u,a=[],f=!0,o=!1;try{if(i=(t=t.call(r)).next,0===l){if(Object(t)!==t)return;f=!1}else for(;!(f=(e=i.call(t)).done)&&(a.push(e.value),a.length!==l);f=!0);}catch(r){o=!0,n=r}finally{try{if(!f&&null!=t.return&&(u=t.return(),Object(u)!==u))return}finally{if(o)throw n}}return a}}(arr,i)||function upsell_list_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return upsell_list_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return upsell_list_arrayLikeToArray(o,minLen)}(arr,i)||function upsell_list_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function upsell_list_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function upsell_list_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function upsell_list_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?upsell_list_ownKeys(Object(t),!0).forEach((function(r){upsell_list_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):upsell_list_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function upsell_list_defineProperty(obj,key,value){return(key=function upsell_list_toPropertyKey(t){var i=function upsell_list_toPrimitive(t,r){if("object"!=upsell_list_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=upsell_list_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==upsell_list_typeof(i)?i:String(i)}(key))in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var sortUpsellProducts=function sortUpsellProducts(products,timeSlotsForProductsForDate,selectedEntryTimeSlot,guests){var sortedUpsellProducts=products.map((function(product){if("Standard"===product.productType)return upsell_list_objectSpread(upsell_list_objectSpread({},product),{},{disabled:!1,timeSlots:null});var timeSlotsForProduct=(0,upsell_functions.ow)(product,timeSlotsForProductsForDate);if((0,array_helper.Of)(timeSlotsForProduct)){var filteredTimeSlotsByRideTimeOrEntry=function filterTimeSlotsByRideTimeOrEntry(timeSlotsForProduct,selectedEntryTimeSlot,guests,product){var firstGuestWithRideTimes=guests.find((function(guest){var _guest$admissionProdu,_guest$admissionProdu2;return!(null===(_guest$admissionProdu=guest.admissionProduct)||void 0===_guest$admissionProdu||null===(_guest$admissionProdu=_guest$admissionProdu.timeLimits)||void 0===_guest$admissionProdu||!_guest$admissionProdu.firstRideTime||null===(_guest$admissionProdu2=guest.admissionProduct)||void 0===_guest$admissionProdu2||null===(_guest$admissionProdu2=_guest$admissionProdu2.timeLimits)||void 0===_guest$admissionProdu2||!_guest$admissionProdu2.lastRideTime)})),findTimePassRequired=guests.some((function(guest){var _guest$admissionProdu3;return(null===(_guest$admissionProdu3=guest.admissionProduct)||void 0===_guest$admissionProdu3?void 0:_guest$admissionProdu3.timePassRequired)||!1})),filteredTimeSlotsQuantities=timeSlotsForProduct.filter((function(slot){return slot.quantity>0})),noRideTimeLimitsConfigured=!firstGuestWithRideTimes,noTimePassRequired=!findTimePassRequired;if(product.purchasableOutsideEntryTime||noRideTimeLimitsConfigured&&noTimePassRequired)return{disabled:!1,timeSlots:filteredTimeSlotsQuantities};if(firstGuestWithRideTimes&&!findTimePassRequired){var firstRideTimeLimit=firstGuestWithRideTimes.admissionProduct.timeLimits.firstRideTime,lastRideTimeLimit=firstGuestWithRideTimes.admissionProduct.timeLimits.lastRideTime,filteredTimeSlotsOnRideTime=(0,upsell_functions.kk)(filteredTimeSlotsQuantities,firstRideTimeLimit,lastRideTimeLimit);return{disabled:!(0,array_helper.Of)(filteredTimeSlotsOnRideTime),timeSlots:filteredTimeSlotsOnRideTime}}if(selectedEntryTimeSlot){var filteredTimeSlotsOnSelectedEntryTimeSlot=(0,upsell_functions.wB)(filteredTimeSlotsQuantities,selectedEntryTimeSlot);return{disabled:!(0,array_helper.Of)(filteredTimeSlotsOnSelectedEntryTimeSlot),timeSlots:filteredTimeSlotsQuantities}}return{disabled:!0,timeSlots:timeSlotsForProduct}}(timeSlotsForProduct,selectedEntryTimeSlot,guests,product);return upsell_list_objectSpread(upsell_list_objectSpread({},product),{},{disabled:filteredTimeSlotsByRideTimeOrEntry.disabled,timeSlots:filteredTimeSlotsByRideTimeOrEntry.timeSlots,timeLimits:product.timeLimits})}return upsell_list_objectSpread(upsell_list_objectSpread({},product),{},{disabled:!0,timeSlots:[],timeLimits:product.timeLimits})})).sort((function(a,b){return!a.disabled&&b.disabled?-1:a.disabled&&!b.disabled?1:0}));return sortedUpsellProducts},UpsellList=function UpsellList(_ref){var upsellProducts=_ref.upsellProducts,selectedDate=_ref.selectedDate,totalGroupSize=_ref.totalGroupSize,selectedUpsellProducts=_ref.selectedUpsellProducts,selectedEntryTimeSlot=_ref.selectedEntryTimeSlot,selectedVariant=_ref.selectedVariant,guests=_ref.guests,setAnyUpsellProductsAvailable=_ref.setAnyUpsellProductsAvailable,dispatch=_ref.dispatch,_useState2=upsell_list_slicedToArray((0,react.useState)(null),2),timeSlotsForProductsForDate=_useState2[0],setTimeSlotsForProductsForDate=_useState2[1],_useState4=upsell_list_slicedToArray((0,react.useState)(!1),2),isLoadingTimeSlots=_useState4[0],setIsLoadingTimeSlots=_useState4[1],t=(0,es.$G)().t,sortedUpsellProducts=(0,react.useMemo)((function(){return sortUpsellProducts(upsellProducts,timeSlotsForProductsForDate,selectedEntryTimeSlot,guests)}),[upsellProducts,timeSlotsForProductsForDate,selectedEntryTimeSlot,guests]);return(0,react.useEffect)((function(){if(selectedDate){var upsellProductsWithTimeSlotsToFetch=upsellProducts.filter((function(product){return"Standard"!==product.productType&&selectedDate.upsellProductsForDate.some((function(p){return p.productId===product.id}))}));(0,array_helper.Of)(upsellProductsWithTimeSlotsToFetch)&&(setIsLoadingTimeSlots(!0),(0,upsell_functions.Py)(upsellProductsWithTimeSlotsToFetch,selectedDate.date).then((function(responses){var productTimeSlotsResponseMap=new Map(upsellProductsWithTimeSlotsToFetch.map((function(_ref2,i){var _responses$i;return[_ref2.id,null!==(_responses$i=responses[i])&&void 0!==_responses$i?_responses$i:[]]})));setTimeSlotsForProductsForDate(productTimeSlotsResponseMap)})).catch((function(err){console.error(err)})).finally((function(){setIsLoadingTimeSlots(!1)})))}}),[selectedDate,selectedVariant,selectedEntryTimeSlot]),(0,react.useEffect)((function(){if(sortedUpsellProducts){var anyUpsellProductsAvailable=sortedUpsellProducts.some((function(product){return(0,array_helper.Of)(product.timeSlots)||"Standard"===product.productType}));return setAnyUpsellProductsAvailable(anyUpsellProductsAvailable)}}),[sortedUpsellProducts]),(0,jsx_runtime.jsx)("ul",{className:upsell_list_upsell_list_module.upsellList,children:isLoadingTimeSlots?(0,jsx_runtime.jsx)("h2",{"data-contentful-label-id":"loading",children:t("loading")}):sortedUpsellProducts.map((function(product){var _product$timeSlots;if(product&&((0,array_helper.Of)(product.timeSlots)||"Standard"===product.productType))return(0,jsx_runtime.jsx)("li",{children:(0,jsx_runtime.jsx)(upsell_item.Z,{upsellProduct:product,selectedUpsellProduct:null==selectedUpsellProducts?void 0:selectedUpsellProducts.get(product.id),selectedEntryTimeSlot,timeSlots:null!==(_product$timeSlots=product.timeSlots)&&void 0!==_product$timeSlots?_product$timeSlots:[],selectedDate:selectedDate.date,totalGroupSize,isDisabled:product.disabled,dispatch})},product.id)}))})};UpsellList.displayName="UpsellList";const upsell_list=UpsellList;try{upselllist.displayName="upselllist",upselllist.__docgenInfo={description:"",displayName:"upselllist",props:{upsellProducts:{defaultValue:null,description:"",name:"upsellProducts",required:!0,type:{name:"UpsellProduct[]"}},selectedDate:{defaultValue:null,description:"",name:"selectedDate",required:!0,type:{name:"PurchaseFlowDate"}},selectedEntryTimeSlot:{defaultValue:null,description:"",name:"selectedEntryTimeSlot",required:!0,type:{name:"SelectablePass"}},totalGroupSize:{defaultValue:null,description:"",name:"totalGroupSize",required:!0,type:{name:"number"}},selectedUpsellProducts:{defaultValue:null,description:"",name:"selectedUpsellProducts",required:!0,type:{name:"Map<number, SelectedUpsellProduct>"}},selectedVariant:{defaultValue:null,description:"",name:"selectedVariant",required:!0,type:{name:"EntryVariant"}},guests:{defaultValue:null,description:"",name:"guests",required:!0,type:{name:"Guest[]"}},setAnyUpsellProductsAvailable:{defaultValue:null,description:"",name:"setAnyUpsellProductsAvailable",required:!0,type:{name:"(value: boolean) => void"}},dispatch:{defaultValue:null,description:"",name:"dispatch",required:!0,type:{name:"Dispatch<Action>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/group-admission/steps/upsell/upsell-list/upsell-list.tsx#upselllist"]={docgenInfo:upselllist.__docgenInfo,name:"upselllist",path:"src/components/group-admission/steps/upsell/upsell-list/upsell-list.tsx#upselllist"})}catch(__react_docgen_typescript_loader_error){}function upsell_toConsumableArray(arr){return function upsell_arrayWithoutHoles(arr){if(Array.isArray(arr))return upsell_arrayLikeToArray(arr)}(arr)||function upsell_iterableToArray(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||upsell_unsupportedIterableToArray(arr)||function upsell_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function upsell_slicedToArray(arr,i){return function upsell_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function upsell_iterableToArrayLimit(r,l){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,n,i,u,a=[],f=!0,o=!1;try{if(i=(t=t.call(r)).next,0===l){if(Object(t)!==t)return;f=!1}else for(;!(f=(e=i.call(t)).done)&&(a.push(e.value),a.length!==l);f=!0);}catch(r){o=!0,n=r}finally{try{if(!f&&null!=t.return&&(u=t.return(),Object(u)!==u))return}finally{if(o)throw n}}return a}}(arr,i)||upsell_unsupportedIterableToArray(arr,i)||function upsell_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function upsell_unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return upsell_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?upsell_arrayLikeToArray(o,minLen):void 0}}function upsell_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var Upsell=function Upsell(_ref){var onClickBack=_ref.onClickBack,stepIndex=_ref.stepIndex,upsellProducts=_ref.upsellProducts,selectedDates=_ref.selectedDates,quantity=_ref.quantity,guests=_ref.guests,selectedVariant=_ref.selectedVariant,stepWrapperRef=_ref.stepWrapperRef,productStore=_ref.productStore,dispatch=_ref.dispatch,_useState2=upsell_slicedToArray((0,react.useState)(!0),2),isLoading=_useState2[0],setIsLoading=_useState2[1],_useState4=upsell_slicedToArray((0,react.useState)(null),2),apiError=_useState4[0],_useState6=(_useState4[1],upsell_slicedToArray((0,react.useState)([]),2)),extendedUpsellProducts=_useState6[0],setExtendedUpsellProducts=_useState6[1],totalGroupSize=(0,react.useMemo)((function(){return(0,sum.Z)(upsell_toConsumableArray(quantity.values()))}),[quantity]),_useState8=upsell_slicedToArray((0,react.useState)(!0),2),anyUpsellProductsAvailable=_useState8[0],setAnyUpsellProductsAvailable=_useState8[1],t=(0,es.$G)().t,isAnyUpsellProductsAvailable=function isAnyUpsellProductsAvailable(value){return setAnyUpsellProductsAvailable(value)};return(0,react.useEffect)((function(){if(upsellProducts){var extendedUpsellProducts=(0,upsell_functions.e)(upsellProducts,productStore);setExtendedUpsellProducts(extendedUpsellProducts),setIsLoading(!1)}}),[upsellProducts]),(0,jsx_runtime.jsxs)("div",{className:upsell_upsell_module.wrapper,children:[(0,jsx_runtime.jsxs)("div",{className:"".concat(upsell_upsell_module.innerWrapper," ").concat(isLoading||apiError?upsell_upsell_module.faded:""),children:[(0,jsx_runtime.jsxs)("div",{className:upsell_upsell_module.textWrapper,children:[(0,jsx_runtime.jsx)("h6",{className:"".concat(upsell_upsell_module.heading),"data-contentful-label-id":"upsellStepHeading",children:t("upsellStepHeading")}),anyUpsellProductsAvailable&&!isLoading&&(0,jsx_runtime.jsx)("p",{className:upsell_upsell_module.description,"data-contentful-label-id":"upsellStepDescription",children:t("upsellStepDescription")}),!anyUpsellProductsAvailable&&!isLoading&&(0,jsx_runtime.jsx)("p",{className:upsell_upsell_module.description,"data-contentful-label-id":"upsellStepNoProductsDescription",children:t("upsellStepNoProductsDescription")})]}),!isLoading&&upsell_toConsumableArray(selectedDates.values()).map((function(_ref2){var _ref3=upsell_slicedToArray(_ref2,2),visitDate=_ref3[0],calendarData=_ref3[1];return(0,jsx_runtime.jsxs)("div",{children:[anyUpsellProductsAvailable&&(0,jsx_runtime.jsx)("h6",{className:upsell_upsell_module.upsellItemListHeading,children:(0,string_helper.fm)(date_helper.ZP.toStringMMDDWeekday(visitDate.date))}),(0,jsx_runtime.jsx)(upsell_list,{upsellProducts:extendedUpsellProducts,selectedDate:calendarData,selectedEntryTimeSlot:visitDate.selectedEntryTime,selectedVariant,totalGroupSize,selectedUpsellProducts:visitDate.selectedUpsellProducts,guests,setAnyUpsellProductsAvailable:isAnyUpsellProductsAvailable,dispatch})]},visitDate.date.toString())})),(0,jsx_runtime.jsx)("div",{className:upsell_upsell_module.buttonWrapper,children:(0,jsx_runtime.jsx)(button_row.V,{stepIndex,onClickBack,onClickStepComplete:function onClickStepComplete(){group_admission_helper.Z.scrollAndCompleteStep(stepWrapperRef,group_admission_types.h.UPSELL,dispatch)}})})]}),isLoading&&(0,jsx_runtime.jsx)("div",{className:upsell_upsell_module.loader,children:(0,jsx_runtime.jsx)("h4",{children:t("fetchingProducts")})}),apiError&&(0,jsx_runtime.jsxs)("div",{className:upsell_upsell_module.loader,children:[(0,jsx_runtime.jsx)("h4",{children:t("upsellStepSomethingWentWrong")}),(0,jsx_runtime.jsx)(parks_button.KM,{isFullWidth:!0,onClick:function onClick(){console.log("Fetch upsell data")},className:upsell_upsell_module.continueButton,label:t("tryAgain"),contentfulLabelId:"tryAgain"})]})]})};Upsell.displayName="Upsell";const upsell_upsell=Upsell;try{upsell.displayName="upsell",upsell.__docgenInfo={description:"",displayName:"upsell",props:{upsellProducts:{defaultValue:null,description:"",name:"upsellProducts",required:!0,type:{name:"UpsellProductItem[]"}},selectedDates:{defaultValue:null,description:"",name:"selectedDates",required:!0,type:{name:"Map<string, [VisitDate, PurchaseFlowDate]>"}},quantity:{defaultValue:null,description:"",name:"quantity",required:!0,type:{name:'Map<"Adult" | "Child" | "Elderly" | "Baby", number>'}},guests:{defaultValue:null,description:"",name:"guests",required:!0,type:{name:"Guest[]"}},selectedVariant:{defaultValue:null,description:"",name:"selectedVariant",required:!0,type:{name:"EntryVariant"}},stepWrapperRef:{defaultValue:null,description:"",name:"stepWrapperRef",required:!0,type:{name:"HTMLElement"}},productStore:{defaultValue:null,description:"",name:"productStore",required:!0,type:{name:"IProductStore"}},stepIndex:{defaultValue:null,description:"",name:"stepIndex",required:!0,type:{name:"number"}},onClickBack:{defaultValue:null,description:"",name:"onClickBack",required:!0,type:{name:"() => void"}},dispatch:{defaultValue:null,description:"",name:"dispatch",required:!0,type:{name:"Dispatch<Action>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/group-admission/steps/upsell/upsell.tsx#upsell"]={docgenInfo:upsell.__docgenInfo,name:"upsell",path:"src/components/group-admission/steps/upsell/upsell.tsx#upsell"})}catch(__react_docgen_typescript_loader_error){}var summary_module=__webpack_require__("./node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[16].use[1]!./node_modules/postcss-loader/dist/cjs.js!./node_modules/less-loader/dist/cjs.js!./src/components/group-admission/steps/summary/summary.module.less"),summary_module_options={};summary_module_options.styleTagTransform=styleTagTransform_default(),summary_module_options.setAttributes=setAttributesWithoutAttributes_default(),summary_module_options.insert=insertBySelector_default().bind(null,"head"),summary_module_options.domAPI=styleDomAPI_default(),summary_module_options.insertStyleElement=insertStyleElement_default();injectStylesIntoStyleTag_default()(summary_module.Z,summary_module_options);const summary_summary_module=summary_module.Z&&summary_module.Z.locals?summary_module.Z.locals:void 0;var currency_helper=__webpack_require__("./src/helpers/currency-helper.ts"),summary_list=__webpack_require__("./src/components/elements/summary-list/summary-list.tsx"),summary_total=__webpack_require__("./src/components/elements/summary-total/summary-total.tsx"),event_aggregator=__webpack_require__("./src/helpers/event-aggregator.ts");function norce_payment_button_slicedToArray(arr,i){return function norce_payment_button_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function norce_payment_button_iterableToArrayLimit(r,l){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,n,i,u,a=[],f=!0,o=!1;try{if(i=(t=t.call(r)).next,0===l){if(Object(t)!==t)return;f=!1}else for(;!(f=(e=i.call(t)).done)&&(a.push(e.value),a.length!==l);f=!0);}catch(r){o=!0,n=r}finally{try{if(!f&&null!=t.return&&(u=t.return(),Object(u)!==u))return}finally{if(o)throw n}}return a}}(arr,i)||norce_payment_button_unsupportedIterableToArray(arr,i)||function norce_payment_button_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function norce_payment_button_toConsumableArray(arr){return function norce_payment_button_arrayWithoutHoles(arr){if(Array.isArray(arr))return norce_payment_button_arrayLikeToArray(arr)}(arr)||function norce_payment_button_iterableToArray(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||norce_payment_button_unsupportedIterableToArray(arr)||function norce_payment_button_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function norce_payment_button_unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return norce_payment_button_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?norce_payment_button_arrayLikeToArray(o,minLen):void 0}}function norce_payment_button_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var trackCheckout=function trackCheckout(guests,visitDatesArray){var products=guests.map((function(guest){return{name:guest.admissionProduct.productName,id:guest.admissionProduct.jetshopId?guest.admissionProduct.jetshopId.toString():"",price:guest.admissionProduct.price,category:guest.admissionProduct.jetshopProductType,quantity:1,glkId:guest.admissionProduct.id}}));visitDatesArray.forEach((function(visitDate){var _step,_iterator=function norce_payment_button_createForOfIteratorHelper(o,allowArrayLike){var it="undefined"!=typeof Symbol&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=norce_payment_button_unsupportedIterableToArray(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0,F=function F(){};return{s:F,n:function n(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function e(_e){throw _e},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var err,normalCompletion=!0,didErr=!1;return{s:function s(){it=it.call(o)},n:function n(){var step=it.next();return normalCompletion=step.done,step},e:function e(_e2){didErr=!0,err=_e2},f:function f(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}(visitDate.selectedUpsellProducts);try{for(_iterator.s();!(_step=_iterator.n()).done;){var _step$value=norce_payment_button_slicedToArray(_step.value,2),glkId=_step$value[0],selectedUpsellProduct=_step$value[1];products.push({name:selectedUpsellProduct.product.name,id:selectedUpsellProduct.product.jetshopId?selectedUpsellProduct.product.jetshopId.toString():"",price:selectedUpsellProduct.product.price,category:selectedUpsellProduct.product.productType,quantity:selectedUpsellProduct.quantity,glkId})}}catch(err){_iterator.e(err)}finally{_iterator.f()}})),event_aggregator.ZP.publish("trackEcommerce",{event:"checkout",action:{checkout:{actionField:{step:1},products}}})};function NorcePaymentButton(_ref){var guests=_ref.guests,visitorCategories=_ref.visitorCategories,visitDatesArray=_ref.visitDatesArray,onBeforeCheckout=_ref.onBeforeCheckout,termsAndConditionsLink=_ref.termsAndConditionsLink,cartContext=(0,cart_context.iQ)(),_useState2=norce_payment_button_slicedToArray((0,react.useState)(!1),2),isAddingToCart=_useState2[0],setIsAddingToCart=_useState2[1],cartReadyProducts=(0,react.useMemo)((function(){return function mapStateToCartReadyProducts(guests,visitorCategories,visitDatesArray){var cartReadyProducts=[];if((0,array_helper.Of)(guests)&&(0,array_helper.Of)(visitDatesArray)){var mappedGuests=guests.map((function(guest){return group_admission_helper.Z.mapGuestToCartReadyProduct(guest,visitDatesArray[0].selectedEntryTime,visitorCategories)}));cartReadyProducts.push.apply(cartReadyProducts,norce_payment_button_toConsumableArray(mappedGuests))}return(0,array_helper.Of)(visitDatesArray)&&visitDatesArray.forEach((function(visitDate){var mappedUpsellProducts=norce_payment_button_toConsumableArray(visitDate.selectedUpsellProducts.values()).map((function(upsellProducts){return group_admission_helper.Z.mapUpsellProductToCartReadyProduct(upsellProducts)}));cartReadyProducts.push.apply(cartReadyProducts,norce_payment_button_toConsumableArray(mappedUpsellProducts))})),cartReadyProducts}(guests,visitorCategories,visitDatesArray.map((function(_ref2){return norce_payment_button_slicedToArray(_ref2,1)[0]})))}),[guests,visitDatesArray,visitorCategories]);return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(button_row.V,{onClickStepComplete:function continueToPayment(){setIsAddingToCart(!0),cartContext.addCart(cartReadyProducts).then((function(response){var _response$cart,cartId=null==response||null===(_response$cart=response.cart)||void 0===_response$cart?void 0:_response$cart.cartId;trackCheckout(guests,visitDatesArray.map((function(_ref4){return norce_payment_button_slicedToArray(_ref4,1)[0]}))),null==onBeforeCheckout||onBeforeCheckout();var url=cartContext.getCheckoutUrl(cartId);window.location.href=url})).catch((function(err){setIsAddingToCart(!1),console.error("Failed add to cart:",err)}))},nextDisabled:isAddingToCart,nextStepLabelOverride:isAddingToCart?"addingToCart":"goToCheckout"}),termsAndConditionsLink&&(0,jsx_runtime.jsx)("p",{children:(0,jsx_runtime.jsx)(link_link.Z,{className:summary_summary_module.termsLink,contentfulLink:termsAndConditionsLink})})]})}try{NorcePaymentButton.displayName="NorcePaymentButton",NorcePaymentButton.__docgenInfo={description:"",displayName:"NorcePaymentButton",props:{guests:{defaultValue:null,description:"",name:"guests",required:!0,type:{name:"Guest[]"}},visitorCategories:{defaultValue:null,description:"",name:"visitorCategories",required:!0,type:{name:'Map<"Adult" | "Child" | "Elderly" | "Baby", VisitorCategory>'}},visitDatesArray:{defaultValue:null,description:"",name:"visitDatesArray",required:!0,type:{name:"[VisitDate, PurchaseFlowDate][]"}},onBeforeCheckout:{defaultValue:null,description:"",name:"onBeforeCheckout",required:!0,type:{name:"() => void"}},termsAndConditionsLink:{defaultValue:null,description:"",name:"termsAndConditionsLink",required:!0,type:{name:"IContentfulLink"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/group-admission/steps/summary/norce-payment-button.tsx#NorcePaymentButton"]={docgenInfo:NorcePaymentButton.__docgenInfo,name:"NorcePaymentButton",path:"src/components/group-admission/steps/summary/norce-payment-button.tsx#NorcePaymentButton"})}catch(__react_docgen_typescript_loader_error){}var lodash_es_range=__webpack_require__("./node_modules/lodash-es/range.js"),klarna_payment=__webpack_require__("./src/components/elements/klarna-payment/klarna-payment.tsx"),shop_service_cart_context=__webpack_require__("./src/contexts/shop-service-cart-context.tsx");function klarna_functions_toConsumableArray(arr){return function klarna_functions_arrayWithoutHoles(arr){if(Array.isArray(arr))return klarna_functions_arrayLikeToArray(arr)}(arr)||function klarna_functions_iterableToArray(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||klarna_functions_unsupportedIterableToArray(arr)||function klarna_functions_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function klarna_functions_slicedToArray(arr,i){return function klarna_functions_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function klarna_functions_iterableToArrayLimit(r,l){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,n,i,u,a=[],f=!0,o=!1;try{if(i=(t=t.call(r)).next,0===l){if(Object(t)!==t)return;f=!1}else for(;!(f=(e=i.call(t)).done)&&(a.push(e.value),a.length!==l);f=!0);}catch(r){o=!0,n=r}finally{try{if(!f&&null!=t.return&&(u=t.return(),Object(u)!==u))return}finally{if(o)throw n}}return a}}(arr,i)||klarna_functions_unsupportedIterableToArray(arr,i)||function klarna_functions_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function klarna_functions_unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return klarna_functions_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?klarna_functions_arrayLikeToArray(o,minLen):void 0}}function klarna_functions_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var cartItemHasChanged=function cartItemHasChanged(existingCartItem,newCartItem){var _existingCartItem$slo,_newCartItem$slot,_existingCartItem$sub,_newCartItem$subItems;if((null===(_existingCartItem$slo=existingCartItem.slot)||void 0===_existingCartItem$slo?void 0:_existingCartItem$slo.slotId)!==(null===(_newCartItem$slot=newCartItem.slot)||void 0===_newCartItem$slot?void 0:_newCartItem$slot.slotId))return"re-add";var patchableFieldsHaveChanged=existingCartItem.quantity!==newCartItem.quantity||existingCartItem.visitorName!==newCartItem.visitorName,subItemsDiff=diffCartItems(null!==(_existingCartItem$sub=existingCartItem.subItems)&&void 0!==_existingCartItem$sub?_existingCartItem$sub:[],null!==(_newCartItem$subItems=newCartItem.subItems)&&void 0!==_newCartItem$subItems?_newCartItem$subItems:[]),subItemsHaveChanged="noop"!==subItemsDiff;if(subItemsHaveChanged&&patchableFieldsHaveChanged)return"re-add";if(patchableFieldsHaveChanged)return"patch";if(!subItemsHaveChanged)return null;if("new"===subItemsDiff)return{addedSubItems:newCartItem.subItems,removedSubItems:[]};var _step,added=subItemsDiff.added,removed=subItemsDiff.removed,_iterator=function klarna_functions_createForOfIteratorHelper(o,allowArrayLike){var it="undefined"!=typeof Symbol&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=klarna_functions_unsupportedIterableToArray(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0,F=function F(){};return{s:F,n:function n(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function e(_e){throw _e},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var err,normalCompletion=!0,didErr=!1;return{s:function s(){it=it.call(o)},n:function n(){var step=it.next();return normalCompletion=step.done,step},e:function e(_e2){didErr=!0,err=_e2},f:function f(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}(subItemsDiff.updated);try{for(_iterator.s();!(_step=_iterator.n()).done;){var _step$value=klarna_functions_slicedToArray(_step.value,2),previousItem=_step$value[0],newItem=_step$value[1];removed.push(previousItem),added.push(newItem)}}catch(err){_iterator.e(err)}finally{_iterator.f()}return{addedSubItems:added,removedSubItems:removed}};function diffCartItems(previousCartItems,newCartItems){if(0===previousCartItems.length&&0===newCartItems.length)return"noop";if(0===previousCartItems.length)return"new";var _previousCartItems$re=previousCartItems.reduce((function(_ref,prevItem){var newCartItems=_ref.newCartItems,removed=_ref.removed,existing=_ref.existing,found=newCartItems.find((function(newItem){return function isSameCartItem(existingCartItem,newCartItem){return existingCartItem.productId===newCartItem.productId&&existingCartItem.visitorName===newCartItem.visitorName}(prevItem,newItem)}));return found?{newCartItems:newCartItems.filter((function(newItem){return newItem!==found})),removed,existing:[].concat(klarna_functions_toConsumableArray(existing),[[prevItem,found]])}:{newCartItems,removed:[].concat(klarna_functions_toConsumableArray(removed),[prevItem]),existing}}),{newCartItems,removed:[],existing:[]}),added=_previousCartItems$re.newCartItems,removed=_previousCartItems$re.removed,updated=_previousCartItems$re.existing.filter((function(_ref2){var _ref3=klarna_functions_slicedToArray(_ref2,2),prevItem=_ref3[0],newItem=_ref3[1];return cartItemHasChanged(prevItem,newItem)}));return added.length+removed.length+updated.length===0?"noop":{added,removed,updated}}var use_extended_products=__webpack_require__("./src/hooks/use-extended-products.ts"),klarna_checkout=__webpack_require__("./src/components/elements/klarna-checkout/klarna-checkout.tsx");function klarna_payment_wrapper_typeof(o){return klarna_payment_wrapper_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},klarna_payment_wrapper_typeof(o)}function klarna_payment_wrapper_regeneratorRuntime(){klarna_payment_wrapper_regeneratorRuntime=function _regeneratorRuntime(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function define(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{define({},"")}catch(t){define=function define(t,e,r){return t[e]=r}}function wrap(t,e,r,n){var i=e&&e.prototype instanceof Generator?e:Generator,a=Object.create(i.prototype),c=new Context(n||[]);return o(a,"_invoke",{value:makeInvokeMethod(t,r,c)}),a}function tryCatch(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=wrap;var h="suspendedStart",f="executing",s="completed",y={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var p={};define(p,a,(function(){return this}));var d=Object.getPrototypeOf,v=d&&d(d(values([])));v&&v!==r&&n.call(v,a)&&(p=v);var g=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(p);function defineIteratorMethods(t){["next","throw","return"].forEach((function(e){define(t,e,(function(t){return this._invoke(e,t)}))}))}function AsyncIterator(t,e){function invoke(r,o,i,a){var c=tryCatch(t[r],t,o);if("throw"!==c.type){var u=c.arg,h=u.value;return h&&"object"==klarna_payment_wrapper_typeof(h)&&n.call(h,"__await")?e.resolve(h.__await).then((function(t){invoke("next",t,i,a)}),(function(t){invoke("throw",t,i,a)})):e.resolve(h).then((function(t){u.value=t,i(u)}),(function(t){return invoke("throw",t,i,a)}))}a(c.arg)}var r;o(this,"_invoke",{value:function value(t,n){function callInvokeWithMethodAndArg(){return new e((function(e,r){invoke(t,n,e,r)}))}return r=r?r.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}})}function makeInvokeMethod(e,r,n){var o=h;return function(i,a){if(o===f)throw new Error("Generator is already running");if(o===s){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var c=n.delegate;if(c){var u=maybeInvokeDelegate(c,n);if(u){if(u===y)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=s,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=f;var p=tryCatch(e,r,n);if("normal"===p.type){if(o=n.done?s:"suspendedYield",p.arg===y)continue;return{value:p.arg,done:n.done}}"throw"===p.type&&(o=s,n.method="throw",n.arg=p.arg)}}}function maybeInvokeDelegate(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,maybeInvokeDelegate(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var i=tryCatch(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,y;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,y):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function pushTryEntry(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function resetTryEntry(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function Context(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(pushTryEntry,this),this.reset(!0)}function values(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function next(){for(;++o<e.length;)if(n.call(e,o))return next.value=e[o],next.done=!1,next;return next.value=t,next.done=!0,next};return i.next=i}}throw new TypeError(klarna_payment_wrapper_typeof(e)+" is not iterable")}return GeneratorFunction.prototype=GeneratorFunctionPrototype,o(g,"constructor",{value:GeneratorFunctionPrototype,configurable:!0}),o(GeneratorFunctionPrototype,"constructor",{value:GeneratorFunction,configurable:!0}),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===GeneratorFunction||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,GeneratorFunctionPrototype):(t.__proto__=GeneratorFunctionPrototype,define(t,u,"GeneratorFunction")),t.prototype=Object.create(g),t},e.awrap=function(t){return{__await:t}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,c,(function(){return this})),e.AsyncIterator=AsyncIterator,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new AsyncIterator(wrap(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},defineIteratorMethods(g),define(g,u,"Generator"),define(g,a,(function(){return this})),define(g,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function next(){for(;r.length;){var t=r.pop();if(t in e)return next.value=t,next.done=!1,next}return next.done=!0,next}},e.values=values,Context.prototype={constructor:Context,reset:function reset(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(resetTryEntry),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function stop(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function dispatchException(e){if(this.done)throw e;var r=this;function handle(n,o){return a.type="throw",a.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return handle("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return handle(i.catchLoc,!0);if(this.prev<i.finallyLoc)return handle(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return handle(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return handle(i.finallyLoc)}}}},abrupt:function abrupt(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,y):this.complete(a)},complete:function complete(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function finish(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),resetTryEntry(r),y}},catch:function _catch(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;resetTryEntry(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function delegateYield(e,r,n){return this.delegate={iterator:values(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),y}},e}function klarna_payment_wrapper_asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function klarna_payment_wrapper_asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){klarna_payment_wrapper_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){klarna_payment_wrapper_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}function klarna_payment_wrapper_slicedToArray(arr,i){return function klarna_payment_wrapper_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function klarna_payment_wrapper_iterableToArrayLimit(r,l){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,n,i,u,a=[],f=!0,o=!1;try{if(i=(t=t.call(r)).next,0===l){if(Object(t)!==t)return;f=!1}else for(;!(f=(e=i.call(t)).done)&&(a.push(e.value),a.length!==l);f=!0);}catch(r){o=!0,n=r}finally{try{if(!f&&null!=t.return&&(u=t.return(),Object(u)!==u))return}finally{if(o)throw n}}return a}}(arr,i)||klarna_payment_wrapper_unsupportedIterableToArray(arr,i)||function klarna_payment_wrapper_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function klarna_payment_wrapper_toConsumableArray(arr){return function klarna_payment_wrapper_arrayWithoutHoles(arr){if(Array.isArray(arr))return klarna_payment_wrapper_arrayLikeToArray(arr)}(arr)||function klarna_payment_wrapper_iterableToArray(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||klarna_payment_wrapper_unsupportedIterableToArray(arr)||function klarna_payment_wrapper_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function klarna_payment_wrapper_unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return klarna_payment_wrapper_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?klarna_payment_wrapper_arrayLikeToArray(o,minLen):void 0}}function klarna_payment_wrapper_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function klarna_payment_wrapper_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function klarna_payment_wrapper_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?klarna_payment_wrapper_ownKeys(Object(t),!0).forEach((function(r){klarna_payment_wrapper_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):klarna_payment_wrapper_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function klarna_payment_wrapper_defineProperty(obj,key,value){return(key=function klarna_payment_wrapper_toPropertyKey(t){var i=function klarna_payment_wrapper_toPrimitive(t,r){if("object"!=klarna_payment_wrapper_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=klarna_payment_wrapper_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==klarna_payment_wrapper_typeof(i)?i:String(i)}(key))in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function deliveryTypeForProduct(products,productId){var _deliveryTypes$0$deli,_deliveryTypes$,product=products.find((function(p){var _p$productData;return Number(null===(_p$productData=p.productData)||void 0===_p$productData?void 0:_p$productData.glkId)===productId})),deliveryTypes=!1===(null==product?void 0:product.missingJetshopData)?product.deliveryTypes:[];return null!==(_deliveryTypes$0$deli=null==deliveryTypes||null===(_deliveryTypes$=deliveryTypes[0])||void 0===_deliveryTypes$?void 0:_deliveryTypes$.deliveryType)&&void 0!==_deliveryTypes$0$deli?_deliveryTypes$0$deli:dist.xF.deliveryType.DIGITAL}function standardUpsellProductToCartItem(extendedProducts,upsellProduct){return{productId:upsellProduct.product.id,quantity:upsellProduct.quantity,deliveryType:deliveryTypeForProduct(extendedProducts,upsellProduct.product.id)}}function toShopServiceProduct(extendedProducts,guests,visitDatesArray,guestFallbackName){if(0===extendedProducts.length)return[];var entranceProducts=guests.map((function(guest,idx){var _guest$name,timeSlots=[guest.admissionProduct.selectedMandatoryJetpass].concat(klarna_payment_wrapper_toConsumableArray(guest.admissionProduct.selectedJetpasses)).filter(array_helper.fQ).map((function(jetPass){return{productId:jetPass.productId,quantity:1,deliveryType:deliveryTypeForProduct(extendedProducts,jetPass.productId),slot:{slotId:jetPass.timeSlotId,date:date_helper.ZP.toStringYYYYMMDD(jetPass.timeSlotFrom)}}}));return{productId:guest.admissionProduct.id,quantity:1,deliveryType:deliveryTypeForProduct(extendedProducts,guest.admissionProduct.id),slot:guest.admissionProduct.dateSlotId?{slotId:guest.admissionProduct.dateSlotId,date:date_helper.ZP.toStringYYYYMMDD(guest.admissionProduct.dateSlot.date)}:void 0,subItems:timeSlots,visitorName:null!==(_guest$name=guest.name)&&void 0!==_guest$name?_guest$name:"".concat(guestFallbackName," ").concat(idx+1)}})),upsellProducts=visitDatesArray.flatMap((function(_ref){var _ref2=klarna_payment_wrapper_slicedToArray(_ref,2),visitDate=_ref2[0],calendarData=_ref2[1];return klarna_payment_wrapper_toConsumableArray(visitDate.selectedUpsellProducts.values()).flatMap((function(upsellProduct){return void 0!==upsellProduct.timeSlot?function timeSlotUpsellProductToCartItem(extendedProducts,upsellProduct,calendarData,guestFallbackName){var baseProduct=klarna_payment_wrapper_objectSpread(klarna_payment_wrapper_objectSpread({},standardUpsellProductToCartItem(extendedProducts,upsellProduct)),{},{quantity:1});return(0,lodash_es_range.Z)(upsellProduct.quantity).map((function(idx){var _calendarData$upsellP,_calendarData$upsellP2;return klarna_payment_wrapper_objectSpread(klarna_payment_wrapper_objectSpread({},baseProduct),{},{visitorName:"".concat(guestFallbackName," ").concat(idx+1),slot:{slotId:null!==(_calendarData$upsellP=null===(_calendarData$upsellP2=calendarData.upsellProductsForDate.find((function(p){return p.productId===upsellProduct.product.id})))||void 0===_calendarData$upsellP2?void 0:_calendarData$upsellP2.dateSlot.dateSlotId)&&void 0!==_calendarData$upsellP?_calendarData$upsellP:(0,object_helper._y)("Somehow added a timeslot-based upsell product without a valid date slot. Product: ".concat(upsellProduct.product.id," Date: ").concat(calendarData.date)),date:date_helper.ZP.toStringYYYYMMDD(calendarData.date)},subItems:[{productId:upsellProduct.timeSlot.productId,quantity:1,deliveryType:deliveryTypeForProduct(extendedProducts,upsellProduct.timeSlot.productId),slot:{slotId:upsellProduct.timeSlot.timeSlotId,date:date_helper.ZP.toStringYYYYMMDD(calendarData.date)}}]})}))}(extendedProducts,upsellProduct,calendarData,guestFallbackName):standardUpsellProductToCartItem(extendedProducts,upsellProduct)}))}));return[].concat(klarna_payment_wrapper_toConsumableArray(entranceProducts),klarna_payment_wrapper_toConsumableArray(upsellProducts))}var executeOneCartUpdate=function(){var _ref3=klarna_payment_wrapper_asyncToGenerator(klarna_payment_wrapper_regeneratorRuntime().mark((function _callee(previousCartItems,cartItems,modifiers){var diff,_diff$added,firstAddedItem,_diff$removed,firstRemovedItem,_diff$updated,firstUpdatedItem,_firstUpdatedItem,existingItem,newItem;return klarna_payment_wrapper_regeneratorRuntime().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:if("noop"!==(diff=diffCartItems(previousCartItems,cartItems))){_context.next=3;break}return _context.abrupt("return",{didAdd:!1,items:[]});case 3:if("new"!==diff){_context.next=8;break}return _context.next=6,modifiers.addMultipleCartItems(cartItems);case 6:return _context.t0=_context.sent,_context.abrupt("return",{didAdd:!0,items:_context.t0});case 8:if(_diff$added=klarna_payment_wrapper_slicedToArray(diff.added,1),firstAddedItem=_diff$added[0],_diff$removed=klarna_payment_wrapper_slicedToArray(diff.removed,1),firstRemovedItem=_diff$removed[0],_diff$updated=klarna_payment_wrapper_slicedToArray(diff.updated,1),firstUpdatedItem=_diff$updated[0],!firstRemovedItem){_context.next=15;break}return _context.next=12,modifiers.removeCartItem(firstRemovedItem.cartItemGuid);case 12:return _context.t1=_context.sent,_context.t2=[_context.t1],_context.abrupt("return",{didAdd:!1,items:_context.t2});case 15:if(!firstUpdatedItem){_context.next=27;break}if(_firstUpdatedItem=klarna_payment_wrapper_slicedToArray(firstUpdatedItem,2),existingItem=_firstUpdatedItem[0],newItem=_firstUpdatedItem[1],null===cartItemHasChanged(existingItem,newItem)){_context.next=26;break}return _context.next=21,modifiers.removeCartItem(existingItem.cartItemGuid);case 21:return _context.t3=_context.sent,_context.t4=[_context.t3],_context.abrupt("return",{didAdd:!1,items:_context.t4});case 26:console.error("Item marked as needing update, but no change type found. This should never happen!",existingItem,newItem);case 27:if(!firstAddedItem){_context.next=32;break}return _context.next=30,modifiers.addCartItem(firstAddedItem);case 30:return _context.t5=_context.sent,_context.abrupt("return",{didAdd:!0,items:_context.t5});case 32:return _context.abrupt("return",{didAdd:!1,items:[]});case 33:case"end":return _context.stop()}}),_callee)})));return function executeOneCartUpdate(_x,_x2,_x3){return _ref3.apply(this,arguments)}}();function KlarnaPaymentWrapper(_ref4){var guests=_ref4.guests,visitDatesArray=_ref4.visitDatesArray,isActive=_ref4.isActive,t=(0,es.$G)().t,_useShopServiceCartCo=(0,shop_service_cart_context.c)(),cartId=_useShopServiceCartCo.cartId,addCartItem=_useShopServiceCartCo.addCartItem,addMultipleCartItems=_useShopServiceCartCo.addMultipleCartItems,removeCartItem=_useShopServiceCartCo.removeCartItem,_useState2=klarna_payment_wrapper_slicedToArray((0,react.useState)(null),2),error=_useState2[0],setError=_useState2[1],extendedProducts=(0,use_extended_products.i3)().data,_useState4=klarna_payment_wrapper_slicedToArray((0,react.useState)([]),2),knownCartItems=_useState4[0],setKnownCartItems=_useState4[1],cartItems=toShopServiceProduct(null!=extendedProducts?extendedProducts:[],guests,visitDatesArray,t("guest")),diff=diffCartItems(knownCartItems,cartItems),diffAsDep="string"==typeof diff?diff:(diff.added.length<<16)+(diff.removed.length<<8)+diff.updated.length,_useState6=klarna_payment_wrapper_slicedToArray((0,react.useState)(!1),2),isUpdating=_useState6[0],setIsUpdating=_useState6[1];if((0,react.useEffect)((function(){!isActive||isUpdating||"noop"===diffAsDep||error||Promise.resolve().then(klarna_payment_wrapper_asyncToGenerator(klarna_payment_wrapper_regeneratorRuntime().mark((function _callee2(){var _yield$executeOneCart,didAdd,items;return klarna_payment_wrapper_regeneratorRuntime().wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return setIsUpdating(!0),_context2.prev=1,_context2.next=4,executeOneCartUpdate(knownCartItems,cartItems,{addCartItem,addMultipleCartItems,removeCartItem});case 4:_yield$executeOneCart=_context2.sent,didAdd=_yield$executeOneCart.didAdd,items=_yield$executeOneCart.items,setKnownCartItems(didAdd?function(prevKnownCartItems){return[].concat(klarna_payment_wrapper_toConsumableArray(prevKnownCartItems),klarna_payment_wrapper_toConsumableArray(items))}:function(prevKnownCartItems){return prevKnownCartItems.filter((function(item){return!items.some((function(i){return i.cartItemGuid===item.cartItemGuid}))}))}),_context2.next=13;break;case 10:_context2.prev=10,_context2.t0=_context2.catch(1),setError(_context2.t0);case 13:return _context2.prev=13,setIsUpdating(!1),_context2.finish(13);case 16:case"end":return _context2.stop()}}),_callee2,null,[[1,10,13,16]])}))))}),[isUpdating,diffAsDep,isActive,addCartItem,addMultipleCartItems,removeCartItem]),(0,react.useEffect)((function(){setError(null)}),[isActive]),error)return(0,jsx_runtime.jsx)(klarna_checkout.Y3,{});var cartReadyForPayment=isActive&&!isUpdating&&"noop"==diff;return(0,jsx_runtime.jsx)(klarna_payment.U,{cartId,enabled:cartReadyForPayment})}KlarnaPaymentWrapper.displayName="KlarnaPaymentWrapper";try{KlarnaPaymentWrapper.displayName="KlarnaPaymentWrapper",KlarnaPaymentWrapper.__docgenInfo={description:"",displayName:"KlarnaPaymentWrapper",props:{guests:{defaultValue:null,description:"",name:"guests",required:!0,type:{name:"Guest[]"}},visitDatesArray:{defaultValue:null,description:"",name:"visitDatesArray",required:!0,type:{name:"[VisitDate, PurchaseFlowDate][]"}},isActive:{defaultValue:null,description:"",name:"isActive",required:!0,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/group-admission/steps/summary/klarna-payment-wrapper.tsx#KlarnaPaymentWrapper"]={docgenInfo:KlarnaPaymentWrapper.__docgenInfo,name:"KlarnaPaymentWrapper",path:"src/components/group-admission/steps/summary/klarna-payment-wrapper.tsx#KlarnaPaymentWrapper"})}catch(__react_docgen_typescript_loader_error){}function summary_createForOfIteratorHelper(o,allowArrayLike){var it="undefined"!=typeof Symbol&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=summary_unsupportedIterableToArray(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0,F=function F(){};return{s:F,n:function n(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function e(_e){throw _e},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var err,normalCompletion=!0,didErr=!1;return{s:function s(){it=it.call(o)},n:function n(){var step=it.next();return normalCompletion=step.done,step},e:function e(_e2){didErr=!0,err=_e2},f:function f(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}function summary_slicedToArray(arr,i){return function summary_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function summary_iterableToArrayLimit(r,l){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,n,i,u,a=[],f=!0,o=!1;try{if(i=(t=t.call(r)).next,0===l){if(Object(t)!==t)return;f=!1}else for(;!(f=(e=i.call(t)).done)&&(a.push(e.value),a.length!==l);f=!0);}catch(r){o=!0,n=r}finally{try{if(!f&&null!=t.return&&(u=t.return(),Object(u)!==u))return}finally{if(o)throw n}}return a}}(arr,i)||summary_unsupportedIterableToArray(arr,i)||function summary_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function summary_toConsumableArray(arr){return function summary_arrayWithoutHoles(arr){if(Array.isArray(arr))return summary_arrayLikeToArray(arr)}(arr)||function summary_iterableToArray(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||summary_unsupportedIterableToArray(arr)||function summary_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function summary_unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return summary_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?summary_arrayLikeToArray(o,minLen):void 0}}function summary_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var getSubtitleForUpsellProduct=function getSubtitleForUpsellProduct(timeSlot,moreDatesThanOne,t){return timeSlot?moreDatesThanOne?"".concat(t("time"),": ").concat(date_helper.ZP.toStringTimeHHMM(timeSlot.timeSlotFrom)," - ").concat(date_helper.ZP.toStringDDMonth(timeSlot.timeSlotFrom)):"".concat(t("time"),": ").concat(date_helper.ZP.toStringTimeHHMM(timeSlot.timeSlotFrom)):null},getJetpassSubtitle=function getJetpassSubtitle(selectedJetpasses){return(0,array_helper.Of)(selectedJetpasses)?selectedJetpasses.map((function(selectablePass){return"".concat(date_helper.ZP.toStringTimeHHMM(selectablePass.timeSlotFrom)," - ").concat(selectablePass.attractionName)})).join("\n"):null},Summary=function Summary(_ref){var checkoutVariant=_ref.checkoutVariant,guests=_ref.guests,selectedDates=_ref.selectedDates,visitorCategories=_ref.visitorCategories,termsAndConditionsLink=_ref.termsAndConditionsLink,onBeforeCheckout=_ref.onBeforeCheckout,isActive=_ref.isActive,t=(0,es.$G)().t,visitDatesArray=(0,react.useMemo)((function(){return selectedDates.size>0?summary_toConsumableArray(selectedDates.values()):[]}),[selectedDates]),moreDatesThanOne=visitDatesArray.length>1,entryTicketSummary=(0,react.useMemo)((function(){var _firstVisitDate$0$sel,firstVisitDate=summary_slicedToArray(visitDatesArray,1)[0],entryTime=null!=firstVisitDate&&null!==(_firstVisitDate$0$sel=firstVisitDate[0].selectedEntryTime)&&void 0!==_firstVisitDate$0$sel&&_firstVisitDate$0$sel.timeSlotFrom?date_helper.ZP.toStringTimeHHMM(firstVisitDate[0].selectedEntryTime.timeSlotFrom):null,summaryItems=guests.map((function(guest){return{title:guest.admissionProduct.productName,subtitle:entryTime?"".concat(t("summaryStepEntry")," ").concat(entryTime):void 0,price:guest.admissionProduct.price}})),priceSum=(0,sum.Z)(summaryItems.map((function(item){return item.price})));return{category:t("summaryStepEntryTickets"),quantity:t("summaryStepPieces",{count:summaryItems.length}),sumPrice:currency_helper.wh(priceSum),summaryItems}}),[t,guests,visitDatesArray]),upsellProductsSummary=(0,react.useMemo)((function(){var _step,summaryItems=[],_iterator=summary_createForOfIteratorHelper(visitDatesArray);try{for(_iterator.s();!(_step=_iterator.n()).done;)for(var visitDate=summary_slicedToArray(_step.value,1)[0],_i=0,_arr=summary_toConsumableArray(visitDate.selectedUpsellProducts.values());_i<_arr.length;_i++)for(var upsellProduct=_arr[_i],i=0;i<upsellProduct.quantity;i++){var _getSubtitleForUpsell;summaryItems.push({title:upsellProduct.product.name,subtitle:null!==(_getSubtitleForUpsell=getSubtitleForUpsellProduct(upsellProduct.timeSlot,moreDatesThanOne,t))&&void 0!==_getSubtitleForUpsell?_getSubtitleForUpsell:void 0,price:upsellProduct.product.price})}}catch(err){_iterator.e(err)}finally{_iterator.f()}var priceSum=(0,sum.Z)(summaryItems.map((function(item){return item.price})));return{category:t("summaryStepAddOns"),quantity:t("summaryStepPieces",{count:summaryItems.length}),sumPrice:currency_helper.wh(priceSum),summaryItems}}),[t,visitDatesArray,moreDatesThanOne]),jetpassSummary=(0,react.useMemo)((function(){var _step2,summaryItems=[],numOfJetpasses=0,_iterator2=summary_createForOfIteratorHelper(guests);try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var _guest$admissionProdu,_getJetpassSubtitle,guest=_step2.value;if((0,array_helper.Of)(null===(_guest$admissionProdu=guest.admissionProduct)||void 0===_guest$admissionProdu?void 0:_guest$admissionProdu.selectedJetpasses))numOfJetpasses+=guest.admissionProduct.selectedJetpasses.length,summaryItems.push({title:guest.name?guest.name:guest.admissionProduct.productName,subtitle:null!==(_getJetpassSubtitle=getJetpassSubtitle(guest.admissionProduct.selectedJetpasses))&&void 0!==_getJetpassSubtitle?_getJetpassSubtitle:void 0,price:void 0})}}catch(err){_iterator2.e(err)}finally{_iterator2.f()}return{category:t("summaryStepJetpasses"),quantity:t("summaryStepPieces",{count:numOfJetpasses}),sumPrice:void 0,summaryItems}}),[t,guests]),summaryPrice=(0,react.useMemo)((function(){var price=0;return price+=(0,sum.Z)(entryTicketSummary.summaryItems.map((function(item){return item.price}))),price+=(0,sum.Z)(upsellProductsSummary.summaryItems.map((function(item){return item.price})))}),[entryTicketSummary,upsellProductsSummary]),introText=function getIntroText(visitDatesArray,t){var dates=visitDatesArray.map((function(visitDate){return date_helper.ZP.toStringMMDDWeekday(visitDate.date)})).join(" & ");return(0,string_helper.L4)(t("summaryStepIntroText"),dates)}(visitDatesArray.map((function(_ref2){return summary_slicedToArray(_ref2,1)[0]})),t);return(0,jsx_runtime.jsxs)("section",{className:summary_summary_module.wrapper,children:[(0,jsx_runtime.jsx)("p",{"data-contentful-label-id":"summaryStepIntroText",children:introText}),(0,jsx_runtime.jsxs)("div",{children:[(0,jsx_runtime.jsx)(summary_list.Z,{summaryItems:entryTicketSummary.summaryItems,category:entryTicketSummary.category,quantity:entryTicketSummary.quantity,sumPrice:entryTicketSummary.sumPrice,preExpanded:!0}),(0,array_helper.Of)(upsellProductsSummary.summaryItems)&&(0,jsx_runtime.jsx)(summary_list.Z,{summaryItems:upsellProductsSummary.summaryItems,category:upsellProductsSummary.category,quantity:upsellProductsSummary.quantity,sumPrice:upsellProductsSummary.sumPrice}),(0,array_helper.Of)(jetpassSummary.summaryItems)&&(0,jsx_runtime.jsx)(summary_list.Z,{summaryItems:jetpassSummary.summaryItems,category:jetpassSummary.category,quantity:jetpassSummary.quantity,sumPrice:jetpassSummary.sumPrice}),(0,jsx_runtime.jsx)(summary_total.o,{labelId:"total",price:summaryPrice})]}),"Norce"===checkoutVariant?(0,jsx_runtime.jsx)(NorcePaymentButton,{guests,visitDatesArray,visitorCategories,onBeforeCheckout,termsAndConditionsLink}):"Klarna"===checkoutVariant?(0,jsx_runtime.jsx)(KlarnaPaymentWrapper,{guests,visitDatesArray,isActive}):null]})};Summary.displayName="Summary";const summary_summary=Summary;try{summary.displayName="summary",summary.__docgenInfo={description:"",displayName:"summary",props:{checkoutVariant:{defaultValue:null,description:"",name:"checkoutVariant",required:!0,type:{name:"enum",value:[{value:'"Norce"'},{value:'"Klarna"'}]}},quantity:{defaultValue:null,description:"",name:"quantity",required:!0,type:{name:'Map<"Adult" | "Child" | "Elderly" | "Baby", number>'}},selectedDates:{defaultValue:null,description:"",name:"selectedDates",required:!0,type:{name:"Map<string, [VisitDate, PurchaseFlowDate]>"}},guests:{defaultValue:null,description:"",name:"guests",required:!0,type:{name:"Guest[]"}},visitorCategories:{defaultValue:null,description:"",name:"visitorCategories",required:!0,type:{name:'Map<"Adult" | "Child" | "Elderly" | "Baby", VisitorCategory>'}},termsAndConditionsLink:{defaultValue:null,description:"",name:"termsAndConditionsLink",required:!1,type:{name:"IContentfulLink"}},onBeforeCheckout:{defaultValue:null,description:"",name:"onBeforeCheckout",required:!1,type:{name:"() => void"}},isActive:{defaultValue:null,description:"",name:"isActive",required:!0,type:{name:"boolean"}},stepIndex:{defaultValue:null,description:"",name:"stepIndex",required:!0,type:{name:"number"}},onClickBack:{defaultValue:null,description:"",name:"onClickBack",required:!0,type:{name:"() => void"}},dispatch:{defaultValue:null,description:"",name:"dispatch",required:!0,type:{name:"Dispatch<Action>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/group-admission/steps/summary/summary.tsx#summary"]={docgenInfo:summary.__docgenInfo,name:"summary",path:"src/components/group-admission/steps/summary/summary.tsx#summary"})}catch(__react_docgen_typescript_loader_error){}var group_admission_module=__webpack_require__("./node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[16].use[1]!./node_modules/postcss-loader/dist/cjs.js!./node_modules/less-loader/dist/cjs.js!./src/components/group-admission/group-admission.module.less"),group_admission_module_options={};group_admission_module_options.styleTagTransform=styleTagTransform_default(),group_admission_module_options.setAttributes=setAttributesWithoutAttributes_default(),group_admission_module_options.insert=insertBySelector_default().bind(null,"head"),group_admission_module_options.domAPI=styleDomAPI_default(),group_admission_module_options.insertStyleElement=insertStyleElement_default();injectStylesIntoStyleTag_default()(group_admission_module.Z,group_admission_module_options);const group_admission_group_admission_module=group_admission_module.Z&&group_admission_module.Z.locals?group_admission_module.Z.locals:void 0;var purchase_flow_service=__webpack_require__("./src/services/purchase-flow-service.ts"),esm=__webpack_require__("./node_modules/animated-scroll-to/dist/esm/index.js"),i18n=__webpack_require__("./src/labels/i18n.ts");function step_summary_toConsumableArray(arr){return function step_summary_arrayWithoutHoles(arr){if(Array.isArray(arr))return step_summary_arrayLikeToArray(arr)}(arr)||function step_summary_iterableToArray(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||step_summary_unsupportedIterableToArray(arr)||function step_summary_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function step_summary_slicedToArray(arr,i){return function step_summary_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function step_summary_iterableToArrayLimit(r,l){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,n,i,u,a=[],f=!0,o=!1;try{if(i=(t=t.call(r)).next,0===l){if(Object(t)!==t)return;f=!1}else for(;!(f=(e=i.call(t)).done)&&(a.push(e.value),a.length!==l);f=!0);}catch(r){o=!0,n=r}finally{try{if(!f&&null!=t.return&&(u=t.return(),Object(u)!==u))return}finally{if(o)throw n}}return a}}(arr,i)||step_summary_unsupportedIterableToArray(arr,i)||function step_summary_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function step_summary_createForOfIteratorHelper(o,allowArrayLike){var it="undefined"!=typeof Symbol&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=step_summary_unsupportedIterableToArray(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0,F=function F(){};return{s:F,n:function n(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function e(_e){throw _e},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var err,normalCompletion=!0,didErr=!1;return{s:function s(){it=it.call(o)},n:function n(){var step=it.next();return normalCompletion=step.done,step},e:function e(_e2){didErr=!0,err=_e2},f:function f(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}function step_summary_unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return step_summary_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?step_summary_arrayLikeToArray(o,minLen):void 0}}function step_summary_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}const step_summary={getGroupSizeSummary:function getGroupSizeSummary(quantity,visitorCategories){var _step,quantityStringArray=[],_iterator=step_summary_createForOfIteratorHelper(quantity);try{for(_iterator.s();!(_step=_iterator.n()).done;){var _step$value=step_summary_slicedToArray(_step.value,2),key=_step$value[0],value=_step$value[1];if(value>0){var visitorCategory=visitorCategories.get(key);quantityStringArray.push(i18n.rt.t("groupSizeStepSummary",[value,visitorCategory.name]))}}}catch(err){_iterator.e(err)}finally{_iterator.f()}return quantityStringArray.join(", ").toLowerCase()},getSelectDateSummary:function getSelectDateSummary(selectedDates,selectedVariant,entryVariantType,hideVariant){if(0===selectedDates.size)return null;var dateString=step_summary_toConsumableArray(selectedDates.values()).map((function(date){var dateString=date_helper.ZP.toStringMMDDWeekday(date.date);return dateString.charAt(0).toUpperCase()+dateString.slice(1)})).join(" - ");return"PartOfDay"===entryVariantType?hideVariant?dateString:"".concat(dateString," - ").concat(selectedVariant&&selectedVariant.name):dateString},getSelectEntryTimeSummary:function getSelectEntryTimeSummary(selectedEntryTime){return selectedEntryTime?"".concat(selectedEntryTime.attractionName," ").concat(date_helper.ZP.toStringTimeHHMM(selectedEntryTime.timeSlotFrom)):null},getSelectTicketSummary:function getSelectTicketSummary(guests){return"".concat(i18n.rt.t("stepWrapperSelectedTickets",{count:guests.length}))},getSelectMandatoryJetpassSummary:function getSelectMandatoryJetpassSummary(guests){if(!(0,array_helper.Of)(guests))return null;var selectedMandatoryJetpass=step_summary_toConsumableArray(guests)[0].admissionProduct.selectedMandatoryJetpass;return selectedMandatoryJetpass?"".concat(selectedMandatoryJetpass.attractionName," ").concat(date_helper.ZP.toStringTimeHHMM(selectedMandatoryJetpass.timeSlotFrom)):null},getSelectJetPassSummary:function getSelectJetPassSummary(guests,jetpassMaxLimit){var jetPassSummary=guests.reduce((function(summary,guest){var _guest$admissionProdu,_guest$admissionProdu2,totalSelected=null!==(_guest$admissionProdu=null===(_guest$admissionProdu2=guest.admissionProduct.selectedJetpasses)||void 0===_guest$admissionProdu2?void 0:_guest$admissionProdu2.length)&&void 0!==_guest$admissionProdu?_guest$admissionProdu:0,totalAvailable=guest.admissionProduct.numberOfJetpassIncluded;return{totalSelected:summary.totalSelected+totalSelected,totalAvailable:summary.totalAvailable+totalAvailable}}),{totalSelected:0,totalAvailable:0});return group_admission_helper.Z.hasGuestsExeededJetpassLimit(guests,jetpassMaxLimit)?"".concat(jetPassSummary.totalAvailable," ").concat(i18n.rt.t("stepWrapperJetPassLimitExceeded")):"".concat(jetPassSummary.totalSelected," ").concat(i18n.rt.t("of")," ").concat(jetPassSummary.totalAvailable," ").concat(i18n.rt.t("stepWrapperBookedJetPasses"))},getUpsellSummary:function getUpsellSummary(selectedDates){var _step2,numberOfProducts=0,_iterator2=step_summary_createForOfIteratorHelper(selectedDates);try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var _visitDate$selectedUp,visitDate=step_summary_slicedToArray(_step2.value,2)[1];numberOfProducts+=null!==(_visitDate$selectedUp=null==visitDate?void 0:visitDate.selectedUpsellProducts.size)&&void 0!==_visitDate$selectedUp?_visitDate$selectedUp:0}}catch(err){_iterator2.e(err)}finally{_iterator2.f()}return i18n.rt.t("stepWrapperBookedExperiences",{count:numberOfProducts})}};var sortBy=__webpack_require__("./node_modules/lodash-es/sortBy.js"),language_helper=__webpack_require__("./src/helpers/language-helper.ts"),location_helper=__webpack_require__("./src/helpers/location-helper.ts"),show_store=__webpack_require__("./src/stores/show-store.ts"),schedule_store=__webpack_require__("./src/stores/schedule-store.ts"),area_loader=__webpack_require__("./src/components/elements/area-loader/area-loader.tsx"),useIsMountedRef=function useIsMountedRef(){var isMounted=(0,react.useRef)(!1);return(0,react.useEffect)((function(){return isMounted.current=!0,function(){isMounted.current=!1}}),[]),isMounted},ride_store=__webpack_require__("./src/stores/ride-store.ts"),select_mandatory_jetpass_module=__webpack_require__("./node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[16].use[1]!./node_modules/postcss-loader/dist/cjs.js!./node_modules/less-loader/dist/cjs.js!./src/components/group-admission/steps/select-mandatory-jetpass/select-mandatory-jetpass.module.less"),select_mandatory_jetpass_module_options={};select_mandatory_jetpass_module_options.styleTagTransform=styleTagTransform_default(),select_mandatory_jetpass_module_options.setAttributes=setAttributesWithoutAttributes_default(),select_mandatory_jetpass_module_options.insert=insertBySelector_default().bind(null,"head"),select_mandatory_jetpass_module_options.domAPI=styleDomAPI_default(),select_mandatory_jetpass_module_options.insertStyleElement=insertStyleElement_default();injectStylesIntoStyleTag_default()(select_mandatory_jetpass_module.Z,select_mandatory_jetpass_module_options);const select_mandatory_jetpass_select_mandatory_jetpass_module=select_mandatory_jetpass_module.Z&&select_mandatory_jetpass_module.Z.locals?select_mandatory_jetpass_module.Z.locals:void 0;var mandatory_jetpass_card_module=__webpack_require__("./node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[16].use[1]!./node_modules/postcss-loader/dist/cjs.js!./node_modules/less-loader/dist/cjs.js!./src/components/group-admission/steps/select-mandatory-jetpass/mandatory-jetpass-card/mandatory-jetpass-card.module.less"),mandatory_jetpass_card_module_options={};mandatory_jetpass_card_module_options.styleTagTransform=styleTagTransform_default(),mandatory_jetpass_card_module_options.setAttributes=setAttributesWithoutAttributes_default(),mandatory_jetpass_card_module_options.insert=insertBySelector_default().bind(null,"head"),mandatory_jetpass_card_module_options.domAPI=styleDomAPI_default(),mandatory_jetpass_card_module_options.insertStyleElement=insertStyleElement_default();injectStylesIntoStyleTag_default()(mandatory_jetpass_card_module.Z,mandatory_jetpass_card_module_options);const mandatory_jetpass_card_mandatory_jetpass_card_module=mandatory_jetpass_card_module.Z&&mandatory_jetpass_card_module.Z.locals?mandatory_jetpass_card_module.Z.locals:void 0;function mandatory_jetpass_card_slicedToArray(arr,i){return function mandatory_jetpass_card_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function mandatory_jetpass_card_iterableToArrayLimit(r,l){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,n,i,u,a=[],f=!0,o=!1;try{if(i=(t=t.call(r)).next,0===l){if(Object(t)!==t)return;f=!1}else for(;!(f=(e=i.call(t)).done)&&(a.push(e.value),a.length!==l);f=!0);}catch(r){o=!0,n=r}finally{try{if(!f&&null!=t.return&&(u=t.return(),Object(u)!==u))return}finally{if(o)throw n}}return a}}(arr,i)||function mandatory_jetpass_card_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return mandatory_jetpass_card_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mandatory_jetpass_card_arrayLikeToArray(o,minLen)}(arr,i)||function mandatory_jetpass_card_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function mandatory_jetpass_card_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var MandatoryJetpassCard=function MandatoryJetpassCard(_ref){var title=_ref.title,imageUrl=_ref.imageUrl,shortDescriptionInList=_ref.shortDescriptionInList,entrance=_ref.entrance,preamble=_ref.preamble,buttonLabel=_ref.buttonLabel,onClickButton=_ref.onClickButton,isSelected=_ref.isSelected,isSoldOut=_ref.isSoldOut,timeSlot=_ref.timeSlot,_useState2=mandatory_jetpass_card_slicedToArray((0,react.useState)(!1),2),isExpanded=_useState2[0],setIsExpanded=_useState2[1],t=(0,es.$G)().t;return(0,jsx_runtime.jsxs)("div",{className:mandatory_jetpass_card_mandatory_jetpass_card_module.wrapper,children:[(0,jsx_runtime.jsx)("div",{className:"".concat(mandatory_jetpass_card_mandatory_jetpass_card_module.selectedOutline," ").concat(isSelected?mandatory_jetpass_card_mandatory_jetpass_card_module.selected:"")}),(0,jsx_runtime.jsx)("div",{className:mandatory_jetpass_card_mandatory_jetpass_card_module.border,children:(0,jsx_runtime.jsxs)("div",{className:mandatory_jetpass_card_mandatory_jetpass_card_module.innerWrapper,children:[(0,jsx_runtime.jsxs)("div",{className:mandatory_jetpass_card_mandatory_jetpass_card_module.topWrapper,children:[(0,jsx_runtime.jsx)("div",{className:mandatory_jetpass_card_mandatory_jetpass_card_module.imageContainer,children:imageUrl&&(0,jsx_runtime.jsx)("img",{loading:"lazy",src:"".concat(imageUrl,"?fm=webp&w=600&q=90"),alt:title,className:mandatory_jetpass_card_mandatory_jetpass_card_module.image})}),(0,jsx_runtime.jsxs)("div",{className:mandatory_jetpass_card_mandatory_jetpass_card_module.textWrapper,children:[(0,jsx_runtime.jsx)("h3",{className:"heading-xs",children:title}),shortDescriptionInList&&(0,jsx_runtime.jsx)("p",{children:shortDescriptionInList}),(0,jsx_runtime.jsx)(parks_button.kq,{className:mandatory_jetpass_card_mandatory_jetpass_card_module.selectButton,isFullWidth:!0,isDisabled:isSoldOut,label:buttonLabel,onClick:function onClick(){return onClickButton(entrance,timeSlot)}})]})]}),(0,jsx_runtime.jsxs)("div",{className:mandatory_jetpass_card_mandatory_jetpass_card_module.detailsWrapper,children:[preamble&&(0,jsx_runtime.jsxs)("button",{className:"".concat(mandatory_jetpass_card_mandatory_jetpass_card_module.expandButton),onClick:function onClick(){return setIsExpanded(!isExpanded)},children:[(0,jsx_runtime.jsx)(motion.E.span,{initial:{rotate:isExpanded?180:0},animate:{rotate:isExpanded?180:0},className:mandatory_jetpass_card_mandatory_jetpass_card_module.iconWrapper,children:(0,jsx_runtime.jsx)(icon.ZP,{name:"expand-more",className:mandatory_jetpass_card_mandatory_jetpass_card_module.icon})}),(0,jsx_runtime.jsx)("span",{className:mandatory_jetpass_card_mandatory_jetpass_card_module.expandButtonLabel,"data-contentful-label-id":isExpanded?"hideDetails":"showDetails",children:t(isExpanded?"hideDetails":"showDetails")})]}),preamble&&(0,jsx_runtime.jsx)(motion.E.div,{className:mandatory_jetpass_card_mandatory_jetpass_card_module.expandWrapper,initial:{height:isExpanded?0:"auto"},animate:{height:isExpanded?"auto":0},transition:{duration:.2,type:"tween"},children:(0,jsx_runtime.jsx)("div",{className:mandatory_jetpass_card_mandatory_jetpass_card_module.expandInnerWrapper,children:(0,jsx_runtime.jsx)("p",{children:preamble.preamble})})})]})]})})]})};MandatoryJetpassCard.displayName="MandatoryJetpassCard";const mandatory_jetpass_card=MandatoryJetpassCard;try{mandatoryjetpasscard.displayName="mandatoryjetpasscard",mandatoryjetpasscard.__docgenInfo={description:"",displayName:"mandatoryjetpasscard",props:{entrance:{defaultValue:null,description:"",name:"entrance",required:!0,type:{name:"IGLKMyParksEntranceWithProductId"}},timeSlot:{defaultValue:null,description:"",name:"timeSlot",required:!0,type:{name:"IGLKMyParksTimeSlot"}},title:{defaultValue:null,description:"",name:"title",required:!0,type:{name:"string"}},imageUrl:{defaultValue:null,description:"",name:"imageUrl",required:!1,type:{name:"string"}},shortDescriptionInList:{defaultValue:null,description:"",name:"shortDescriptionInList",required:!1,type:{name:"string"}},preamble:{defaultValue:null,description:"",name:"preamble",required:!1,type:{name:"{ preamble?: string; }"}},onClickButton:{defaultValue:null,description:"",name:"onClickButton",required:!1,type:{name:"(entrance: IGLKMyParksEntranceWithProductId, timeSlot: IGLKMyParksTimeSlot) => void"}},isSelected:{defaultValue:null,description:"",name:"isSelected",required:!0,type:{name:"boolean"}},isSoldOut:{defaultValue:null,description:"",name:"isSoldOut",required:!0,type:{name:"boolean"}},buttonLabel:{defaultValue:null,description:"",name:"buttonLabel",required:!0,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/group-admission/steps/select-mandatory-jetpass/mandatory-jetpass-card/mandatory-jetpass-card.tsx#mandatoryjetpasscard"]={docgenInfo:mandatoryjetpasscard.__docgenInfo,name:"mandatoryjetpasscard",path:"src/components/group-admission/steps/select-mandatory-jetpass/mandatory-jetpass-card/mandatory-jetpass-card.tsx#mandatoryjetpasscard"})}catch(__react_docgen_typescript_loader_error){}function select_mandatory_jetpass_slicedToArray(arr,i){return function select_mandatory_jetpass_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function select_mandatory_jetpass_iterableToArrayLimit(r,l){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,n,i,u,a=[],f=!0,o=!1;try{if(i=(t=t.call(r)).next,0===l){if(Object(t)!==t)return;f=!1}else for(;!(f=(e=i.call(t)).done)&&(a.push(e.value),a.length!==l);f=!0);}catch(r){o=!0,n=r}finally{try{if(!f&&null!=t.return&&(u=t.return(),Object(u)!==u))return}finally{if(o)throw n}}return a}}(arr,i)||select_mandatory_jetpass_unsupportedIterableToArray(arr,i)||function select_mandatory_jetpass_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function select_mandatory_jetpass_unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return select_mandatory_jetpass_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?select_mandatory_jetpass_arrayLikeToArray(o,minLen):void 0}}function select_mandatory_jetpass_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var SelectMandatoryJetpass=function SelectMandatoryJetpass(_ref){var _firstGuest$admission,selectedDate=_ref.selectedDate,guests=_ref.guests,dispatch=_ref.dispatch,stepIndex=_ref.stepIndex,onClickBack=_ref.onClickBack,stepWrapperRef=_ref.stepWrapperRef,isMountedRef=useIsMountedRef(),_useState2=select_mandatory_jetpass_slicedToArray((0,react.useState)(new Map),2),rides=_useState2[0],setRides=_useState2[1],_useState4=select_mandatory_jetpass_slicedToArray((0,react.useState)([]),2),ridesForSelectedDate=_useState4[0],setRidesForSelectedDate=_useState4[1],t=(0,es.$G)().t,onClickMandatoryJetpass=function onClickMandatoryJetpass(entrance,timeSlot){dispatch({type:group_admission_types.U.SELECT_MANDATORY_JETPASS,payload:{entrance,timeSlot}})},firstGuest=select_mandatory_jetpass_slicedToArray(guests,1)[0],hasSelectedMandatoryJetpass=firstGuest&&(null==firstGuest||null===(_firstGuest$admission=firstGuest.admissionProduct)||void 0===_firstGuest$admission?void 0:_firstGuest$admission.selectedMandatoryJetpass)||!1;return(0,react.useEffect)((function(){(0,array_helper.Of)(guests)&&selectedDate&&time_slot_service.Z.getEntrancesAndJetpassTimeslots(firstGuest.admissionProduct.id,date_helper.ZP.toStringYYYYMMDD(selectedDate)).then((function(response){if(isMountedRef.current&&(0,array_helper.Of)(response.response.jetPassTimeSlots)){var _step,modifiedRides=!1,_iterator=function select_mandatory_jetpass_createForOfIteratorHelper(o,allowArrayLike){var it="undefined"!=typeof Symbol&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=select_mandatory_jetpass_unsupportedIterableToArray(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0,F=function F(){};return{s:F,n:function n(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function e(_e){throw _e},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var err,normalCompletion=!0,didErr=!1;return{s:function s(){it=it.call(o)},n:function n(){var step=it.next();return normalCompletion=step.done,step},e:function e(_e2){didErr=!0,err=_e2},f:function f(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}(response.response.jetPassTimeSlots.map((function(jetPassTimeSlot){return jetPassTimeSlot.attractionId})));try{for(_iterator.s();!(_step=_iterator.n()).done;){var rideId=_step.value;if(!rides.has(rideId)){var ride=ride_store.Z.getRideById(rideId);ride&&(rides.set(rideId,ride),modifiedRides=!0)}}}catch(err){_iterator.e(err)}finally{_iterator.f()}modifiedRides&&setRides(new Map(rides)),setRidesForSelectedDate(response.response.jetPassTimeSlots)}})).catch((function(err){console.error(err)}))}),[selectedDate]),(0,jsx_runtime.jsxs)("div",{className:select_mandatory_jetpass_select_mandatory_jetpass_module.wrapper,children:[(0,jsx_runtime.jsx)("ul",{className:select_mandatory_jetpass_select_mandatory_jetpass_module.rideList,children:(0,array_helper.Of)(ridesForSelectedDate)?ridesForSelectedDate.map((function(ride){var _firstGuest$admission2,_rideBlock$imageInLis,rideBlock=rides.get(ride.attractionId),isSelected=(null==firstGuest||null===(_firstGuest$admission2=firstGuest.admissionProduct)||void 0===_firstGuest$admission2||null===(_firstGuest$admission2=_firstGuest$admission2.selectedMandatoryJetpass)||void 0===_firstGuest$admission2?void 0:_firstGuest$admission2.attractionId)===ride.attractionId||!1,timeSlot=(0,array_helper.Of)(ride.timeSlots)?ride.timeSlots[0]:void 0,hasSlotsLeftForGuests=!!timeSlot&&timeSlot.quantity>=guests.length,buttonLabelIfHasSlotsLeft=t(isSelected?"selectMandatoryJetpassStepChoice":"selectMandatoryJetpassStepChoose"),buttonLabelIfNoSlotsLeft=timeSlot?t("selectMandatoryJetpassStepSpotsLeft",{count:timeSlot.quantity}):t("soldOut");return(0,jsx_runtime.jsx)("li",{className:select_mandatory_jetpass_select_mandatory_jetpass_module.rideListItem,children:(0,jsx_runtime.jsx)(mandatory_jetpass_card,{entrance:ride,timeSlot,title:rideBlock?rideBlock.title:"",preamble:rideBlock?rideBlock.preamble:null,shortDescriptionInList:rideBlock?rideBlock.shortDescriptionInList:"",imageUrl:null==rideBlock||null===(_rideBlock$imageInLis=rideBlock.imageInList)||void 0===_rideBlock$imageInLis?void 0:_rideBlock$imageInLis.file.url,buttonLabel:hasSlotsLeftForGuests?buttonLabelIfHasSlotsLeft:buttonLabelIfNoSlotsLeft,isSelected,isSoldOut:!hasSlotsLeftForGuests,onClickButton:onClickMandatoryJetpass})},ride.attractionId)})):null}),(0,jsx_runtime.jsx)(button_row.V,{stepIndex,onClickBack,onClickStepComplete:function onClickStepComplete(){group_admission_helper.Z.scrollAndCompleteStep(stepWrapperRef,group_admission_types.h.SELECT_MANDATORY_JETPASS,dispatch)},nextDisabled:!hasSelectedMandatoryJetpass})]})};SelectMandatoryJetpass.displayName="SelectMandatoryJetpass";const select_mandatory_jetpass=SelectMandatoryJetpass;try{selectmandatoryjetpass.displayName="selectmandatoryjetpass",selectmandatoryjetpass.__docgenInfo={description:"",displayName:"selectmandatoryjetpass",props:{selectedDate:{defaultValue:null,description:"",name:"selectedDate",required:!0,type:{name:"Date"}},guests:{defaultValue:null,description:"",name:"guests",required:!0,type:{name:"Guest[]"}},quantity:{defaultValue:null,description:"",name:"quantity",required:!0,type:{name:'Map<"Adult" | "Child" | "Elderly" | "Baby", number>'}},stepWrapperRef:{defaultValue:null,description:"",name:"stepWrapperRef",required:!0,type:{name:"HTMLElement"}},stepIndex:{defaultValue:null,description:"",name:"stepIndex",required:!0,type:{name:"number"}},onClickBack:{defaultValue:null,description:"",name:"onClickBack",required:!0,type:{name:"() => void"}},dispatch:{defaultValue:null,description:"",name:"dispatch",required:!0,type:{name:"Dispatch<Action>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/group-admission/steps/select-mandatory-jetpass/select-mandatory-jetpass.tsx#selectmandatoryjetpass"]={docgenInfo:selectmandatoryjetpass.__docgenInfo,name:"selectmandatoryjetpass",path:"src/components/group-admission/steps/select-mandatory-jetpass/select-mandatory-jetpass.tsx#selectmandatoryjetpass"})}catch(__react_docgen_typescript_loader_error){}var structure_module=__webpack_require__("./src/styling/structure.module.less"),select_ticket=__webpack_require__("./src/components/group-admission/steps/select-ticket/select-ticket.tsx"),opening_hours_hooks=__webpack_require__("./src/hooks/opening-hours-hooks.ts");function group_admission_typeof(o){return group_admission_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},group_admission_typeof(o)}function group_admission_toConsumableArray(arr){return function group_admission_arrayWithoutHoles(arr){if(Array.isArray(arr))return group_admission_arrayLikeToArray(arr)}(arr)||function group_admission_iterableToArray(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||group_admission_unsupportedIterableToArray(arr)||function group_admission_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function group_admission_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function group_admission_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?group_admission_ownKeys(Object(t),!0).forEach((function(r){group_admission_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):group_admission_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function group_admission_defineProperty(obj,key,value){return(key=function group_admission_toPropertyKey(t){var i=function group_admission_toPrimitive(t,r){if("object"!=group_admission_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=group_admission_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==group_admission_typeof(i)?i:String(i)}(key))in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function group_admission_slicedToArray(arr,i){return function group_admission_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function group_admission_iterableToArrayLimit(r,l){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,n,i,u,a=[],f=!0,o=!1;try{if(i=(t=t.call(r)).next,0===l){if(Object(t)!==t)return;f=!1}else for(;!(f=(e=i.call(t)).done)&&(a.push(e.value),a.length!==l);f=!0);}catch(r){o=!0,n=r}finally{try{if(!f&&null!=t.return&&(u=t.return(),Object(u)!==u))return}finally{if(o)throw n}}return a}}(arr,i)||group_admission_unsupportedIterableToArray(arr,i)||function group_admission_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function group_admission_unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return group_admission_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?group_admission_arrayLikeToArray(o,minLen):void 0}}function group_admission_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var checkoutVariants={Norce:{checkoutVariant:"Norce"},Klarna:{checkoutVariant:"Klarna"}},GroupAdmission=function GroupAdmission(_ref){var _heroImageForSmallDev,_heroImageForSmallDev2,_heroImageForLargeDev,_heroImageForLargeDev2,purchaseFlowId=_ref.purchaseFlowId,stepConfigOverride=_ref.stepConfigOverride,_ref$showConcertsInCa=_ref.showConcertsInCalendar,showConcertsInCalendar=void 0!==_ref$showConcertsInCa&&_ref$showConcertsInCa,_ref$showScheduledTex=_ref.showScheduledTextBlocksInCalendar,showScheduledTextBlocksInCalendar=void 0!==_ref$showScheduledTex&&_ref$showScheduledTex,labelsOverride=_ref.labelsOverride,bannerProps=_ref.bannerProps,dailyInformationLink=_ref.dailyInformationLink,_ref$hideParkOpeningT=_ref.hideParkOpeningTimes,hideParkOpeningTimes=void 0!==_ref$hideParkOpeningT&&_ref$hideParkOpeningT,termsAndConditionsLink=_ref.termsAndConditionsLink,hideHeadline=_ref.hideHeadline,description=_ref.description,soldOutEventDateContent=_ref.soldOutEventDateContent,eventContainerLink=_ref.eventContainerLink,heroImageForSmallDevices=_ref.heroImageForSmallDevices,heroImageForLargeDevices=_ref.heroImageForLargeDevices,heroImageUrlForSmallDevicesDeprecated=_ref.heroImageUrlForSmallDevices,heroImageUrlForLargeDevicesDeprecated=_ref.heroImageUrlForLargeDevices,heroBackgroundImageUrl=_ref.heroBackgroundImageUrl,onBeforeCheckout=_ref.onBeforeCheckout,backgroundElement=_ref.backgroundElement,_ref$backgroundElemen=_ref.backgroundElementMode,backgroundElementMode=void 0===_ref$backgroundElemen?"NARROW":_ref$backgroundElemen,_ref$purchaseFlowServ=_ref.purchaseFlowService,purchaseFlowService=void 0===_ref$purchaseFlowServ?purchase_flow_service.I:_ref$purchaseFlowServ,_ref$showStore=_ref.showStore,showStore=void 0===_ref$showStore?show_store.Z:_ref$showStore,_ref$scheduleStore=_ref.scheduleStore,scheduleStore=void 0===_ref$scheduleStore?schedule_store.Z:_ref$scheduleStore,_ref$productStore=_ref.productStore,productStore=void 0===_ref$productStore?product_store.Z:_ref$productStore,jetpassMaxLimit=_ref.jetpassMaxLimit,_ref$checkoutVariant=_ref.checkoutVariant,checkoutVariant=void 0===_ref$checkoutVariant?"Norce":_ref$checkoutVariant,_ref$useOpeningHoursF=_ref.useOpeningHoursForDateHook,useOpeningHoursForDateHook=void 0===_ref$useOpeningHoursF?opening_hours_hooks.dA:_ref$useOpeningHoursF,waitRoomSecondsLeft=_ref.waitRoomSecondsLeft,customColors=_ref.customColors,priceLevelsWithMarking=_ref.priceLevelsWithMarking,additionalProductsAdult=_ref.additionalProductsAdult,additionalProductsChild=_ref.additionalProductsChild,additionalProductsSenior=_ref.additionalProductsSenior,additionalProductsInfant=_ref.additionalProductsInfant,_useReducer2=group_admission_slicedToArray((0,react.useReducer)(GroupAdmissionReducer,group_admission_objectSpread(group_admission_objectSpread({},GroupAdmissionInitialState),checkoutVariants[checkoutVariant]||(0,object_helper._y)("Unexpected checkout variant: ".concat(checkoutVariant)))),2),state=_useReducer2[0],dispatch=_useReducer2[1],_useState2=group_admission_slicedToArray((0,react.useState)(!0),2),isLoading=_useState2[0],setIsLoading=_useState2[1],_useState4=group_admission_slicedToArray((0,react.useState)(null),2),apiError=_useState4[0],setApiError=_useState4[1],_useState6=group_admission_slicedToArray((0,react.useState)(null),2),visitorCategories=_useState6[0],setVisitorCategories=_useState6[1],_useState8=group_admission_slicedToArray((0,react.useState)([]),2),calendarData=_useState8[0],setCalendarData=_useState8[1],_useState10=group_admission_slicedToArray((0,react.useState)(null),2),priceLevelPresenterText=_useState10[0],setPriceLevelPresenterText=_useState10[1],_useState12=group_admission_slicedToArray((0,react.useState)([]),2),upsellProducts=_useState12[0],setUpsellProducts=_useState12[1],_useState14=group_admission_slicedToArray((0,react.useState)(null),2),firstDateInSelectedDates=_useState14[0],setFirstDateInSelectedDates=_useState14[1],_useState16=group_admission_slicedToArray((0,react.useState)(null),2),headline=_useState16[0],setHeadline=_useState16[1],_useState18=group_admission_slicedToArray((0,react.useState)({minEntryProducts:1,maxEntryProducts:10}),2),minMaxEntryProducts=_useState18[0],setMinMaxEntryProducts=_useState18[1],isNextStepCompleted=(0,react.useMemo)((function(){return group_admission_helper.Z.getNextStepCompletedStatus(state.steps,state.isCompleted,state.activeStep)}),[state.steps,state.activeStep,state.isCompleted]),stepRefArray=(0,react.useRef)([]),heroImageUrlForSmallDevices=null!==(_heroImageForSmallDev=null==heroImageForSmallDevices||null===(_heroImageForSmallDev2=heroImageForSmallDevices.file)||void 0===_heroImageForSmallDev2?void 0:_heroImageForSmallDev2.url)&&void 0!==_heroImageForSmallDev?_heroImageForSmallDev:heroImageUrlForSmallDevicesDeprecated,heroImageUrlForLargeDevices=null!==(_heroImageForLargeDev=null==heroImageForLargeDevices||null===(_heroImageForLargeDev2=heroImageForLargeDevices.file)||void 0===_heroImageForLargeDev2?void 0:_heroImageForLargeDev2.url)&&void 0!==_heroImageForLargeDev?_heroImageForLargeDev:heroImageUrlForLargeDevicesDeprecated,heroImageAltTextForSmallDevices=null==heroImageForSmallDevices?void 0:heroImageForSmallDevices.title,heroImageAltTextForLargeDevices=null==heroImageForLargeDevices?void 0:heroImageForLargeDevices.title,locale=language_helper.Z.getCurrentLocale();i18n.rt.addResources(locale,i18n.tL,labelsOverride);var t=(0,es.$G)().t,isMountedRef=useIsMountedRef();(0,react.useEffect)((function(){var _hashInfo$date$,_hashInfo$date,dateFromHash=null!==(_hashInfo$date$=null===(_hashInfo$date=location_helper.Z.getDecodedHashParams().date)||void 0===_hashInfo$date?void 0:_hashInfo$date[0])&&void 0!==_hashInfo$date$?_hashInfo$date$:null,dateObjectFromHash=dateFromHash?(0,date_helper.Bq)(dateFromHash):null,selectedDate=!date_helper.ZP.isDateValid(dateObjectFromHash)||date_helper.ZP.isDatePassed(dateObjectFromHash)&&!date_helper.ZP.isToday(dateObjectFromHash)?null:dateObjectFromHash,showsForPurchaseFlow=showStore.getShowsForPurchaseFlow(),showsForPurchaseFlowIds=(0,array_helper.Of)(showsForPurchaseFlow)?showsForPurchaseFlow.map((function(show){return show.contentful_id})):[];Promise.all([purchaseFlowService.getPurchaseFlow(purchaseFlowId,locale),(0,array_helper.Of)(showsForPurchaseFlow)?scheduleStore.getEventsForShowIds(showsForPurchaseFlowIds):Promise.resolve([]),scheduleStore.getTextBlocksForPurchaseFlow(locale)]).then((function(response){var _purchaseFlowResponse,_purchaseFlowResponse2,_sortedCalendar$0$dat,_sortedCalendar$;if(isMountedRef.current){var _response=group_admission_slicedToArray(response,3),purchaseFlowResponse=_response[0],scheduleStoreResponse=_response[1],textBlocksForPurchaseFlow=_response[2],visitorCategoryMap=group_admission_helper.Z.mapAndSortVisitorCategories(purchaseFlowResponse.visitorCategories);setHeadline(purchaseFlowResponse.purchaseFlowName),setPriceLevelPresenterText(purchaseFlowResponse.priceLevelPresenterText),setVisitorCategories(visitorCategoryMap);var mappedCalendar=(0,array_helper.Of)(purchaseFlowResponse.calendar)?purchaseFlowResponse.calendar.map((function(dateItem){return{date:(0,date_helper.Bq)(dateItem.date),opens:(0,date_helper.Bq)(dateItem.opens),closing:(0,date_helper.Bq)(dateItem.closing),products:group_admission_helper.Z.sortProductsByVisitorCategorySortIndex(dateItem.products,visitorCategoryMap),visitorCategories:group_admission_toConsumableArray(visitorCategoryMap.values()),upsellProductsForDate:dateItem.upsellProducts}})):[],sortedCalendar=(0,sortBy.Z)(mappedCalendar,["date"]);setCalendarData(sortedCalendar),setUpsellProducts(purchaseFlowResponse.upsellProducts),setMinMaxEntryProducts({minEntryProducts:null!==(_purchaseFlowResponse=purchaseFlowResponse.minEntryProducts)&&void 0!==_purchaseFlowResponse?_purchaseFlowResponse:1,maxEntryProducts:null!==(_purchaseFlowResponse2=purchaseFlowResponse.maxEntryProducts)&&void 0!==_purchaseFlowResponse2?_purchaseFlowResponse2:10});var filteredSteps=[{stepType:group_admission_types.h.GROUP_SIZE,titleLabelId:"groupSizeStepTitle"},{stepType:group_admission_types.h.SELECT_DATE,titleLabelId:"calendarStepTitle"},{stepType:group_admission_types.h.SELECT_ENTRY_TIME,titleLabelId:"selectEntryTimeStepTitle"},{stepType:group_admission_types.h.SELECT_TICKET,titleLabelId:"selectTicketStepTitle"},{stepType:group_admission_types.h.SELECT_MANDATORY_JETPASS,titleLabelId:"selectMandatoryJetpassStepTitle"},{stepType:group_admission_types.h.SELECT_JETPASS,titleLabelId:"selectJetpassStepTitle"},{stepType:group_admission_types.h.UPSELL,titleLabelId:"upsellStepTitle"},{stepType:group_admission_types.h.SUMMARY,titleLabelId:"summaryStepTitle"}].filter((function(stepData){return function shouldStepBeIncluded(stepType,response,stepConfigOverride){switch(stepType){case group_admission_types.h.GROUP_SIZE:case group_admission_types.h.SELECT_DATE:return!0;case group_admission_types.h.SELECT_ENTRY_TIME:return!!response.selectTimePass&&!0!==(null==stepConfigOverride?void 0:stepConfigOverride.hideSelectTimePass);case group_admission_types.h.SELECT_TICKET:return!0===(null==stepConfigOverride?void 0:stepConfigOverride.selectTicketInsteadOfVariant);case group_admission_types.h.SELECT_MANDATORY_JETPASS:return response.jetPassAsRequiredActivity;case group_admission_types.h.SELECT_JETPASS:return!!response.selectJetPass&&!response.jetPassAsRequiredActivity&&!0!==(null==stepConfigOverride?void 0:stepConfigOverride.hideSelectJetPass);case group_admission_types.h.UPSELL:return!!(0,array_helper.Of)(response.upsellProducts)&&!0!==(null==stepConfigOverride?void 0:stepConfigOverride.hideUpsell);case group_admission_types.h.SUMMARY:return!0;default:(0,object_helper.y0)(stepType)}}(stepData.stepType,purchaseFlowResponse,stepConfigOverride)})),firstPurchaseFlowDate=(0,array_helper.Of)(sortedCalendar)?(0,date_helper.Bq)(null!==(_sortedCalendar$0$dat=null==sortedCalendar||null===(_sortedCalendar$=sortedCalendar[0])||void 0===_sortedCalendar$?void 0:_sortedCalendar$.date)&&void 0!==_sortedCalendar$0$dat?_sortedCalendar$0$dat:(0,date_helper.Bq)()):(0,date_helper.Bq)(),variantsForSelectedDate=[],selectedDateOpeningHours=null,selectedDateProducts=[];if(selectedDate){firstPurchaseFlowDate=date_helper.ZP.getModifiedDateByMonth(selectedDate,0);var selectedDateFromCalendar=sortedCalendar.find((function(date){return date_helper.ZP.isEqualYYYYMMDD(date.date,selectedDate)}));variantsForSelectedDate=selectedDateFromCalendar?group_admission_helper.Z.getSortedVariantsFromSelection(selectedDateFromCalendar.products,purchaseFlowResponse.entryVariants):[],selectedDateOpeningHours=selectedDateFromCalendar?{opens:selectedDateFromCalendar.opens,closing:selectedDateFromCalendar.closing}:null,selectedDateProducts=selectedDateFromCalendar?selectedDateFromCalendar.products:[]}dispatch({type:group_admission_types.U.INITIALIZE,payload:{steps:filteredSteps,selectedMonth:firstPurchaseFlowDate,entryVariantType:purchaseFlowResponse.entryVariantType,selectedDate,variants:purchaseFlowResponse.entryVariants,variantsForSelectedDate,selectedDateOpeningHours,selectedDateProducts}}),function addScheduledItemsToCalendar(shows,textBlocks,calendarData,flags){var updatedCalendar=calendarData.map((function(dateItem){var showsForDate=shows.filter((function(show){var _show$events,eventDates=null===(_show$events=show.events)||void 0===_show$events?void 0:_show$events.map((function(event){return event.startDateAndTime}));return(0,array_helper.Of)(eventDates)&&eventDates.some((function(eventDate){return date_helper.ZP.isEqualYYYYMMDD(eventDate,dateItem.date)}))})),textBlocksForDate=textBlocks.filter((function(eventAndTextBlock){var date=eventAndTextBlock.event.startDateAndTime;return date_helper.ZP.isEqualYYYYMMDD(date,dateItem.date)})).map((function(eventAndTextBlock){return eventAndTextBlock.textBlock}));return group_admission_objectSpread(group_admission_objectSpread({},dateItem),{},{shows:flags.showConcertsInCalendar?showsForDate:[],textBlocks:flags.showScheduledTextBlocksInCalendar?textBlocksForDate:[]})}));setCalendarData(updatedCalendar)}(scheduleStoreResponse,textBlocksForPurchaseFlow,sortedCalendar,{showConcertsInCalendar,showScheduledTextBlocksInCalendar}),setIsLoading(!1)}})).catch((function(err){setApiError(t("errorGetPurchaseFlow")),console.error(err)}))}),[]),(0,react.useEffect)((function(){if(state.selectedDates.size>0){var firstDate=group_admission_toConsumableArray(state.selectedDates.values())[0];setFirstDateInSelectedDates(firstDate)}}),[state.selectedDates]),function useBackFromBfcache(eventListener,deps){(0,react.useEffect)((function(){var listener=function listener(event){event.persisted&&eventListener(event)};return window.addEventListener("pageshow",listener),function(){return window.removeEventListener("pageshow",listener)}}),deps)}((function(){location.reload()}),[]);var _onClickBack=function onClickBack(stepIndex,stepRefArray,dispatch){var _state$steps,prevIndex=stepIndex-(state.isDisabledStep.get(null===(_state$steps=state.steps[stepIndex-1])||void 0===_state$steps?void 0:_state$steps.stepType)?2:1);stepIndex>0&&(0,esm.Z)(stepRefArray.current[prevIndex],{verticalOffset:-64,speed:750,minDuration:100}),dispatch({type:group_admission_types.U.CHANGE_STEP,payload:{stepIndex:prevIndex}})},heroImageWrapperStyle=heroBackgroundImageUrl?{backgroundImage:"url(".concat(heroBackgroundImageUrl,")")}:void 0;return(0,jsx_runtime.jsxs)("div",{className:"".concat(group_admission_group_admission_module.wrapper," ").concat(isLoading?group_admission_group_admission_module.loading:""),children:[(heroImageUrlForSmallDevices||heroImageUrlForLargeDevices)&&!isLoading&&(0,jsx_runtime.jsx)("div",{className:group_admission_group_admission_module.heroImageWrapper,style:heroImageWrapperStyle,children:(0,jsx_runtime.jsxs)("picture",{className:group_admission_group_admission_module.heroImage,children:[heroImageUrlForLargeDevices&&(0,jsx_runtime.jsx)("source",{srcSet:heroImageUrlForLargeDevices,media:"(min-width: 768px)"}),heroImageUrlForSmallDevices?(0,jsx_runtime.jsx)("img",{src:heroImageUrlForSmallDevices,alt:null!=heroImageAltTextForSmallDevices?heroImageAltTextForSmallDevices:headline}):(0,jsx_runtime.jsx)("img",{src:heroImageUrlForLargeDevices,alt:null!=heroImageAltTextForLargeDevices?heroImageAltTextForLargeDevices:headline})]})}),waitRoomSecondsLeft&&(0,jsx_runtime.jsx)("div",{className:"".concat(group_admission_group_admission_module.stickyBar," body-s"),children:t("remainingWaitingRoomTime",[date_helper.ZP.toStringTimeMinutesAndSeconds(t,waitRoomSecondsLeft)])}),isLoading?(0,jsx_runtime.jsx)(motion.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3,type:"tween"},className:group_admission_group_admission_module.loader,children:(0,jsx_runtime.jsx)(area_loader.Z,{loaderText:apiError||t("loadingPurchaseFlow"),contentfulLabelId:apiError?"errorGetPurchaseFlow":"loadingPurchaseFlow"})},"loader"):(0,jsx_runtime.jsxs)("div",{className:group_admission_group_admission_module.wideWrapper,children:["WIDE"===backgroundElementMode&&null!==backgroundElement&&backgroundElement,(0,jsx_runtime.jsxs)(motion.E.div,{className:"".concat(group_admission_group_admission_module.innerWrapper," ").concat(structure_module.Z.blockMaxWidthS),initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3,type:"tween"},children:["NARROW"===backgroundElementMode&&null!==backgroundElement&&backgroundElement,(0,jsx_runtime.jsxs)("div",{className:group_admission_group_admission_module.allContent,children:[(0,jsx_runtime.jsxs)("div",{className:group_admission_group_admission_module.introWrapper,children:[!0!==hideHeadline&&(0,jsx_runtime.jsx)("h2",{className:group_admission_group_admission_module.purchaseFlowHeadline,children:headline}),description&&(0,jsx_runtime.jsx)("div",{className:group_admission_group_admission_module.description,children:(0,jsx_runtime.jsx)(rich_text.Z,{richText:description})})]}),state.steps.map((function(step,i){var componentsForStep=function getComponentsForStepType(stepType,index){switch(stepType){case group_admission_types.h.GROUP_SIZE:return{summary:step_summary.getGroupSizeSummary(state.quantity,visitorCategories),stepComponent:(0,jsx_runtime.jsx)(group_size,{quantity:state.quantity,minMaxEntryProducts,dispatch,visitorCategories,selectedVariant:state.selectedVariant,ignoreVariantSelection:null==stepConfigOverride?void 0:stepConfigOverride.selectTicketInsteadOfVariant,isNextStepCompleted,bannerProps,stepWrapperRef:stepRefArray.current[index]})};case group_admission_types.h.SELECT_DATE:return{summary:step_summary.getSelectDateSummary(state.selectedDates,state.selectedVariant,state.entryVariantType,null==stepConfigOverride?void 0:stepConfigOverride.selectTicketInsteadOfVariant),stepComponent:(0,jsx_runtime.jsx)(group_admission_calendar.Z,{dispatch,isActive:state.activeStep===index,onClickBack:function onClickBack(){return _onClickBack(index,stepRefArray,dispatch)},stepIndex:index,stepWrapperRef:stepRefArray.current[index],showConcertsInCalendar,selectedDateOpeningHours:state.selectedDateOpeningHours,selectedDateProducts:state.selectedDateProducts,selectedMonth:state.selectedMonth,selectedDates:state.selectedDates,selectedVariant:state.selectedVariant,calendarData,variantsForSelectedDate:state.variantsForSelectedDate,variants:state.variants,quantity:state.quantity,isNextStepCompleted,visitorCategories,dailyInformationLink,hideParkOpeningTimes,soldOutEventDateContent,eventContainerLink,priceLevelPresenterText,hideVariant:null==stepConfigOverride?void 0:stepConfigOverride.selectTicketInsteadOfVariant,customColors,priceLevelsWithMarking})};case group_admission_types.h.SELECT_ENTRY_TIME:return{summary:step_summary.getSelectEntryTimeSummary(firstDateInSelectedDates&&firstDateInSelectedDates.selectedEntryTime),stepComponent:(0,jsx_runtime.jsx)(select_entry_time,{stepIndex:index,stepWrapperRef:stepRefArray.current[index],onClickBack:function onClickBack(){return _onClickBack(index,stepRefArray,dispatch)},dispatch,guests:state.guests,quantity:state.quantity,selectedDates:state.selectedDates,selectedVariant:state.selectedVariant})};case group_admission_types.h.SELECT_TICKET:return{summary:step_summary.getSelectTicketSummary(state.guests),stepComponent:(0,jsx_runtime.jsx)(select_ticket.Z,{stepIndex:index,isActive:state.activeStep===index,stepWrapperRef:stepRefArray.current[index],onClickBack:function onClickBack(){return _onClickBack(index,stepRefArray,dispatch)},dispatch,visitorCategories,firstDateInSelectedDates,selectedDateProducts:state.selectedDateProducts,variantsForSelectedDate:state.variantsForSelectedDate,selectedAmountPerCategory:state.quantity,isNextStepCompleted,guests:state.guests,useOpeningHoursForDate:useOpeningHoursForDateHook,additionalProductsAdult,additionalProductsChild,additionalProductsSenior,additionalProductsInfant})};case group_admission_types.h.SELECT_MANDATORY_JETPASS:return{summary:step_summary.getSelectMandatoryJetpassSummary(state.guests),stepComponent:(0,jsx_runtime.jsx)(select_mandatory_jetpass,{stepIndex:index,stepWrapperRef:stepRefArray.current[index],onClickBack:function onClickBack(){return _onClickBack(index,stepRefArray,dispatch)},dispatch,guests:state.guests,quantity:state.quantity,selectedDate:firstDateInSelectedDates&&firstDateInSelectedDates.date})};case group_admission_types.h.SELECT_JETPASS:var hasGuestsNoJetpasses=state.isDisabledStep.get(group_admission_types.h.SELECT_JETPASS);return hasGuestsNoJetpasses&&state.activeStep===index&&dispatch({type:group_admission_types.U.COMPLETE_STEP,payload:{completedStep:group_admission_types.h.SELECT_JETPASS}}),{summary:hasGuestsNoJetpasses?"":step_summary.getSelectJetPassSummary(state.guests,jetpassMaxLimit),stepComponent:(0,jsx_runtime.jsx)(select_jetpass,{stepIndex:index,stepWrapperRef:stepRefArray.current[index],onClickBack:function onClickBack(){return _onClickBack(index,stepRefArray,dispatch)},dispatch,selectedDate:firstDateInSelectedDates&&firstDateInSelectedDates.date,guests:state.guests,selectedEntryTime:firstDateInSelectedDates&&firstDateInSelectedDates.selectedEntryTime,jetpassMaxLimit})};case group_admission_types.h.UPSELL:return{summary:step_summary.getUpsellSummary(state.selectedDates),stepComponent:(0,jsx_runtime.jsx)(upsell_upsell,{stepIndex:index,stepWrapperRef:stepRefArray.current[index],onClickBack:function onClickBack(){return _onClickBack(index,stepRefArray,dispatch)},dispatch,upsellProducts,selectedVariant:state.selectedVariant,quantity:state.quantity,guests:state.guests,selectedDates:new Map(group_admission_toConsumableArray(state.selectedDates).map((function(_ref3){var _ref4=group_admission_slicedToArray(_ref3,2),key=_ref4[0],value=_ref4[1];return[key,[value,calendarData.find((function(d){return date_helper.ZP.isEqualYYYYMMDD(d.date,value.date)}))]]}))),productStore})};case group_admission_types.h.SUMMARY:return{summary:null,stepComponent:(0,jsx_runtime.jsx)(summary_summary,{checkoutVariant:state.checkoutVariant,onClickBack:function onClickBack(){return _onClickBack(index,stepRefArray,dispatch)},dispatch,stepIndex:index,isActive:state.activeStep===index,visitorCategories,quantity:state.quantity,selectedDates:new Map(group_admission_toConsumableArray(state.selectedDates).map((function(_ref5){var _ref6=group_admission_slicedToArray(_ref5,2),key=_ref6[0],value=_ref6[1];return[key,[value,calendarData.find((function(d){return date_helper.ZP.isEqualYYYYMMDD(d.date,value.date)}))]]}))),guests:state.guests,termsAndConditionsLink,onBeforeCheckout})};default:return(0,object_helper.y0)(stepType),console.warn("Unsupported stepType: ",stepType),null}}(step.stepType,i);return(0,jsx_runtime.jsx)(step_wrapper,{stepRefArray,isActive:state.activeStep===i,isCompleted:state.isCompleted.get(step.stepType),stepIndex:i,titleLabelId:step.titleLabelId,stepType:step.stepType,stepSummary:componentsForStep.summary,isDisabledStep:state.isDisabledStep.get(step.stepType),dispatch,children:componentsForStep.stepComponent},"step-".concat(step.stepType))}))]})]},"purchaseFlow")]})]})};GroupAdmission.displayName="GroupAdmission";const group_admission=GroupAdmission;try{groupadmission.displayName="groupadmission",groupadmission.__docgenInfo={description:"",displayName:"groupadmission",props:{purchaseFlowId:{defaultValue:null,description:"",name:"purchaseFlowId",required:!0,type:{name:"number"}},stepConfigOverride:{defaultValue:null,description:"",name:"stepConfigOverride",required:!1,type:{name:"StepConfigOverride"}},showConcertsInCalendar:{defaultValue:{value:"false"},description:"",name:"showConcertsInCalendar",required:!1,type:{name:"boolean"}},showScheduledTextBlocksInCalendar:{defaultValue:{value:"false"},description:"",name:"showScheduledTextBlocksInCalendar",required:!1,type:{name:"boolean"}},pickHighestPriceForSimilarPriceLevels:{defaultValue:null,description:"@deprecated This can be dropped, since it is not used anymore.",name:"pickHighestPriceForSimilarPriceLevels",required:!1,type:{name:"boolean"}},labelsOverride:{defaultValue:null,description:"",name:"labelsOverride",required:!1,type:{name:"Partial<LabelType>"}},bannerProps:{defaultValue:null,description:"",name:"bannerProps",required:!1,type:{name:"BannerData"}},dailyInformationLink:{defaultValue:null,description:"",name:"dailyInformationLink",required:!1,type:{name:"IContentfulLink"}},hideParkOpeningTimes:{defaultValue:{value:"false"},description:"",name:"hideParkOpeningTimes",required:!1,type:{name:"boolean"}},termsAndConditionsLink:{defaultValue:null,description:"",name:"termsAndConditionsLink",required:!1,type:{name:"IContentfulLink"}},hideHeadline:{defaultValue:null,description:"",name:"hideHeadline",required:!1,type:{name:"boolean"}},description:{defaultValue:null,description:"",name:"description",required:!1,type:{name:"RichTextType"}},soldOutEventDateContent:{defaultValue:null,description:"",name:"soldOutEventDateContent",required:!1,type:{name:"any"}},eventContainerLink:{defaultValue:null,description:"",name:"eventContainerLink",required:!1,type:{name:"IContentfulLink"}},onBeforeCheckout:{defaultValue:null,description:"",name:"onBeforeCheckout",required:!1,type:{name:"() => void"}},heroImageUrlForSmallDevices:{defaultValue:null,description:"@deprecated Use prop `heroImageForSmallDevices` instead.",name:"heroImageUrlForSmallDevices",required:!1,type:{name:"string"}},heroImageUrlForLargeDevices:{defaultValue:null,description:"@deprecated Use prop `heroImageForLargeDevices` instead.",name:"heroImageUrlForLargeDevices",required:!1,type:{name:"string"}},heroImageForSmallDevices:{defaultValue:null,description:"",name:"heroImageForSmallDevices",required:!1,type:{name:"IImageAsset"}},heroImageForLargeDevices:{defaultValue:null,description:"",name:"heroImageForLargeDevices",required:!1,type:{name:"IImageAsset"}},heroBackgroundImageUrl:{defaultValue:null,description:"",name:"heroBackgroundImageUrl",required:!1,type:{name:"string"}},backgroundElement:{defaultValue:null,description:"",name:"backgroundElement",required:!1,type:{name:"ReactNode"}},backgroundElementMode:{defaultValue:{value:"NARROW"},description:"",name:"backgroundElementMode",required:!1,type:{name:"enum",value:[{value:'"NARROW"'},{value:'"WIDE"'}]}},purchaseFlowService:{defaultValue:{value:'{\n  getPurchaseFlow(purchaseFlowId: number, locale: string) {\n    return ServiceHelper.fetchGet(`/purchaseflows/${purchaseFlowId}?locale=${locale}`);\n  },\n\n  getPurchaseFlows(purchaseFlowIds: Array<number>, dateFrom: string, dateTo: string, locale: string) {\n    const params = new URLSearchParams();\n\n    for (const id of purchaseFlowIds) {\n      params.append("purchaseFlowIds", id.toString());\n    }\n\n    params.append("dateFrom", dateFrom);\n    params.append("dateTo", dateTo);\n    params.append("locale", locale);\n\n    return ServiceHelper.fetchGet(`/purchaseflows/?${params.toString()}`);\n  },\n} as IPurchaseFlowService'},description:"",name:"purchaseFlowService",required:!1,type:{name:"IPurchaseFlowService"}},showStore:{defaultValue:{value:"new ShowStore()"},description:"",name:"showStore",required:!1,type:{name:"IShowStore"}},scheduleStore:{defaultValue:{value:"new ScheduleStore()"},description:"",name:"scheduleStore",required:!1,type:{name:"IScheduleStore"}},productStore:{defaultValue:{value:"new ProductStore()"},description:"",name:"productStore",required:!1,type:{name:"IProductStore"}},jetpassMaxLimit:{defaultValue:null,description:"",name:"jetpassMaxLimit",required:!1,type:{name:"number"}},checkoutVariant:{defaultValue:{value:"Norce"},description:"",name:"checkoutVariant",required:!1,type:{name:"enum",value:[{value:'"Norce"'},{value:'"Klarna"'}]}},useOpeningHoursForDateHook:{defaultValue:{value:"(selectedDate) => {\n  const allOpeningHours = useOpeningHours();\n\n  return useMemo(() => {\n    if (!selectedDate) return undefined;\n\n    return allOpeningHours?.find((item) =>\n      item.areaOpeningHours.find(\n        (area) => area.areaId === 1 && DateHelper.isEqualYYYYMMDD(area.dateFrom, selectedDate.toISOString()),\n      ),\n    );\n  }, [selectedDate, allOpeningHours]);\n}"},description:"",name:"useOpeningHoursForDateHook",required:!1,type:{name:"(selectedDate: Date) => DateOpeningHours"}},waitRoomSecondsLeft:{defaultValue:null,description:"",name:"waitRoomSecondsLeft",required:!1,type:{name:"number"}},customColors:{defaultValue:null,description:"",name:"customColors",required:!1,type:{name:"GroupAdmissionCustomColorsProps"}},priceLevelsWithMarking:{defaultValue:null,description:"",name:"priceLevelsWithMarking",required:!1,type:{name:"number[]"}},additionalProductsAdult:{defaultValue:null,description:"",name:"additionalProductsAdult",required:!1,type:{name:"Product[]"}},additionalProductsChild:{defaultValue:null,description:"",name:"additionalProductsChild",required:!1,type:{name:"Product[]"}},additionalProductsSenior:{defaultValue:null,description:"",name:"additionalProductsSenior",required:!1,type:{name:"Product[]"}},additionalProductsInfant:{defaultValue:null,description:"",name:"additionalProductsInfant",required:!1,type:{name:"Product[]"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/group-admission/group-admission.tsx#groupadmission"]={docgenInfo:groupadmission.__docgenInfo,name:"groupadmission",path:"src/components/group-admission/group-admission.tsx#groupadmission"})}catch(__react_docgen_typescript_loader_error){}var testing_library_dist=__webpack_require__("./node_modules/@storybook/testing-library/dist/index.mjs"),jest_dist=__webpack_require__("./node_modules/@storybook/jest/dist/index.mjs"),jetshop_store=__webpack_require__("./src/stores/jetshop-store.ts"),current_content_page_context=__webpack_require__("./src/contexts/current-content-page-context.tsx"),content_container=__webpack_require__("./src/components/hocs/content-container/content-container.tsx"),lib=__webpack_require__("./node_modules/msw/lib/index.js"),dayjs_min=__webpack_require__("./node_modules/dayjs/dayjs.min.js"),dayjs_min_default=__webpack_require__.n(dayjs_min),preview=__webpack_require__("./.storybook/preview.tsx"),select_ticket_products=__webpack_require__("./storybook-public/mock-data/select-ticket-products.ts"),queryClient=__webpack_require__("./node_modules/@tanstack/query-core/build/modern/queryClient.js"),QueryClientProvider=__webpack_require__("./node_modules/@tanstack/react-query/build/modern/QueryClientProvider.js");function group_admission_stories_typeof(o){return group_admission_stories_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},group_admission_stories_typeof(o)}function group_admission_stories_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function group_admission_stories_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?group_admission_stories_ownKeys(Object(t),!0).forEach((function(r){group_admission_stories_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):group_admission_stories_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function group_admission_stories_defineProperty(obj,key,value){return(key=function group_admission_stories_toPropertyKey(t){var i=function group_admission_stories_toPrimitive(t,r){if("object"!=group_admission_stories_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=group_admission_stories_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==group_admission_stories_typeof(i)?i:String(i)}(key))in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function group_admission_stories_regeneratorRuntime(){group_admission_stories_regeneratorRuntime=function _regeneratorRuntime(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function define(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{define({},"")}catch(t){define=function define(t,e,r){return t[e]=r}}function wrap(t,e,r,n){var i=e&&e.prototype instanceof Generator?e:Generator,a=Object.create(i.prototype),c=new Context(n||[]);return o(a,"_invoke",{value:makeInvokeMethod(t,r,c)}),a}function tryCatch(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=wrap;var h="suspendedStart",f="executing",s="completed",y={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var p={};define(p,a,(function(){return this}));var d=Object.getPrototypeOf,v=d&&d(d(values([])));v&&v!==r&&n.call(v,a)&&(p=v);var g=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(p);function defineIteratorMethods(t){["next","throw","return"].forEach((function(e){define(t,e,(function(t){return this._invoke(e,t)}))}))}function AsyncIterator(t,e){function invoke(r,o,i,a){var c=tryCatch(t[r],t,o);if("throw"!==c.type){var u=c.arg,h=u.value;return h&&"object"==group_admission_stories_typeof(h)&&n.call(h,"__await")?e.resolve(h.__await).then((function(t){invoke("next",t,i,a)}),(function(t){invoke("throw",t,i,a)})):e.resolve(h).then((function(t){u.value=t,i(u)}),(function(t){return invoke("throw",t,i,a)}))}a(c.arg)}var r;o(this,"_invoke",{value:function value(t,n){function callInvokeWithMethodAndArg(){return new e((function(e,r){invoke(t,n,e,r)}))}return r=r?r.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}})}function makeInvokeMethod(e,r,n){var o=h;return function(i,a){if(o===f)throw new Error("Generator is already running");if(o===s){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var c=n.delegate;if(c){var u=maybeInvokeDelegate(c,n);if(u){if(u===y)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=s,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=f;var p=tryCatch(e,r,n);if("normal"===p.type){if(o=n.done?s:"suspendedYield",p.arg===y)continue;return{value:p.arg,done:n.done}}"throw"===p.type&&(o=s,n.method="throw",n.arg=p.arg)}}}function maybeInvokeDelegate(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,maybeInvokeDelegate(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var i=tryCatch(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,y;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,y):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function pushTryEntry(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function resetTryEntry(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function Context(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(pushTryEntry,this),this.reset(!0)}function values(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function next(){for(;++o<e.length;)if(n.call(e,o))return next.value=e[o],next.done=!1,next;return next.value=t,next.done=!0,next};return i.next=i}}throw new TypeError(group_admission_stories_typeof(e)+" is not iterable")}return GeneratorFunction.prototype=GeneratorFunctionPrototype,o(g,"constructor",{value:GeneratorFunctionPrototype,configurable:!0}),o(GeneratorFunctionPrototype,"constructor",{value:GeneratorFunction,configurable:!0}),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===GeneratorFunction||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,GeneratorFunctionPrototype):(t.__proto__=GeneratorFunctionPrototype,define(t,u,"GeneratorFunction")),t.prototype=Object.create(g),t},e.awrap=function(t){return{__await:t}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,c,(function(){return this})),e.AsyncIterator=AsyncIterator,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new AsyncIterator(wrap(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},defineIteratorMethods(g),define(g,u,"Generator"),define(g,a,(function(){return this})),define(g,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function next(){for(;r.length;){var t=r.pop();if(t in e)return next.value=t,next.done=!1,next}return next.done=!0,next}},e.values=values,Context.prototype={constructor:Context,reset:function reset(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(resetTryEntry),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function stop(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function dispatchException(e){if(this.done)throw e;var r=this;function handle(n,o){return a.type="throw",a.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return handle("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return handle(i.catchLoc,!0);if(this.prev<i.finallyLoc)return handle(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return handle(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return handle(i.finallyLoc)}}}},abrupt:function abrupt(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,y):this.complete(a)},complete:function complete(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function finish(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),resetTryEntry(r),y}},catch:function _catch(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;resetTryEntry(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function delegateYield(e,r,n){return this.delegate={iterator:values(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),y}},e}function group_admission_stories_asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function group_admission_stories_asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){group_admission_stories_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){group_admission_stories_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}var group_admission_stories_queryClient=new queryClient.S;jetshop_store.Z.getAllExtendedProducts=group_admission_stories_asyncToGenerator(group_admission_stories_regeneratorRuntime().mark((function _callee(){return group_admission_stories_regeneratorRuntime().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.abrupt("return",Promise.resolve(select_ticket_products.yC));case 1:case"end":return _context.stop()}}),_callee)})));var today=dayjs_min_default()();const group_admission_stories={title:"Blocks/Group Admission",component:group_admission,decorators:[preview.withMockedDate],parameters:{msw:[lib.rest.get("".concat("https://fake-non-api.com","/openinghours/"),function(){var _ref2=group_admission_stories_asyncToGenerator(group_admission_stories_regeneratorRuntime().mark((function _callee2(req,res,ctx){var data;return group_admission_stories_regeneratorRuntime().wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return data=[{opens:today.set("hour",10).set("minute",0).toDate(),closing:today.set("hour",18).set("minute",0).toDate(),magicHours:"10:40:00",areaOpeningHours:[{areaId:1,dateFrom:today.set("hour",10).set("minute",0).toDate(),dateTo:today.set("hour",18).set("minute",0).toDate()}],seasonId:1,highEntranceStart:"00:00:00",highEntranceStop:"00:00:00",lowPriceStart:"00:00:00",event:!1,webInfo:"",publish:!0,flags:0}],_context2.abrupt("return",res(ctx.json(data)));case 2:case"end":return _context2.stop()}}),_callee2)})));return function(_x,_x2,_x3){return _ref2.apply(this,arguments)}}())]}};var _play,_play2,_play3,_play4,_play5,Primary={argTypes:{customFile:{name:"Custom API-response JSON-file",control:{type:"file",accept:"json"}},groupAdmission:{name:"Group Admission",control:"radio",options:["GLT 2025","KDP 2025"],defaultValue:"GLT 2025"},purchaseFlowId:{table:{disable:!0}}},args:{currentLocale:"sv",slugs:{sv:"/nagon-sida",en:"/some-page"},mockedDate:new Date("2025-03-12 17:00:55"),groupAdmission:"GLT 2025",description:{raw:JSON.stringify({nodeType:"document",data:{},content:[{nodeType:"paragraph",data:{},content:[{nodeType:"text",value:"✅ Entré hela dagen 🎟️\r\n✅ Åkband: Fria åk i alla våra roliga attraktioner 🎢\nVälj: förmiddag, eftermiddag eller heldag\r\n✅ 2 st Jetpass - ta expresskön till dina favoritattraktioner\n🎤 Konsert (om sådan infaller vid Lilla eller Stora Scen på besöksdagen)\n\n",marks:[],data:{}},{nodeType:"text",value:"Pssst! I år är heldagen tillbaka. Det innebär att du som köper Ticket to Ride får stanna i parken från öppning till stängning men väljer när ni ska åka.",marks:[{type:"italic"}],data:{}}]},{nodeType:"paragraph",data:{},content:[{nodeType:"text",value:"",marks:[],data:{}}]},{nodeType:"paragraph",data:{},content:[{nodeType:"text",value:"\r",marks:[],data:{}}]}]})},purchaseFlowId:123,showConcertsInCalendar:!0,hideParkOpeningTimes:!1,stepConfigOverride:{selectTicketInsteadOfVariant:!0},priceLevelsWithMarking:[2,4]},render:function render(args){var key=JSON.stringify(args);if(args.customFile)return(0,jsx_runtime.jsx)(GroupAdmissionStory,{getPurchaseFlow:group_admission_stories_asyncToGenerator(group_admission_stories_regeneratorRuntime().mark((function _callee3(){var response;return group_admission_stories_regeneratorRuntime().wrap((function _callee3$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return _context3.next=2,fetch(args.customFile[0]);case 2:return response=_context3.sent,_context3.next=5,response.json();case 5:return _context3.abrupt("return",_context3.sent);case 6:case"end":return _context3.stop()}}),_callee3)}))),args},key);switch(args.groupAdmission){case"GLT 2025":return(0,jsx_runtime.jsx)(GroupAdmissionStory,{getPurchaseFlow:group_admission_stories_asyncToGenerator(group_admission_stories_regeneratorRuntime().mark((function _callee4(){var response;return group_admission_stories_regeneratorRuntime().wrap((function _callee4$(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:return _context4.next=2,fetch("/mock-data/purchase-flow-glt-prod.json");case 2:return response=_context4.sent,_context4.next=5,response.json();case 5:return _context4.abrupt("return",_context4.sent);case 6:case"end":return _context4.stop()}}),_callee4)}))),args},key);case"KDP 2025":return(0,jsx_runtime.jsx)(GroupAdmissionStory,{getPurchaseFlow:group_admission_stories_asyncToGenerator(group_admission_stories_regeneratorRuntime().mark((function _callee5(){var response;return group_admission_stories_regeneratorRuntime().wrap((function _callee5$(_context5){for(;;)switch(_context5.prev=_context5.next){case 0:return _context5.next=2,fetch("/mock-data/purchase-flow-kdp-prod.json");case 2:return response=_context5.sent,_context5.next=5,response.json();case 5:return _context5.abrupt("return",_context5.sent);case 6:case"end":return _context5.stop()}}),_callee5)}))),args},key)}}},AdditionalTicketStepProducts=group_admission_stories_objectSpread(group_admission_stories_objectSpread({},Primary),{},{args:group_admission_stories_objectSpread(group_admission_stories_objectSpread({},Primary.args),{},{additionalProductsAdult:select_ticket_products.H1,additionalProductsChild:select_ticket_products.H1,additionalProductsSenior:select_ticket_products.H1,additionalProductsInfant:select_ticket_products.H1})}),DAYS_TO_HAVE_TWO_DAY_TICKETS=["28","29"],DAY_TO_HAVE_TWO_DAY_TICKETS=DAYS_TO_HAVE_TWO_DAY_TICKETS[0],TwoDayTickets={play:(_play=group_admission_stories_asyncToGenerator(group_admission_stories_regeneratorRuntime().mark((function _callee6(_ref6){var canvasElement,canvas,dayForTwoDayTickets,variantForTwoDayTickets;return group_admission_stories_regeneratorRuntime().wrap((function _callee6$(_context6){for(;;)switch(_context6.prev=_context6.next){case 0:return canvasElement=_ref6.canvasElement,canvas=(0,testing_library_dist.uh)(canvasElement),_context6.next=4,new Promise((function(resolve){return setTimeout(resolve,1e3)}));case 4:return _context6.next=6,clickElementWithTestId(canvas,"increase-button-Vuxen");case 6:return _context6.next=8,clickElementWithTestId(canvas,"group-size-next-button");case 8:return dayForTwoDayTickets=canvas.getByText(DAY_TO_HAVE_TWO_DAY_TICKETS),_context6.next=11,testing_library_dist.mV.click(dayForTwoDayTickets);case 11:return variantForTwoDayTickets=canvas.getByText("Två dagar??? (Vad? 12:00 - 19:00)"),_context6.next=14,(0,jest_dist.l)(variantForTwoDayTickets).toBeInTheDocument();case 14:return _context6.next=16,testing_library_dist.mV.click(variantForTwoDayTickets);case 16:(0,jest_dist.l)(canvas.getByText(DAYS_TO_HAVE_TWO_DAY_TICKETS[0],{selector:"td[data-selected=true] *"})).toBeInTheDocument(),(0,jest_dist.l)(canvas.getByText(DAYS_TO_HAVE_TWO_DAY_TICKETS[1],{selector:"td[data-selected=true] *"})).toBeInTheDocument();case 19:case"end":return _context6.stop()}}),_callee6)}))),function play(_x4){return _play.apply(this,arguments)}),args:group_admission_stories_objectSpread(group_admission_stories_objectSpread({},Primary.args),{},{stepConfigOverride:{selectTicketInsteadOfVariant:!1}}),render:function render(args){return(0,jsx_runtime.jsx)(GroupAdmissionStory,{getPurchaseFlow:group_admission_stories_asyncToGenerator(group_admission_stories_regeneratorRuntime().mark((function _callee7(){var response;return group_admission_stories_regeneratorRuntime().wrap((function _callee7$(_context7){for(;;)switch(_context7.prev=_context7.next){case 0:return _context7.next=2,fetch("/mock-data/purchase-flow-glt-prod.json");case 2:return response=_context7.sent,_context7.next=5,response.json();case 5:return _context7.abrupt("return",_context7.sent);case 6:case"end":return _context7.stop()}}),_callee7)}))),args},"TwoDays")}},DAY_TO_BE_SOLD_OUT="2025-04-30".substring(8,10),ShowSoldOutEventDateContent={play:(_play2=group_admission_stories_asyncToGenerator(group_admission_stories_regeneratorRuntime().mark((function _callee8(_ref8){var _buttonForSoldOutDate,canvasElement,canvas,i,buttonForSoldOutDate;return group_admission_stories_regeneratorRuntime().wrap((function _callee8$(_context8){for(;;)switch(_context8.prev=_context8.next){case 0:return canvasElement=_ref8.canvasElement,canvas=(0,testing_library_dist.uh)(canvasElement),_context8.next=4,new Promise((function(resolve){return setTimeout(resolve,1e3)}));case 4:i=0;case 5:if(!(i<4)){_context8.next=11;break}return _context8.next=8,clickElementWithTestId(canvas,"increase-button-Vuxen");case 8:i++,_context8.next=5;break;case 11:return _context8.next=13,clickElementWithTestId(canvas,"group-size-next-button");case 13:return buttonForSoldOutDate=canvas.getByText(DAY_TO_BE_SOLD_OUT),(0,jest_dist.l)(null===(_buttonForSoldOutDate=buttonForSoldOutDate.parentElement)||void 0===_buttonForSoldOutDate?void 0:_buttonForSoldOutDate.className).not.toEqual(jest_dist.l.stringMatching(/unavailable/)),_context8.next=17,testing_library_dist.mV.click(buttonForSoldOutDate);case 17:return _context8.next=19,(0,jest_dist.l)(canvas.getByText("Slutsålt? Lugn!")).toBeInTheDocument();case 19:return _context8.next=21,(0,jest_dist.l)(canvas.getByText("Köp Grönan Live-passet")).toBeInTheDocument();case 21:case"end":return _context8.stop()}}),_callee8)}))),function play(_x5){return _play2.apply(this,arguments)}),args:{mockedDate:new Date("2025-03-12 17:00:55"),groupAdmission:"GLT 2025",soldOutEventDateContent:{raw:JSON.stringify({data:{},content:[{data:{},content:[{data:{},marks:[],value:"Slutsålt? Lugn!",nodeType:"text"}],nodeType:"heading-3"},{data:{target:{sys:{id:"52nUmTBbx7o9IqJtX30U4d",type:"Link",linkType:"Entry"}}},content:[],nodeType:"embedded-entry-block"},{data:{},content:[{data:{},marks:[],value:"",nodeType:"text"}],nodeType:"paragraph"}],nodeType:"document"}),references:[{__typename:"ContentfulLink",contentful_id:"52nUmTBbx7o9IqJtX30U4d",id:"a6c4d6d0-18ea-51d9-9c28-b02ee19fb36e",title:"Köp Grönan Live-passet",smallDeviceTitle:"Köp Grönan Live-passet",internalLink:null,externalUrl:"https://gronalund.com/biljetter/grona-kortet-flow",openInNewTab:null,image:null,asset:null,linkIcon:null,scrollToBlockTitle:null,scrollToBlock:null}]},purchaseFlowId:123,showConcertsInCalendar:!0,hideParkOpeningTimes:!1},render:function render(args){return(0,jsx_runtime.jsx)(GroupAdmissionStory,{getPurchaseFlow:group_admission_stories_asyncToGenerator(group_admission_stories_regeneratorRuntime().mark((function _callee9(){var response,purchaseFlow;return group_admission_stories_regeneratorRuntime().wrap((function _callee9$(_context9){for(;;)switch(_context9.prev=_context9.next){case 0:return _context9.next=2,fetch("/mock-data/purchase-flow-glt-prod.json");case 2:return response=_context9.sent,_context9.next=5,response.json();case 5:return purchaseFlow=_context9.sent,_context9.abrupt("return",group_admission_stories_objectSpread(group_admission_stories_objectSpread({},purchaseFlow),{},{calendar:purchaseFlow.calendar.map((function(calendarDateResponse){return calendarDateResponse.date!=="".concat("2025-04-30","T00:00:00")?calendarDateResponse:group_admission_stories_objectSpread(group_admission_stories_objectSpread({},calendarDateResponse),{},{products:calendarDateResponse.products.map((function(product){return"Ticket-to-ride Dag 10-64 P2"!==product.productName?product:group_admission_stories_objectSpread(group_admission_stories_objectSpread({},product),{},{dateSlot:group_admission_stories_objectSpread(group_admission_stories_objectSpread({},product.dateSlot),{},{quantity:3})})}))})}))}));case 7:case"end":return _context9.stop()}}),_callee9)}))),showsForPurchaseFlow:[{contentful_id:"contentful-1",id:"event-1",node_locale:"sv",internalTitle:"Konsert 1",title:"Konsert 1",showInPurchaseFlow:!0}],eventsForShowIds:[{id:"event-1",title:"Konsert 1",location:"Stora scen",pageLink:{slug:"/konsert-1"},product:{productPageLink:{slug:"/konsert-1"},contentful_id:"some-contentful-id"},imageInList:{file:{url:"https://images.ctfassets.net/ds6dz7ilx8up/1COUx8h7qwxEazvqH7eci1/da4f7c68a377a52c753911eed0cfce27/samiroviktor-mobile.jpg"}},events:[{title:"Konsert 1",startDateAndTime:new Date("".concat("2025-04-30","T18:00+02:00")),endDateAndTime:new Date("".concat("2025-04-30","T20:00+02:00")),cancelled:!1,cancelledText:"Inställt",id:"event-1",description:"Konsert 1",showId:"event-1"}],contentful_id:"event-1",node_locale:"sv",internalTitle:"Konsert 1"}],args},"ShowSoldOutEventDateContent")}},DAY_TO_SHOW_EVENT_TEXT_BLOCK="2025-04-29".substring(8,10),ShowEventTextBlock={play:(_play3=group_admission_stories_asyncToGenerator(group_admission_stories_regeneratorRuntime().mark((function _callee10(_ref10){var canvasElement,canvas,buttonForSoldOutDate;return group_admission_stories_regeneratorRuntime().wrap((function _callee10$(_context10){for(;;)switch(_context10.prev=_context10.next){case 0:return canvasElement=_ref10.canvasElement,canvas=(0,testing_library_dist.uh)(canvasElement),_context10.next=4,new Promise((function(resolve){return setTimeout(resolve,1e3)}));case 4:return _context10.next=6,clickElementWithTestId(canvas,"increase-button-Vuxen");case 6:return _context10.next=8,clickElementWithTestId(canvas,"group-size-next-button");case 8:return buttonForSoldOutDate=canvas.getByText(DAY_TO_SHOW_EVENT_TEXT_BLOCK),_context10.next=11,testing_library_dist.mV.click(buttonForSoldOutDate);case 11:return _context10.next=13,(0,jest_dist.l)(canvas.getByText("Bonustimmen!")).toBeInTheDocument();case 13:return _context10.next=15,(0,jest_dist.l)(canvas.getByText("Läs mer om bonustimmen här!")).toBeInTheDocument();case 15:case"end":return _context10.stop()}}),_callee10)}))),function play(_x6){return _play3.apply(this,arguments)}),args:{mockedDate:new Date("2025-03-12 17:00:55"),showScheduledTextBlocksInCalendar:!0},render:function render(args){return(0,jsx_runtime.jsx)(GroupAdmissionStory,{getPurchaseFlow:group_admission_stories_asyncToGenerator(group_admission_stories_regeneratorRuntime().mark((function _callee11(){var response;return group_admission_stories_regeneratorRuntime().wrap((function _callee11$(_context11){for(;;)switch(_context11.prev=_context11.next){case 0:return _context11.next=2,fetch("/mock-data/purchase-flow-glt-prod.json");case 2:return response=_context11.sent,_context11.next=5,response.json();case 5:return _context11.abrupt("return",_context11.sent);case 6:case"end":return _context11.stop()}}),_callee11)}))),textBlocksForPurchaseFlow:[{event:{title:"Bonustimmen",startDateAndTime:"".concat("2025-04-29","T09:00+02:00"),endDateAndTime:"".concat("2025-04-29","T10:00+02:00"),startDateAndTimeWithTimeZone:"".concat("2025-04-29","T09:00+02:00"),endDateAndTimeWithTimeZone:"".concat("2025-04-29","T10:00+02:00"),cancelled:!1,cancelledText:"Inställt",id:"event-1",description:"Bonustimmen",externalEntry:{externalEntryId:"52nUmTBbx7o9IqJtX30U4d"}},textBlock:{contentful_id:"fkowpfkowp",id:"abc123",node_locale:"sv",internalTitle:"Bonustimmen",richText:{raw:JSON.stringify({data:{},content:[{data:{},content:[{data:{},marks:[],value:"Bonustimmen!",nodeType:"text"}],nodeType:"heading-3"},{data:{},content:[{data:{},marks:[],value:"Här är massor av bra text om bonustimmen!",nodeType:"text"}],nodeType:"paragraph"},{data:{target:{sys:{id:"52nUmTBbx7o9IqJtX30U4d",type:"Link",linkType:"Entry"}}},content:[],nodeType:"embedded-entry-block"}],nodeType:"document"}),references:[{__typename:"ContentfulLink",contentful_id:"52nUmTBbx7o9IqJtX30U4d",title:"Läs mer om bonustimmen här!",externalUrl:"https://gronalund.com/biljetter/grona-kortet-flow"}]},componentTheme:"bonus-hour"}}],args},"ShowEventTextBlock")}},UpsellTheme={play:(_play4=group_admission_stories_asyncToGenerator(group_admission_stories_regeneratorRuntime().mark((function _callee12(_ref12){var canvasElement,canvas;return group_admission_stories_regeneratorRuntime().wrap((function _callee12$(_context12){for(;;)switch(_context12.prev=_context12.next){case 0:return canvasElement=_ref12.canvasElement,canvas=(0,testing_library_dist.uh)(canvasElement),_context12.next=4,new Promise((function(resolve){return setTimeout(resolve,1e3)}));case 4:return _context12.next=6,clickElementWithTestId(canvas,"increase-button-Vuxen");case 6:return _context12.next=8,clickElementWithTestId(canvas,"group-size-next-button");case 8:return _context12.next=10,testing_library_dist.mV.click(canvas.getByText("29"));case 10:return _context12.next=12,clickElementWithTestId(canvas,"Day");case 12:return _context12.next=14,clickElementWithTestId(canvas,"calendar-next-button");case 14:return _context12.next=16,clickElementWithTestId(canvas,"skip-jetpass-button");case 16:return _context12.next=18,(0,jest_dist.l)(canvas.getByText("Åkbandshäftet")).toBeInTheDocument();case 18:return _context12.next=20,(0,jest_dist.l)(canvas.getByTestId("upsell-".concat(1337))).toHaveClass("gold");case 20:case"end":return _context12.stop()}}),_callee12)}))),function play(_x7){return _play4.apply(this,arguments)}),args:{mockedDate:new Date("2025-03-12 17:00:55"),groupAdmission:"GLT 2025",purchaseFlowId:123,showConcertsInCalendar:!0,hideParkOpeningTimes:!1},render:function render(args){return(0,jsx_runtime.jsx)(GroupAdmissionStory,{getPurchaseFlow:group_admission_stories_asyncToGenerator(group_admission_stories_regeneratorRuntime().mark((function _callee13(){var response,purchaseFlow;return group_admission_stories_regeneratorRuntime().wrap((function _callee13$(_context13){for(;;)switch(_context13.prev=_context13.next){case 0:return _context13.next=2,fetch("/mock-data/purchase-flow-glt-prod.json");case 2:return response=_context13.sent,_context13.next=5,response.json();case 5:return purchaseFlow=_context13.sent,_context13.abrupt("return",group_admission_stories_objectSpread(group_admission_stories_objectSpread({},purchaseFlow),{},{upsellProducts:[{id:1337,price:100,productMetadata:{numberOfJetPassIncluded:2,priceLevel:2,timeLimits:{firstEntryTime:"123",lastEntryTime:"123",firstRideTime:"123",lastRideTime:"123",rideMinutesFromEntry:123,lastActivityRelativeTime:123},autoSelectTimeslot:!1,entryVariant:"",visitorCategory:""}}]}));case 7:case"end":return _context13.stop()}}),_callee13)}))),getProductByGlkId:function getProductByGlkId(glkId){if(1337===glkId)return{productName:"Åkbandshäftet",shortDescription:"Åkbandshäftet är najs!",productImage:{file:{url:"https://images.ctfassets.net/ds6dz7ilx8up/4Z5Jv9iMnAzIm1mUqvYy2J/f4f6dbd00292d97655cf02f41b8bf93c/Femkampshaftet_1600x900.png"}},componentTheme:"gold"}},args},"ShowSoldOutEventDateContent")}},CountdownTimer={play:(_play5=group_admission_stories_asyncToGenerator(group_admission_stories_regeneratorRuntime().mark((function _callee14(_ref14){var canvasElement,canvas;return group_admission_stories_regeneratorRuntime().wrap((function _callee14$(_context14){for(;;)switch(_context14.prev=_context14.next){case 0:return canvasElement=_ref14.canvasElement,canvas=(0,testing_library_dist.uh)(canvasElement),_context14.next=4,new Promise((function(resolve){return setTimeout(resolve,1e3)}));case 4:return _context14.next=6,(0,jest_dist.l)(canvas.getByText("Tid kvar 10 minuter 0 sekunder")).toBeInTheDocument();case 6:case"end":return _context14.stop()}}),_callee14)}))),function play(_x8){return _play5.apply(this,arguments)}),args:{mockedDate:new Date("2025-03-12 17:00:55"),groupAdmission:"GLT 2025",purchaseFlowId:123,waitRoomSecondsLeft:600},render:function render(args){var key=JSON.stringify(args);return(0,jsx_runtime.jsx)(GroupAdmissionStory,{getPurchaseFlow:group_admission_stories_asyncToGenerator(group_admission_stories_regeneratorRuntime().mark((function _callee15(){var response;return group_admission_stories_regeneratorRuntime().wrap((function _callee15$(_context15){for(;;)switch(_context15.prev=_context15.next){case 0:return _context15.next=2,fetch("/mock-data/purchase-flow-glt-prod.json");case 2:return response=_context15.sent,_context15.next=5,response.json();case 5:return _context15.abrupt("return",_context15.sent);case 6:case"end":return _context15.stop()}}),_callee15)}))),args},key)}},GroupAdmissionStory=function GroupAdmissionStory(_ref16){var key=_ref16.key,args=_ref16.args,getPurchaseFlow=_ref16.getPurchaseFlow,showsForPurchaseFlow=_ref16.showsForPurchaseFlow,eventsForShowIds=_ref16.eventsForShowIds,getProductByGlkId=_ref16.getProductByGlkId,textBlocksForPurchaseFlow=_ref16.textBlocksForPurchaseFlow;return(0,jsx_runtime.jsx)(QueryClientProvider.aH,{client:group_admission_stories_queryClient,children:(0,jsx_runtime.jsx)(current_content_page_context.M1,{data:{currentLocale:args.currentLocale,slugs:args.slugs},children:(0,jsx_runtime.jsx)(content_container.O,{children:(0,jsx_runtime.jsx)(group_admission,group_admission_stories_objectSpread({purchaseFlowService:{getPurchaseFlows:function getPurchaseFlows(){return Promise.resolve([])},getPurchaseFlow},showStore:{populateStore:function populateStore(){return null},getShowByShowId:function getShowByShowId(){return null},getShowsForPurchaseFlow:function getShowsForPurchaseFlow(){return null!=showsForPurchaseFlow?showsForPurchaseFlow:[]}},scheduleStore:{getEventsForShowId:function getEventsForShowId(){return Promise.resolve([])},getEventsForDate:function getEventsForDate(){return Promise.resolve([])},getEventsForDates:function getEventsForDates(){return Promise.resolve([])},getEventsFromDate:function getEventsFromDate(){return Promise.resolve([])},getEventsByShowForDate:function getEventsByShowForDate(){return Promise.resolve([])},getScheduleForShow:function getScheduleForShow(){return Promise.resolve({events:[]})},getEventsForShowForDate:function getEventsForShowForDate(){return Promise.resolve([])},getSchedulesForTypes:function getSchedulesForTypes(){return Promise.resolve([])},getTextBlocksForPurchaseFlow:function getTextBlocksForPurchaseFlow(){return Promise.resolve(null!=textBlocksForPurchaseFlow?textBlocksForPurchaseFlow:[])},getEventsForShowIds:function getEventsForShowIds(){return Promise.resolve(null!=eventsForShowIds?eventsForShowIds:[])}},productStore:{populateStore:function populateStore(){return Promise.resolve(!0)},getProductByJetshopId:function getProductByJetshopId(){return null},getProductsForLocale:function getProductsForLocale(){return[]},getProductByGlkId:null!=getProductByGlkId?getProductByGlkId:function(){return null}}},args),key)})})})};GroupAdmissionStory.displayName="GroupAdmissionStory";var clickElementWithTestId=function(){var _ref17=group_admission_stories_asyncToGenerator(group_admission_stories_regeneratorRuntime().mark((function _callee16(canvas,testId){return group_admission_stories_regeneratorRuntime().wrap((function _callee16$(_context16){for(;;)switch(_context16.prev=_context16.next){case 0:return _context16.next=2,testing_library_dist.mV.click(canvas.getByTestId(testId));case 2:case"end":return _context16.stop()}}),_callee16)})));return function clickElementWithTestId(_x9,_x10){return _ref17.apply(this,arguments)}}(),__namedExportsOrder=["Primary","AdditionalTicketStepProducts","TwoDayTickets","ShowSoldOutEventDateContent","ShowEventTextBlock","UpsellTheme","CountdownTimer"];Primary.parameters={...Primary.parameters,docs:{...Primary.parameters?.docs,source:{originalSource:'{\n  argTypes: {\n    customFile: {\n      name: "Custom API-response JSON-file",\n      control: {\n        type: "file",\n        accept: "json"\n      }\n    },\n    groupAdmission: {\n      name: "Group Admission",\n      control: "radio",\n      options: options,\n      defaultValue: "GLT 2025"\n    },\n    purchaseFlowId: {\n      table: {\n        disable: true\n      }\n    }\n  },\n  args: {\n    currentLocale: "sv",\n    slugs: {\n      sv: "/nagon-sida",\n      en: "/some-page"\n    },\n    mockedDate: new Date("2025-03-12 17:00:55"),\n    groupAdmission: "GLT 2025",\n    description: {\n      raw: JSON.stringify({\n        nodeType: "document",\n        data: {},\n        content: [{\n          nodeType: "paragraph",\n          data: {},\n          content: [{\n            nodeType: "text",\n            value: "✅ Entré hela dagen 🎟️\\r\\n✅ Åkband: Fria åk i alla våra roliga attraktioner 🎢\\nVälj: förmiddag, eftermiddag eller heldag\\r\\n✅ 2 st Jetpass - ta expresskön till dina favoritattraktioner\\n🎤 Konsert (om sådan infaller vid Lilla eller Stora Scen på besöksdagen)\\n\\n",\n            marks: [],\n            data: {}\n          }, {\n            nodeType: "text",\n            value: "Pssst! I år är heldagen tillbaka. Det innebär att du som köper Ticket to Ride får stanna i parken från öppning till stängning men väljer när ni ska åka.",\n            marks: [{\n              type: "italic"\n            }],\n            data: {}\n          }]\n        }, {\n          nodeType: "paragraph",\n          data: {},\n          content: [{\n            nodeType: "text",\n            value: "",\n            marks: [],\n            data: {}\n          }]\n        }, {\n          nodeType: "paragraph",\n          data: {},\n          content: [{\n            nodeType: "text",\n            value: "\\r",\n            marks: [],\n            data: {}\n          }]\n        }]\n      })\n    },\n    purchaseFlowId: PURCHASE_FLOW_ID,\n    showConcertsInCalendar: true,\n    hideParkOpeningTimes: false,\n    stepConfigOverride: {\n      selectTicketInsteadOfVariant: true\n    },\n    priceLevelsWithMarking: [2, 4]\n  },\n  render: args => {\n    const key = JSON.stringify(args); // Generate a unique key based on args. This will force a re-render when args change.\n\n    if (args.customFile) {\n      return <GroupAdmissionStory key={key} getPurchaseFlow={async () => {\n        const response = await fetch(args.customFile[0]);\n        return await response.json();\n      }} args={args} />;\n    }\n\n    //No file uploaded, use mock data\n    switch (args.groupAdmission) {\n      case "GLT 2025":\n        return <GroupAdmissionStory key={key} getPurchaseFlow={async () => {\n          const response = await fetch("/mock-data/purchase-flow-glt-prod.json");\n          return await response.json();\n        }} args={args} />;\n      case "KDP 2025":\n        return <GroupAdmissionStory key={key} getPurchaseFlow={async () => {\n          const response = await fetch("/mock-data/purchase-flow-kdp-prod.json");\n          return await response.json();\n        }} args={args} />;\n    }\n  }\n}',...Primary.parameters?.docs?.source}}},AdditionalTicketStepProducts.parameters={...AdditionalTicketStepProducts.parameters,docs:{...AdditionalTicketStepProducts.parameters?.docs,source:{originalSource:"{\n  ...Primary,\n  args: {\n    ...Primary.args,\n    additionalProductsAdult: dummyAdditionalProducts,\n    additionalProductsChild: dummyAdditionalProducts,\n    additionalProductsSenior: dummyAdditionalProducts,\n    additionalProductsInfant: dummyAdditionalProducts\n  }\n}",...AdditionalTicketStepProducts.parameters?.docs?.source}}},TwoDayTickets.parameters={...TwoDayTickets.parameters,docs:{...TwoDayTickets.parameters?.docs,source:{originalSource:'{\n  play: async ({\n    canvasElement\n  }) => {\n    const canvas = within(canvasElement);\n\n    //Wait for 1 seconds to make sure the purchase flow is loaded\n    await new Promise(resolve => setTimeout(resolve, 1000));\n    await clickElementWithTestId(canvas, "increase-button-Vuxen");\n    await clickElementWithTestId(canvas, "group-size-next-button");\n    const dayForTwoDayTickets = canvas.getByText(DAY_TO_HAVE_TWO_DAY_TICKETS);\n\n    //Expect to see the two day ticket variant when the date has been clicked on\n    await userEvent.click(dayForTwoDayTickets);\n    const variantForTwoDayTickets = canvas.getByText(TWO_DAY_TICKET_TEXT);\n    await expect(variantForTwoDayTickets).toBeInTheDocument();\n\n    //Expect to see the chosen dates with the marker in the calendar when the two day ticket variant has been clicked on\n    await userEvent.click(variantForTwoDayTickets);\n    const selector = "td[data-selected=true] *"; // This makes sure we only get elements inside selected dates\n    expect(canvas.getByText(DAYS_TO_HAVE_TWO_DAY_TICKETS[0], {\n      selector\n    })).toBeInTheDocument();\n    expect(canvas.getByText(DAYS_TO_HAVE_TWO_DAY_TICKETS[1], {\n      selector\n    })).toBeInTheDocument();\n  },\n  args: {\n    ...Primary.args,\n    stepConfigOverride: {\n      selectTicketInsteadOfVariant: false\n    }\n  },\n  render: args => {\n    return <GroupAdmissionStory key="TwoDays" getPurchaseFlow={async () => {\n      const response = await fetch("/mock-data/purchase-flow-glt-prod.json");\n      return await response.json();\n    }} args={args} />;\n  }\n}',...TwoDayTickets.parameters?.docs?.source}}},ShowSoldOutEventDateContent.parameters={...ShowSoldOutEventDateContent.parameters,docs:{...ShowSoldOutEventDateContent.parameters?.docs,source:{originalSource:'{\n  play: async ({\n    canvasElement\n  }) => {\n    const canvas = within(canvasElement);\n\n    //Wait for 1 seconds to make sure the purchase flow is loaded\n    await new Promise(resolve => setTimeout(resolve, 1000));\n\n    //Try to buy more than available\n    for (let i = 0; i < NEW_QUANTITY_FOR_DATE + 1; i++) {\n      await clickElementWithTestId(canvas, "increase-button-Vuxen");\n    }\n    await clickElementWithTestId(canvas, "group-size-next-button");\n    const buttonForSoldOutDate = canvas.getByText(DAY_TO_BE_SOLD_OUT);\n\n    //A new requirement is that the day should *NOT* be disabled when sold out (if there is an event)\n    expect(buttonForSoldOutDate.parentElement?.className).not.toEqual(expect.stringMatching(/unavailable/));\n\n    //Expect to see the sold out content when the date has been clicked on\n    await userEvent.click(buttonForSoldOutDate);\n    await expect(canvas.getByText(SOLD_OUT_TEXT)).toBeInTheDocument();\n    await expect(canvas.getByText(SOLD_OUT_TEXT_BUTTON)).toBeInTheDocument();\n  },\n  args: {\n    mockedDate: new Date("2025-03-12 17:00:55"),\n    groupAdmission: "GLT 2025",\n    soldOutEventDateContent: {\n      //This is the content that will be displayed when the user tries to add more tickets than there are available\n      raw: JSON.stringify({\n        data: {},\n        content: [{\n          data: {},\n          content: [{\n            data: {},\n            marks: [],\n            value: SOLD_OUT_TEXT,\n            nodeType: "text"\n          }],\n          nodeType: "heading-3"\n        }, {\n          data: {\n            target: {\n              sys: {\n                id: "52nUmTBbx7o9IqJtX30U4d",\n                type: "Link",\n                linkType: "Entry"\n              }\n            }\n          },\n          content: [],\n          nodeType: "embedded-entry-block"\n        }, {\n          data: {},\n          content: [{\n            data: {},\n            marks: [],\n            value: "",\n            nodeType: "text"\n          }],\n          nodeType: "paragraph"\n        }],\n        nodeType: "document"\n      }),\n      references: [{\n        __typename: "ContentfulLink",\n        contentful_id: "52nUmTBbx7o9IqJtX30U4d",\n        id: "a6c4d6d0-18ea-51d9-9c28-b02ee19fb36e",\n        title: SOLD_OUT_TEXT_BUTTON,\n        smallDeviceTitle: SOLD_OUT_TEXT_BUTTON,\n        internalLink: null,\n        externalUrl: "https://gronalund.com/biljetter/grona-kortet-flow",\n        openInNewTab: null,\n        image: null,\n        asset: null,\n        linkIcon: null,\n        scrollToBlockTitle: null,\n        scrollToBlock: null\n      }]\n    },\n    purchaseFlowId: PURCHASE_FLOW_ID,\n    showConcertsInCalendar: true,\n    hideParkOpeningTimes: false\n  },\n  render: args => {\n    return <GroupAdmissionStory key="ShowSoldOutEventDateContent" getPurchaseFlow={async () => {\n      const response = await fetch("/mock-data/purchase-flow-glt-prod.json");\n      const purchaseFlow = (await response.json() as PurchaseFlowResponse);\n      //Modify to reduce the date slot quantity to 3 for the 29th of April 2025 where the product is Adult P2\n      return ({\n        ...purchaseFlow,\n        calendar: purchaseFlow.calendar.map(calendarDateResponse => {\n          if (calendarDateResponse.date !== `${DATE_TO_BE_SOLD_OUT}T00:00:00`) {\n            return calendarDateResponse;\n          }\n          return {\n            ...calendarDateResponse,\n            products: calendarDateResponse.products.map(product => {\n              if (product.productName !== "Ticket-to-ride Dag 10-64 P2") {\n                return product;\n              }\n              return {\n                ...product,\n                dateSlot: {\n                  ...product.dateSlot,\n                  quantity: NEW_QUANTITY_FOR_DATE\n                }\n              };\n            })\n          };\n        })\n      } satisfies PurchaseFlowResponse);\n    }}\n    //We need to mock the showsForPurchaseFlow and eventsForShowIds to make sure we have an event on the 29th of April 2025\n    showsForPurchaseFlow={[{\n      contentful_id: "contentful-1",\n      id: "event-1",\n      node_locale: "sv",\n      internalTitle: "Konsert 1",\n      title: "Konsert 1",\n      showInPurchaseFlow: true\n    }]} eventsForShowIds={[{\n      id: "event-1",\n      title: "Konsert 1",\n      location: "Stora scen",\n      pageLink: {\n        slug: "/konsert-1"\n      },\n      product: {\n        productPageLink: {\n          slug: "/konsert-1"\n        },\n        contentful_id: "some-contentful-id"\n      },\n      imageInList: {\n        file: {\n          url: "https://images.ctfassets.net/ds6dz7ilx8up/1COUx8h7qwxEazvqH7eci1/da4f7c68a377a52c753911eed0cfce27/samiroviktor-mobile.jpg"\n        }\n      },\n      events: [{\n        title: "Konsert 1",\n        startDateAndTime: new Date(`${DATE_TO_BE_SOLD_OUT}T18:00+02:00`),\n        endDateAndTime: new Date(`${DATE_TO_BE_SOLD_OUT}T20:00+02:00`),\n        cancelled: false,\n        cancelledText: "Inställt",\n        id: "event-1",\n        description: "Konsert 1",\n        showId: "event-1"\n      }],\n      contentful_id: "event-1",\n      node_locale: "sv",\n      internalTitle: "Konsert 1"\n    }]} args={args} />;\n  }\n}',...ShowSoldOutEventDateContent.parameters?.docs?.source}}},ShowEventTextBlock.parameters={...ShowEventTextBlock.parameters,docs:{...ShowEventTextBlock.parameters?.docs,source:{originalSource:'{\n  play: async ({\n    canvasElement\n  }) => {\n    const canvas = within(canvasElement);\n\n    //Wait for 1 seconds to make sure the purchase flow is loaded\n    await new Promise(resolve => setTimeout(resolve, 1000));\n\n    //Buy one ticket\n    await clickElementWithTestId(canvas, "increase-button-Vuxen");\n    await clickElementWithTestId(canvas, "group-size-next-button");\n    const buttonForSoldOutDate = canvas.getByText(DAY_TO_SHOW_EVENT_TEXT_BLOCK);\n\n    //Expect to see the text block content when the date has been clicked on\n    await userEvent.click(buttonForSoldOutDate);\n    await expect(canvas.getByText(EVENT_TEXT_BLOCK_TEXT)).toBeInTheDocument();\n    await expect(canvas.getByText(EVENT_TEXT_BLOCK_BUTTON_TEXT)).toBeInTheDocument();\n  },\n  args: {\n    mockedDate: new Date("2025-03-12 17:00:55"),\n    showScheduledTextBlocksInCalendar: true\n  },\n  render: args => {\n    return <GroupAdmissionStory key="ShowEventTextBlock" getPurchaseFlow={async () => {\n      const response = await fetch("/mock-data/purchase-flow-glt-prod.json");\n      return (await response.json() as PurchaseFlowResponse);\n    }} textBlocksForPurchaseFlow={[{\n      event: {\n        title: "Bonustimmen",\n        startDateAndTime: `${DATE_TO_SHOW_EVENT_TEXT_BLOCK}T09:00+02:00`,\n        endDateAndTime: `${DATE_TO_SHOW_EVENT_TEXT_BLOCK}T10:00+02:00`,\n        startDateAndTimeWithTimeZone: `${DATE_TO_SHOW_EVENT_TEXT_BLOCK}T09:00+02:00`,\n        endDateAndTimeWithTimeZone: `${DATE_TO_SHOW_EVENT_TEXT_BLOCK}T10:00+02:00`,\n        cancelled: false,\n        cancelledText: "Inställt",\n        id: "event-1",\n        description: "Bonustimmen",\n        externalEntry: {\n          externalEntryId: "52nUmTBbx7o9IqJtX30U4d"\n        }\n      },\n      textBlock: {\n        contentful_id: "fkowpfkowp",\n        id: "abc123",\n        node_locale: "sv",\n        internalTitle: "Bonustimmen",\n        richText: {\n          raw: JSON.stringify({\n            data: {},\n            content: [{\n              data: {},\n              content: [{\n                data: {},\n                marks: [],\n                value: EVENT_TEXT_BLOCK_TEXT,\n                nodeType: "text"\n              }],\n              nodeType: "heading-3"\n            }, {\n              data: {},\n              content: [{\n                data: {},\n                marks: [],\n                value: "Här är massor av bra text om bonustimmen!",\n                nodeType: "text"\n              }],\n              nodeType: "paragraph"\n            }, {\n              data: {\n                target: {\n                  sys: {\n                    id: "52nUmTBbx7o9IqJtX30U4d",\n                    type: "Link",\n                    linkType: "Entry"\n                  }\n                }\n              },\n              content: [],\n              nodeType: "embedded-entry-block"\n            }],\n            nodeType: "document"\n          }),\n          references: [{\n            __typename: "ContentfulLink",\n            contentful_id: "52nUmTBbx7o9IqJtX30U4d",\n            title: EVENT_TEXT_BLOCK_BUTTON_TEXT,\n            externalUrl: "https://gronalund.com/biljetter/grona-kortet-flow"\n          }]\n        },\n        componentTheme: "bonus-hour"\n      }\n    }]} args={args} />;\n  }\n}',...ShowEventTextBlock.parameters?.docs?.source}}},UpsellTheme.parameters={...UpsellTheme.parameters,docs:{...UpsellTheme.parameters?.docs,source:{originalSource:'{\n  play: async ({\n    canvasElement\n  }) => {\n    const canvas = within(canvasElement);\n\n    //Wait for 1 seconds to make sure the purchase flow is loaded\n    await new Promise(resolve => setTimeout(resolve, 1000));\n    await clickElementWithTestId(canvas, "increase-button-Vuxen");\n    await clickElementWithTestId(canvas, "group-size-next-button");\n    await userEvent.click(canvas.getByText("29"));\n    await clickElementWithTestId(canvas, "Day");\n    await clickElementWithTestId(canvas, "calendar-next-button");\n    await clickElementWithTestId(canvas, "skip-jetpass-button");\n\n    //Expect to see the upsell item\n    await expect(canvas.getByText(UPSELL_TITLE)).toBeInTheDocument();\n\n    //It should have a gold theme\n    await expect(canvas.getByTestId(`upsell-${UPSELL_ID}`)).toHaveClass(UPSELL_THEME);\n  },\n  args: {\n    mockedDate: new Date("2025-03-12 17:00:55"),\n    groupAdmission: "GLT 2025",\n    purchaseFlowId: PURCHASE_FLOW_ID,\n    showConcertsInCalendar: true,\n    hideParkOpeningTimes: false\n  },\n  render: args => {\n    return <GroupAdmissionStory key="ShowSoldOutEventDateContent" getPurchaseFlow={async () => {\n      const response = await fetch("/mock-data/purchase-flow-glt-prod.json");\n      const purchaseFlow = (await response.json() as PurchaseFlowResponse);\n      return ({\n        ...purchaseFlow,\n        //Add an upsell item\n        upsellProducts: [{\n          id: UPSELL_ID,\n          price: 100,\n          productMetadata: {\n            numberOfJetPassIncluded: 2,\n            priceLevel: 2,\n            timeLimits: {\n              firstEntryTime: "123",\n              lastEntryTime: "123",\n              firstRideTime: "123",\n              lastRideTime: "123",\n              rideMinutesFromEntry: 123,\n              lastActivityRelativeTime: 123\n            },\n            autoSelectTimeslot: false,\n            entryVariant: "",\n            visitorCategory: ""\n          }\n        }]\n      } satisfies PurchaseFlowResponse);\n    }}\n    //Mock that when we try to get the product from the product store, we return the upsell item with a theme\n    getProductByGlkId={glkId => {\n      if (glkId === UPSELL_ID) {\n        return {\n          productName: UPSELL_TITLE,\n          shortDescription: "Åkbandshäftet är najs!",\n          productImage: {\n            file: {\n              url: "https://images.ctfassets.net/ds6dz7ilx8up/4Z5Jv9iMnAzIm1mUqvYy2J/f4f6dbd00292d97655cf02f41b8bf93c/Femkampshaftet_1600x900.png"\n            }\n          },\n          componentTheme: UPSELL_THEME\n        };\n      }\n    }} args={args} />;\n  }\n}',...UpsellTheme.parameters?.docs?.source}}},CountdownTimer.parameters={...CountdownTimer.parameters,docs:{...CountdownTimer.parameters?.docs,source:{originalSource:'{\n  play: async ({\n    canvasElement\n  }) => {\n    const canvas = within(canvasElement);\n    //Wait for 1 seconds to make sure the purchase flow is loaded\n    await new Promise(resolve => setTimeout(resolve, 1000));\n    //Expect to see the countdown timer\n    await expect(canvas.getByText("Tid kvar 10 minuter 0 sekunder")).toBeInTheDocument();\n  },\n  args: {\n    mockedDate: new Date("2025-03-12 17:00:55"),\n    groupAdmission: "GLT 2025",\n    purchaseFlowId: PURCHASE_FLOW_ID,\n    waitRoomSecondsLeft: 600\n  },\n  render: args => {\n    const key = JSON.stringify(args);\n    return <GroupAdmissionStory key={key} getPurchaseFlow={async () => {\n      const response = await fetch("/mock-data/purchase-flow-glt-prod.json");\n      return await response.json();\n    }} args={args} />;\n  }\n}',...CountdownTimer.parameters?.docs?.source}}}}}]);