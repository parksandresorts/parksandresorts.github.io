/*! For license information please see components-hocs-page-lock-page-lock-stories.0c70ddfd.iframe.bundle.js.LICENSE.txt */
(self.webpackChunk_parksandresorts_core=self.webpackChunk_parksandresorts_core||[]).push([[7871],{"./node_modules/animated-scroll-to/dist/esm/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var __awaiter=function(thisArg,_arguments,P,generator){return new(P||(P=Promise))((function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function adopt(value){return value instanceof P?value:new P((function(resolve){resolve(value)}))}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())}))};function getElementOffset(el){let top=0,left=0,element=el;do{top+=element.offsetTop||0,left+=element.offsetLeft||0,element=element.offsetParent}while(element);return{top,left}}class ScrollDomElement{constructor(element){this.element=element}getHorizontalScroll(){return this.element.scrollLeft}getVerticalScroll(){return this.element.scrollTop}getMaxHorizontalScroll(){return this.element.scrollWidth-this.element.clientWidth}getMaxVerticalScroll(){return this.element.scrollHeight-this.element.clientHeight}getHorizontalElementScrollOffset(elementToScrollTo,elementToScroll){return getElementOffset(elementToScrollTo).left-getElementOffset(elementToScroll).left}getVerticalElementScrollOffset(elementToScrollTo,elementToScroll){return getElementOffset(elementToScrollTo).top-getElementOffset(elementToScroll).top}scrollTo(x,y){this.element.scrollLeft=x,this.element.scrollTop=y}}class ScrollWindow{constructor(){this.element=window}getHorizontalScroll(){return window.scrollX||document.documentElement.scrollLeft}getVerticalScroll(){return window.scrollY||document.documentElement.scrollTop}getMaxHorizontalScroll(){return Math.max(document.body.scrollWidth,document.documentElement.scrollWidth,document.body.offsetWidth,document.documentElement.offsetWidth,document.body.clientWidth,document.documentElement.clientWidth)-window.innerWidth}getMaxVerticalScroll(){return Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight,document.body.clientHeight,document.documentElement.clientHeight)-window.innerHeight}getHorizontalElementScrollOffset(elementToScrollTo){return(window.scrollX||document.documentElement.scrollLeft)+elementToScrollTo.getBoundingClientRect().left}getVerticalElementScrollOffset(elementToScrollTo){return(window.scrollY||document.documentElement.scrollTop)+elementToScrollTo.getBoundingClientRect().top}scrollTo(x,y){window.scrollTo(x,y)}}const activeAnimations={elements:[],cancelMethods:[],add:(element,cancelAnimation)=>{activeAnimations.elements.push(element),activeAnimations.cancelMethods.push(cancelAnimation)},remove:(element,shouldStop)=>{const index=activeAnimations.elements.indexOf(element);index>-1&&(shouldStop&&activeAnimations.cancelMethods[index](),activeAnimations.elements.splice(index,1),activeAnimations.cancelMethods.splice(index,1))}},WINDOW_EXISTS="undefined"!=typeof window,defaultOptions={cancelOnUserAction:!0,easing:t=>--t*t*t+1,elementToScroll:WINDOW_EXISTS?window:null,horizontalOffset:0,maxDuration:3e3,minDuration:250,speed:500,verticalOffset:0};const __WEBPACK_DEFAULT_EXPORT__=function animateScrollTo(numberOrCoordsOrElement,userOptions={}){return __awaiter(this,void 0,void 0,(function*(){if(!WINDOW_EXISTS)return new Promise((resolve=>{resolve(!1)}));if(!window.Promise)throw"Browser doesn't support Promises, and animated-scroll-to depends on it, please provide a polyfill.";let x,y,scrollToElement,options=Object.assign(Object.assign({},defaultOptions),userOptions);const isWindow=options.elementToScroll===window,isElement=!!options.elementToScroll.nodeName;if(!isWindow&&!isElement)throw"Element to scroll needs to be either window or DOM element.";const scrollBehaviorElement=isWindow?document.documentElement:options.elementToScroll;"smooth"===getComputedStyle(scrollBehaviorElement).getPropertyValue("scroll-behavior")&&console.warn(`${scrollBehaviorElement.tagName} has "scroll-behavior: smooth" which can mess up with animated-scroll-to's animations`);const elementToScroll=isWindow?new ScrollWindow:new ScrollDomElement(options.elementToScroll);if(numberOrCoordsOrElement instanceof Element){if(scrollToElement=numberOrCoordsOrElement,isElement&&(!options.elementToScroll.contains(scrollToElement)||options.elementToScroll.isSameNode(scrollToElement)))throw"options.elementToScroll has to be a parent of scrollToElement";x=elementToScroll.getHorizontalElementScrollOffset(scrollToElement,options.elementToScroll),y=elementToScroll.getVerticalElementScrollOffset(scrollToElement,options.elementToScroll)}else if("number"==typeof numberOrCoordsOrElement)x=elementToScroll.getHorizontalScroll(),y=numberOrCoordsOrElement;else{if(!Array.isArray(numberOrCoordsOrElement)||2!==numberOrCoordsOrElement.length)throw"Wrong function signature. Check documentation.\nAvailable method signatures are:\n  animateScrollTo(y:number, options)\n  animateScrollTo([x:number | null, y:number | null], options)\n  animateScrollTo(scrollToElement:Element, options)";x=null===numberOrCoordsOrElement[0]?elementToScroll.getHorizontalScroll():numberOrCoordsOrElement[0],y=null===numberOrCoordsOrElement[1]?elementToScroll.getVerticalScroll():numberOrCoordsOrElement[1]}x+=options.horizontalOffset,y+=options.verticalOffset;const maxHorizontalScroll=elementToScroll.getMaxHorizontalScroll(),initialHorizontalScroll=elementToScroll.getHorizontalScroll();x>maxHorizontalScroll&&(x=maxHorizontalScroll);const horizontalDistanceToScroll=x-initialHorizontalScroll,maxVerticalScroll=elementToScroll.getMaxVerticalScroll(),initialVerticalScroll=elementToScroll.getVerticalScroll();y>maxVerticalScroll&&(y=maxVerticalScroll);const verticalDistanceToScroll=y-initialVerticalScroll,horizontalDuration=Math.abs(Math.round(horizontalDistanceToScroll/1e3*options.speed)),verticalDuration=Math.abs(Math.round(verticalDistanceToScroll/1e3*options.speed));let duration=horizontalDuration>verticalDuration?horizontalDuration:verticalDuration;return duration<options.minDuration?duration=options.minDuration:duration>options.maxDuration&&(duration=options.maxDuration),new Promise(((resolve,reject)=>{let requestID;0===horizontalDistanceToScroll&&0===verticalDistanceToScroll&&resolve(!0),activeAnimations.remove(elementToScroll.element,!0);const cancelAnimation=()=>{removeListeners(),cancelAnimationFrame(requestID),resolve(!1)};activeAnimations.add(elementToScroll.element,cancelAnimation);const handler=options.cancelOnUserAction?cancelAnimation:e=>e.preventDefault(),eventOptions=options.cancelOnUserAction?{passive:!0}:{passive:!1},events=["wheel","touchstart","keydown","mousedown"],removeListeners=()=>{events.forEach((eventName=>{elementToScroll.element.removeEventListener(eventName,handler,eventOptions)}))};events.forEach((eventName=>{elementToScroll.element.addEventListener(eventName,handler,eventOptions)}));const startingTime=Date.now(),step=()=>{var timeDiff=Date.now()-startingTime,t=timeDiff/duration;const horizontalScrollPosition=Math.round(initialHorizontalScroll+horizontalDistanceToScroll*options.easing(t)),verticalScrollPosition=Math.round(initialVerticalScroll+verticalDistanceToScroll*options.easing(t));timeDiff<duration&&(horizontalScrollPosition!==x||verticalScrollPosition!==y)?(elementToScroll.scrollTo(horizontalScrollPosition,verticalScrollPosition),requestID=requestAnimationFrame(step)):(elementToScroll.scrollTo(x,y),cancelAnimationFrame(requestID),removeListeners(),activeAnimations.remove(elementToScroll.element,!1),resolve(!0))};requestID=requestAnimationFrame(step)}))}))}},"./src/components/elements/loading-block/loading-block.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{B:()=>LoadingBlock});var injectStylesIntoStyleTag=__webpack_require__("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),injectStylesIntoStyleTag_default=__webpack_require__.n(injectStylesIntoStyleTag),styleDomAPI=__webpack_require__("./node_modules/style-loader/dist/runtime/styleDomAPI.js"),styleDomAPI_default=__webpack_require__.n(styleDomAPI),insertBySelector=__webpack_require__("./node_modules/style-loader/dist/runtime/insertBySelector.js"),insertBySelector_default=__webpack_require__.n(insertBySelector),setAttributesWithoutAttributes=__webpack_require__("./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js"),setAttributesWithoutAttributes_default=__webpack_require__.n(setAttributesWithoutAttributes),insertStyleElement=__webpack_require__("./node_modules/style-loader/dist/runtime/insertStyleElement.js"),insertStyleElement_default=__webpack_require__.n(insertStyleElement),styleTagTransform=__webpack_require__("./node_modules/style-loader/dist/runtime/styleTagTransform.js"),styleTagTransform_default=__webpack_require__.n(styleTagTransform),loading_block_module=__webpack_require__("./node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[16].use[1]!./node_modules/postcss-loader/dist/cjs.js!./node_modules/less-loader/dist/cjs.js!./src/components/elements/loading-block/loading-block.module.less"),options={};options.styleTagTransform=styleTagTransform_default(),options.setAttributes=setAttributesWithoutAttributes_default(),options.insert=insertBySelector_default().bind(null,"head"),options.domAPI=styleDomAPI_default(),options.insertStyleElement=insertStyleElement_default();injectStylesIntoStyleTag_default()(loading_block_module.Z,options);const loading_block_loading_block_module=loading_block_module.Z&&loading_block_module.Z.locals?loading_block_module.Z.locals:void 0;var string_helper=__webpack_require__("./src/helpers/string-helper.tsx"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),LoadingBlock=function LoadingBlock(_ref){var className=_ref.className;return(0,jsx_runtime.jsx)("div",{className:(0,string_helper.JC)(loading_block_loading_block_module.loaderIcon,className),children:(0,jsx_runtime.jsx)("svg",{style:{shapeRendering:"auto"},width:"100%",height:"100%",viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid",children:(0,jsx_runtime.jsx)("path",{fill:"none",strokeWidth:"6",strokeDasharray:"161.65102478027345 94.9379034423828",d:"M24.3 30C11.4 30 5 43.3 5 50s6.4 20 19.3 20c19.3 0 32.1-40 51.4-40 C88.6 30 95 43.3 95 50s-6.4 20-19.3 20C56.4 70 43.6 30 24.3 30z",strokeLinecap:"round",style:{transform:"scale(0.6900000000000001)",transformOrigin:"50px 50px"},children:(0,jsx_runtime.jsx)("animate",{attributeName:"stroke-dashoffset",repeatCount:"indefinite",dur:"2.1739130434782608s",keyTimes:"0;1",values:"0;256.58892822265625"})})})})};LoadingBlock.displayName="LoadingBlock";try{LoadingBlock.displayName="LoadingBlock",LoadingBlock.__docgenInfo={description:"",displayName:"LoadingBlock",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/elements/loading-block/loading-block.tsx#LoadingBlock"]={docgenInfo:LoadingBlock.__docgenInfo,name:"LoadingBlock",path:"src/components/elements/loading-block/loading-block.tsx#LoadingBlock"})}catch(__react_docgen_typescript_loader_error){}},"./src/helpers/location-helper.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _session_storage_helper__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/helpers/session-storage-helper.js");function _typeof(o){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(r,l){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,n,i,u,a=[],f=!0,o=!1;try{if(i=(t=t.call(r)).next,0===l){if(Object(t)!==t)return;f=!1}else for(;!(f=(e=i.call(t)).done)&&(a.push(e.value),a.length!==l);f=!0);}catch(r){o=!0,n=r}finally{try{if(!f&&null!=t.return&&(u=t.return(),Object(u)!==u))return}finally{if(o)throw n}}return a}}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,_toPropertyKey(descriptor.key),descriptor)}}function _toPropertyKey(t){var i=function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==_typeof(i)?i:String(i)}const __WEBPACK_DEFAULT_EXPORT__=new(function(){function LocationHelper(){!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,LocationHelper)}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}(LocationHelper,[{key:"navigateBack",value:function navigateBack(){"undefined"!=typeof window&&window.history.go(-1)}},{key:"addHashToUrlWithoutReload",value:function addHashToUrlWithoutReload(valuesArray){if("undefined"!=typeof document&&"undefined"!=typeof window&&window.history&&window.history.replaceState){if(!(valuesArray instanceof Array&&valuesArray.length>0))return window.history.replaceState({},"".concat(document.title),window.location.pathname+window.location.search);var allValues=valuesArray.map((function(item){return item.key+"="+item.value})).join("&");window.history.replaceState({},"".concat(document.title),"#".concat(allValues))}}},{key:"updateHistory",value:function updateHistory(url,title){var replace=arguments.length>2&&void 0!==arguments[2]&&arguments[2];"undefined"!=typeof window&&window.history&&window.history.pushState&&!replace&&window.history.pushState({previousPath:window.location.pathname},title,url),"undefined"!=typeof window&&window.history&&window.history.replaceState&&replace&&window.history.replaceState({},title,url)}},{key:"getDecodedHashParams",value:function getDecodedHashParams(){var hashParams={};return"undefined"!=typeof window&&window.location&&window.location.hash&&window.location.hash.substring(1).split("&").forEach((function(item){var _item$split2=_slicedToArray(item.split("="),2),k=_item$split2[0],v=_item$split2[1];v=v&&decodeURIComponent(v),(hashParams[k]=hashParams[k]||[]).push(v)})),hashParams}},{key:"getQueryParams",value:function getQueryParams(){var pageParams={};return"undefined"!=typeof window&&window.location.search&&window.location.search.substring(1).split("&").forEach((function(item){var _item$split4=_slicedToArray(item.split("="),2),k=_item$split4[0],v=_item$split4[1];v=v&&decodeURIComponent(v),(pageParams[k]=pageParams[k]||[]).push(v)})),pageParams}},{key:"getChannelFromQuery",value:function getChannelFromQuery(){var pageParams=this.getQueryParams();return pageParams instanceof Object&&pageParams.channel instanceof Array&&pageParams.channel.length&&pageParams.channel[0]?pageParams.channel[0]:""}},{key:"setPostMyParksLogin",value:function setPostMyParksLogin(postLoginUrl,pageName){var routeBeforeRedirect={pageName,pageUrl:postLoginUrl};_session_storage_helper__WEBPACK_IMPORTED_MODULE_0__.Z.setItem("routeBeforeRedirect",routeBeforeRedirect,null)}},{key:"getPostMyParksLogin",value:function getPostMyParksLogin(){var routeBeforeRedirect=_session_storage_helper__WEBPACK_IMPORTED_MODULE_0__.Z.getItem("routeBeforeRedirect");return routeBeforeRedirect&&routeBeforeRedirect.pageUrl?routeBeforeRedirect:null}},{key:"clearPostMyParksLogin",value:function clearPostMyParksLogin(){_session_storage_helper__WEBPACK_IMPORTED_MODULE_0__.Z.removeItem("routeBeforeRedirect")}}]),LocationHelper}())},"./src/hooks/use-on-pre-navigate.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{W:()=>useOnPreNavigate});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");function useOnPreNavigate(callback){var targetClickedRef=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(!1);return function(event){var _click,_ref;if("function"==typeof callback&&!targetClickedRef.current){targetClickedRef.current=!0,event.persist(),event.preventDefault();for(var _len=arguments.length,args=new Array(_len>1?_len-1:0),_key=1;_key<_len;_key++)args[_key-1]=arguments[_key];callback.apply(void 0,[event].concat(args)),null===(_click=(_ref=event.target).click)||void 0===_click||_click.call(_ref)}}}},"./node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[16].use[1]!./node_modules/postcss-loader/dist/cjs.js!./node_modules/less-loader/dist/cjs.js!./src/components/elements/loading-block/loading-block.module.less":(module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/css-loader/dist/runtime/sourceMaps.js"),_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__),_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js"),___CSS_LOADER_EXPORT___=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__)()(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default());___CSS_LOADER_EXPORT___.push([module.id,".loading-block-module--loader-icon--fnlil path {\n  stroke: var(--component-loading-block-color);\n}\n","",{version:3,sources:["webpack://./src/components/elements/loading-block/loading-block.module.less"],names:[],mappings:"AAAA;EAEI,4CAAA;AAAJ",sourcesContent:[".loader-icon {\n  path {\n    stroke: var(--component-loading-block-color);\n  }\n}\n"],sourceRoot:""}]),___CSS_LOADER_EXPORT___.locals={"loader-icon":"loading-block-module--loader-icon--fnlil",loaderIcon:"loading-block-module--loader-icon--fnlil"};const __WEBPACK_DEFAULT_EXPORT__=___CSS_LOADER_EXPORT___},"./node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[16].use[1]!./node_modules/postcss-loader/dist/cjs.js!./node_modules/less-loader/dist/cjs.js!./src/components/hocs/page-lock/page-lock.module.less":(module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/css-loader/dist/runtime/sourceMaps.js"),_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__),_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js"),___CSS_LOADER_EXPORT___=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__)()(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default());___CSS_LOADER_EXPORT___.push([module.id,"/* Breakpoints for responsive design\n   All designs are based on @small, use @medium for desktop modifications.\n   Only use the other breakpoints if absolutely necessary.\n   IMPORTANT! Make sure to keep these in sync with the breakpoints in ts file (used by hooks) (src\\constants\\breakpoints.ts)\n   IMPORTANT! useIsMobile() hook uses these breakpoints to determine if the device is mobile or not, make sure to update the hook if you change these breakpoints\n */\n.page-lock-module--modal-inner--x9yp5 {\n  padding-left: var(--foundation-spacing-x2);\n  padding-right: var(--foundation-spacing-x2);\n}\n.page-lock-module--content--T1lyD {\n  display: flex;\n  align-items: center;\n  flex-direction: column;\n  justify-content: space-around;\n  min-width: min(80dvw, var(--foundation-block-width-4));\n  background: var(--component-page-lock-background-color);\n  color: var(--component-page-lock-text-color);\n  border-radius: 1rem;\n  padding: var(--foundation-spacing-x4) var(--foundation-spacing-x8);\n}\n@media (max-width: 20rem) {\n  .page-lock-module--content--T1lyD {\n    padding: var(--foundation-spacing-x2);\n  }\n}\n.page-lock-module--bigger-content--gpwcv {\n  display: block;\n  padding: var(--foundation-spacing-x4) var(--foundation-spacing-x4);\n}\n.page-lock-module--loader--zSNbR {\n  justify-self: center;\n  width: var(--foundation-block-width-2);\n}\n.page-lock-module--input--Qnj3c {\n  margin-bottom: 0.5rem;\n}\n.page-lock-module--button--vUR3Q {\n  margin-top: 1rem;\n  width: 100%;\n}\n.page-lock-module--error--YwL3R {\n  text-align: center;\n}\n.page-lock-module--my-page-lock-home-button--WojDG {\n  margin-top: var(--foundation-spacing-x6);\n  --text-color: var(--component-outline-button-text);\n}\n","",{version:3,sources:["webpack://./src/components/hocs/page-lock/page-lock.module.less"],names:[],mappings:"AAAA;;;;;EAKE;AAHF;EACE,0CAAA;EACA,2CAAA;AAKF;AAFA;EACE,aAAA;EACA,mBAAA;EACA,sBAAA;EACA,6BAAA;EAGA,sDAAA;EAEA,uDAAA;EACA,4CAAA;EACA,mBAAA;EACA,kEAAA;AACF;AACE;EAAA;IACE,qCAAA;EAEF;AACF;AACA;EACE,cAAA;EACA,kEAAA;AACF;AAEA;EACE,oBAAA;EACA,sCAAA;AAAF;AAGA;EACE,qBAAA;AADF;AAIA;EACE,gBAAA;EACA,WAAA;AAFF;AAKA;EACE,kBAAA;AAHF;AAMA;EACE,wCAAA;EAEA,kDAAA;AALF",sourcesContent:['@import "../../../constants/breakpoints.less";\n\n.modal-inner {\n  padding-left: var(--foundation-spacing-x2);\n  padding-right: var(--foundation-spacing-x2);\n}\n\n.content {\n  display: flex;\n  align-items: center;\n  flex-direction: column;\n  justify-content: space-around;\n\n  // CAREFUL: the parent uses max-width block-width-s, so do not exceed that here (see `.modal-content` in modal.module.less)\n  min-width: ~"min(80dvw, var(--foundation-block-width-4))";\n\n  background: var(--component-page-lock-background-color);\n  color: var(--component-page-lock-text-color);\n  border-radius: 1rem;\n  padding: var(--foundation-spacing-x4) var(--foundation-spacing-x8);\n\n  @media @xxsmall-only {\n    padding: var(--foundation-spacing-x2);\n  }\n}\n\n.bigger-content {\n  display: block;\n  padding: var(--foundation-spacing-x4) var(--foundation-spacing-x4);\n}\n\n.loader {\n  justify-self: center;\n  width: var(--foundation-block-width-2);\n}\n\n.input {\n  margin-bottom: 0.5rem;\n}\n\n.button {\n  margin-top: 1rem;\n  width: 100%;\n}\n\n.error {\n  text-align: center;\n}\n\n.my-page-lock-home-button {\n  margin-top: var(--foundation-spacing-x6);\n  // Override to make ghost button visible\n  --text-color: var(--component-outline-button-text);\n}\n'],sourceRoot:""}]),___CSS_LOADER_EXPORT___.locals={"modal-inner":"page-lock-module--modal-inner--x9yp5",modalInner:"page-lock-module--modal-inner--x9yp5",content:"page-lock-module--content--T1lyD","bigger-content":"page-lock-module--bigger-content--gpwcv",biggerContent:"page-lock-module--bigger-content--gpwcv",loader:"page-lock-module--loader--zSNbR",input:"page-lock-module--input--Qnj3c",button:"page-lock-module--button--vUR3Q",error:"page-lock-module--error--YwL3R","my-page-lock-home-button":"page-lock-module--my-page-lock-home-button--WojDG",myPageLockHomeButton:"page-lock-module--my-page-lock-home-button--WojDG"};const __WEBPACK_DEFAULT_EXPORT__=___CSS_LOADER_EXPORT___},"./node_modules/lodash-es/isBoolean.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _baseGetTag_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/lodash-es/_baseGetTag.js"),_isObjectLike_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/lodash-es/isObjectLike.js");const __WEBPACK_DEFAULT_EXPORT__=function isBoolean(value){return!0===value||!1===value||(0,_isObjectLike_js__WEBPACK_IMPORTED_MODULE_0__.Z)(value)&&"[object Boolean]"==(0,_baseGetTag_js__WEBPACK_IMPORTED_MODULE_1__.Z)(value)}},"./src/components/hocs/page-lock/page-lock.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{CodeLockAndDateTimeLockHasPassed:()=>CodeLockAndDateTimeLockHasPassed,CodeLockAndDateTimeLockNotPassed:()=>CodeLockAndDateTimeLockNotPassed,DateTimeLockHasPassed:()=>DateTimeLockHasPassed,DateTimeLockNotPassed:()=>DateTimeLockNotPassed,Primary:()=>Primary,__namedExportsOrder:()=>__namedExportsOrder,default:()=>page_lock_stories});var react=__webpack_require__("./node_modules/react/index.js"),input_field=__webpack_require__("./src/components/forms/input-field/input-field.tsx"),form_builder=__webpack_require__("./src/helpers/form-builder.ts"),parks_button=__webpack_require__("./src/components/shared-components/parks-button/parks-button.tsx"),injectStylesIntoStyleTag=__webpack_require__("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),injectStylesIntoStyleTag_default=__webpack_require__.n(injectStylesIntoStyleTag),styleDomAPI=__webpack_require__("./node_modules/style-loader/dist/runtime/styleDomAPI.js"),styleDomAPI_default=__webpack_require__.n(styleDomAPI),insertBySelector=__webpack_require__("./node_modules/style-loader/dist/runtime/insertBySelector.js"),insertBySelector_default=__webpack_require__.n(insertBySelector),setAttributesWithoutAttributes=__webpack_require__("./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js"),setAttributesWithoutAttributes_default=__webpack_require__.n(setAttributesWithoutAttributes),insertStyleElement=__webpack_require__("./node_modules/style-loader/dist/runtime/insertStyleElement.js"),insertStyleElement_default=__webpack_require__.n(insertStyleElement),styleTagTransform=__webpack_require__("./node_modules/style-loader/dist/runtime/styleTagTransform.js"),styleTagTransform_default=__webpack_require__.n(styleTagTransform),page_lock_module=__webpack_require__("./node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[16].use[1]!./node_modules/postcss-loader/dist/cjs.js!./node_modules/less-loader/dist/cjs.js!./src/components/hocs/page-lock/page-lock.module.less"),options={};options.styleTagTransform=styleTagTransform_default(),options.setAttributes=setAttributesWithoutAttributes_default(),options.insert=insertBySelector_default().bind(null,"head"),options.domAPI=styleDomAPI_default(),options.insertStyleElement=insertStyleElement_default();injectStylesIntoStyleTag_default()(page_lock_module.Z,options);const page_lock_page_lock_module=page_lock_module.Z&&page_lock_module.Z.locals?page_lock_module.Z.locals:void 0;var es=__webpack_require__("./node_modules/react-i18next/dist/es/index.js"),local_storage_helper=__webpack_require__("./src/helpers/local-storage-helper.ts"),date_helper=__webpack_require__("./src/helpers/date-helper.ts"),location_helper=__webpack_require__("./src/helpers/location-helper.ts"),language_helper=__webpack_require__("./src/helpers/language-helper.ts"),dayjs_min=__webpack_require__("./node_modules/dayjs/dayjs.min.js"),dayjs_min_default=__webpack_require__.n(dayjs_min),auth_aware=__webpack_require__("./src/components/hocs/auth-aware/auth-aware.tsx"),string_helper=__webpack_require__("./src/helpers/string-helper.tsx"),text_block=__webpack_require__("./src/components/text-block/text-block.tsx"),link_link=__webpack_require__("./src/components/elements/link/link.tsx"),loading_block=__webpack_require__("./src/components/elements/loading-block/loading-block.tsx"),use_on_pre_navigate=__webpack_require__("./src/hooks/use-on-pre-navigate.ts"),views={sv:{HOME:"hem",FRIENDS:"vanner",GIFTS:"presenter",LOGIN:"login",ORDERS:"ordrar",DISCOUNTS:"rabattkoder",PARKING:"parkering",PROFILE:"profil",BOOKING:"bokning",HANDLE_BOOKING:"hantera-biljetter",SEASON_PASSES:"sasongskort",SMART_WRISTBANDS:"smarta-armband",SMART_WRISTBANDS_BLOCK:"".concat("smarta-armband","/sparra"),SMART_WRISTBANDS_RECAP:"".concat("smarta-armband","/summering"),TICKETS:"biljetter",CHANGE_VISIT_DATE:"".concat("hantera-biljetter","/andra-besoksdag"),CHANGE_JETPASS:"".concat("hantera-biljetter","/andra-jetpass"),OBLITERATE_TICKETS:"".concat("hantera-biljetter","/avboka"),HANDLE_ACTIVITY_PASSES:"hantera-aktiviteter",CHANGE_ACTIVITY_PASS_DATE:"".concat("hantera-aktiviteter","/andra-dag"),CHANGE_ACTIVITY_PASS_TIME:"".concat("hantera-aktiviteter","/andra-tid"),RECEIVE_GIFT:"".concat("hantera-produkter","/ta-emot-produkt"),GIVE_AWAY_TICKET_HISTORY:"".concat("hantera-produkter","/").concat("ge-bort-produkt","/historik"),GIVE_AWAY_TICKET:"".concat("hantera-produkter","/").concat("ge-bort-produkt"),RECEIVE_SHARING:"".concat("hantera-produkter","/ta-emot-delning"),SHARE_PRODUCTS:"dela-produkter",SIGNUP:"registrera-konto"},en:{HOME:"home",FRIENDS:"friends",GIFTS:"gifts",LOGIN:"login",ORDERS:"orders",DISCOUNTS:"discounts",PARKING:"parking",PROFILE:"profile",BOOKING:"booking",HANDLE_BOOKING:"handle-tickets",SEASON_PASSES:"season-passes",SMART_WRISTBANDS:"smart-wristbands",SMART_WRISTBANDS_BLOCK:"".concat("smart-wristbands","/block"),SMART_WRISTBANDS_RECAP:"".concat("smart-wristbands","/recap"),TICKETS:"tickets",CHANGE_VISIT_DATE:"".concat("handle-tickets","/change-visit-date"),CHANGE_JETPASS:"".concat("handle-tickets","/change-jetpass"),OBLITERATE_TICKETS:"".concat("handle-tickets","/cancel"),HANDLE_ACTIVITY_PASSES:"handle-activities",CHANGE_ACTIVITY_PASS_DATE:"".concat("handle-activities","/change-date"),CHANGE_ACTIVITY_PASS_TIME:"".concat("handle-activities","/change-time"),RECEIVE_GIFT:"".concat("handle-products","/receive-product"),GIVE_AWAY_TICKET_HISTORY:"".concat("handle-products","/").concat("give-away-product","/history"),GIVE_AWAY_TICKET:"".concat("handle-products","/").concat("give-away-product"),RECEIVE_SHARING:"".concat("handle-products","/receive-sharing"),SHARE_PRODUCTS:"share-products",SIGNUP:"register-account"}},basePath={sv:"/mina-sidor",en:"/en/my-pages"},sitePath={sv:"/",en:"/en"},routes_getSitePath=function getSitePath(){return"".concat(sitePath[language_helper.Z.getCurrentLocale()])},routes_LOGIN={getSlug:function getSlug(language){return language?"".concat(basePath[language],"/").concat(views[language].LOGIN):"".concat(basePath[language_helper.Z.getCurrentLocale()],"/").concat(views[language_helper.Z.getCurrentLocale()].LOGIN)},getShort:function getShort(){return views[language_helper.Z.getCurrentLocale()].LOGIN}},modal=__webpack_require__("./src/components/elements/modal/modal.tsx"),modal_portal=__webpack_require__("./src/components/shared-components/modal-portal/modal-portal.tsx"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");function _typeof(o){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||_unsupportedIterableToArray(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function _defineProperty(obj,key,value){return(key=function _toPropertyKey(t){var i=function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==_typeof(i)?i:String(i)}(key))in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(r,l){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,n,i,u,a=[],f=!0,o=!1;try{if(i=(t=t.call(r)).next,0===l){if(Object(t)!==t)return;f=!1}else for(;!(f=(e=i.call(t)).done)&&(a.push(e.value),a.length!==l);f=!0);}catch(r){o=!0,n=r}finally{try{if(!f&&null!=t.return&&(u=t.return(),Object(u)!==u))return}finally{if(o)throw n}}return a}}(arr,i)||_unsupportedIterableToArray(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(o,minLen):void 0}}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var PageLockModal=function PageLockModal(_ref){var children=_ref.children;return(0,jsx_runtime.jsx)(modal.u,{isOpen:!0,onClose:function onClose(){},isClosable:!1,portalId:modal_portal.Wr,innerClassName:page_lock_page_lock_module.modalInner,disableScrollClassName:"overflow-hidden",blurBackground:!0,children})};PageLockModal.displayName="PageLockModal";var CodeLock=function CodeLock(_ref2){var code=_ref2.code,lockInputLabel=_ref2.lockInputLabel,lockInputPlaceholder=_ref2.lockInputPlaceholder,lockErrorMsg=_ref2.lockErrorMsg,hasPassed=_ref2.hasPassed,cacheCode=_ref2.cacheCode,setHasPassed=_ref2.setHasPassed,setIsViewportScrollable=_ref2.setIsViewportScrollable,isDisabled=_ref2.isDisabled,bottomText=_ref2.bottomText,Component=_ref2.Component,props=_ref2.props,t=(0,es.$G)().t,initialCodeForm=(0,form_builder.HA)();initialCodeForm.fields.set("code",(0,form_builder.DM)("code",{isRequired:!0,errorText:lockErrorMsg,label:null!=lockInputLabel?lockInputLabel:t("promoCode"),placeholder:null!=lockInputPlaceholder?lockInputPlaceholder:t("inputPlaceholderPromoCode")}));var _useForm2=_slicedToArray((0,form_builder.cI)(initialCodeForm),3),codeForm=_useForm2[0],isCodeFormValid=_useForm2[1],codeFormOnChange=_useForm2[2];(0,react.useEffect)((function(){if(setIsViewportScrollable(!1),window&&window.scrollTo(0,0),cacheCode&&"undefined"!=typeof location){var value=local_storage_helper.Z.getItem("pageLock:".concat(JSON.stringify(location.pathname)));code.toUpperCase()===value&&setHasPassed(!0)}return function(){setIsViewportScrollable(!0)}}),[]),(0,react.useEffect)((function(){hasPassed&&setIsViewportScrollable(!0)}),[hasPassed,setIsViewportScrollable]);var submitCode=function submitCode(){var _codeForm$fields$get$,_codeForm$fields$get,value=null!==(_codeForm$fields$get$=null===(_codeForm$fields$get=codeForm.fields.get("code"))||void 0===_codeForm$fields$get?void 0:_codeForm$fields$get.value)&&void 0!==_codeForm$fields$get$?_codeForm$fields$get$:"",isValid=code.toUpperCase()===value;codeFormOnChange("code",value,{isValid}),isValid&&(setHasPassed(!0),cacheCode&&"undefined"!=typeof location&&local_storage_helper.Z.setItem("pageLock:".concat(JSON.stringify(location.pathname)),value,dayjs_min_default()().add(1,"day").startOf("day").add(4,"hours").valueOf()))};return(0,jsx_runtime.jsxs)("div",{children:[(0,jsx_runtime.jsx)(PageLockModal,{children:(0,jsx_runtime.jsxs)("div",{className:page_lock_page_lock_module.content,children:[(0,jsx_runtime.jsx)(input_field.Z,{focus:!0,className:page_lock_page_lock_module.input,formField:codeForm.fields.get("code"),onChange:function onChange(_fieldName,value){return function onInputChange(value){var valueUpperCase=value.toUpperCase();codeFormOnChange("code",valueUpperCase,{instantValidate:!0})}(value)},onKeyDown:function handleKeyDown(e){"Enter"===e.key&&submitCode()},isDisabled}),(0,jsx_runtime.jsx)(parks_button.KM,{className:page_lock_page_lock_module.button,isFullWidth:!0,isDisabled:!isCodeFormValid||isDisabled,label:t("activate"),onClick:submitCode}),bottomText&&(0,jsx_runtime.jsx)("p",{children:bottomText})]})}),(0,jsx_runtime.jsx)(Component,_objectSpread({isLocked:!0},props))]})};CodeLock.displayName="CodeLock";var ReferrerLock=function ReferrerLock(_ref3){var validReferrer=_ref3.validReferrer,lockErrorMsg=_ref3.lockErrorMsg,setHasPassed=_ref3.setHasPassed,setIsViewportScrollable=_ref3.setIsViewportScrollable,Component=_ref3.Component,props=_ref3.props;return(0,react.useEffect)((function(){var referrer=document.referrer;return referrer&&referrer.includes(validReferrer)?setHasPassed(!0):(window&&window.scrollTo(0,0),setIsViewportScrollable(!1)),function(){setIsViewportScrollable(!0)}}),[]),(0,jsx_runtime.jsxs)("div",{children:[(0,jsx_runtime.jsx)(PageLockModal,{children:(0,jsx_runtime.jsx)("div",{className:page_lock_page_lock_module.content,children:(0,jsx_runtime.jsx)("p",{className:page_lock_page_lock_module.error,children:lockErrorMsg})})}),(0,jsx_runtime.jsx)(Component,_objectSpread({isLocked:!0},props))]})};ReferrerLock.displayName="ReferrerLock";var LocationParametersLock=function LocationParametersLock(_ref4){var _ref4$locationParamet=_ref4.locationParameters,locationParameters=void 0===_ref4$locationParamet?"":_ref4$locationParamet,validPromoCode=_ref4.validPromoCode,lockErrorMsg=_ref4.lockErrorMsg,setHasPassed=_ref4.setHasPassed,setIsViewportScrollable=_ref4.setIsViewportScrollable,Component=_ref4.Component,props=_ref4.props;return(0,react.useEffect)((function(){var promoParameterPair=locationParameters.substring(1).split("&").find((function(parameterPair){return"promo"===parameterPair.split("=")[0]}));return(promoParameterPair&&promoParameterPair.split("=")[1])===validPromoCode?setHasPassed(!0):(window&&window.scrollTo(0,0),setIsViewportScrollable(!1)),function(){setIsViewportScrollable(!0)}}),[]),(0,jsx_runtime.jsxs)("div",{children:[(0,jsx_runtime.jsx)(PageLockModal,{children:(0,jsx_runtime.jsx)("div",{className:page_lock_page_lock_module.content,children:(0,jsx_runtime.jsx)("p",{className:page_lock_page_lock_module.error,children:lockErrorMsg})})}),(0,jsx_runtime.jsx)(Component,_objectSpread({isLocked:!0},props))]})};LocationParametersLock.displayName="LocationParametersLock";var productHasProductData=function productHasProductData(p){return void 0!==p.productData},hasValidityTimeToPassed=function hasValidityTimeToPassed(validity){if(!validity)return!1;var timePart=validity.timeTo?"T".concat(validity.timeTo):"T23:59",dateTimeString="".concat(validity.dateTo).concat(timePart);return date_helper.ZP.hasDatePassed(dateTimeString)},MyPageLock=function MyPageLock(_ref5){var necessaryProducts=_ref5.necessaryProducts,blockingProducts=_ref5.blockingProducts,ignorePassedBlockingProducts=_ref5.ignorePassedBlockingProducts,lockNecessaryProductsRatio=_ref5.lockNecessaryProductsRatio,lockMyPageMessageNotNecessaryProducts=_ref5.lockMyPageMessageNotNecessaryProducts,lockMyPageMessageBlockingProducts=_ref5.lockMyPageMessageBlockingProducts,lockMyPageMessageNotLoggedIn=_ref5.lockMyPageMessageNotLoggedIn,auth=_ref5.auth,setHasPassed=_ref5.setHasPassed,Component=_ref5.Component,props=_ref5.props,t=(0,es.$G)().t,homeRoute=routes_getSitePath(),lockState=(0,react.useMemo)((function(){if(auth.isFetchingSession||auth.isFetchingProducts||!auth.sessionFetched)return"LOADING";if(!auth.isLoggedIn&&auth.sessionFetched)return"NOT_LOGGED_IN";if(auth.isLoggedIn){var _auth$seasonPasses,allUsersProducts=[].concat(_toConsumableArray(auth.webOrders.flatMap((function(webOrder){return webOrder.rows.map((function(r){return{productId:r.productId,rowId:r.id,bonusCodeAllowed:r.allowedActions.bonusCode.isAllowed,hasValidityTimeToPassed:hasValidityTimeToPassed(r.validity)}}))}))),_toConsumableArray(auth.looseRows.map((function(r){return{productId:r.productId,rowId:r.id,bonusCodeAllowed:r.allowedActions.bonusCode.isAllowed,hasValidityTimeToPassed:hasValidityTimeToPassed(r.validity)}}))),_toConsumableArray((null===(_auth$seasonPasses=auth.seasonPasses)||void 0===_auth$seasonPasses?void 0:_auth$seasonPasses.map((function(s){return{productId:s.productId,rowId:s.orderRowId,bonusCodeAllowed:s.allowedActions.bonusCode.isAllowed,hasValidityTimeToPassed:hasValidityTimeToPassed(s.validity)}})))||[])),uniqueProducts=new Map(allUsersProducts.map((function(product){return[product.rowId,product]}))),productIdsUsedForNecessaryChecks=Array.from(uniqueProducts.values()).filter((function(product){return product.bonusCodeAllowed})).map((function(product){return product.productId})),productIdsUsedForBlockingChecks=Array.from(uniqueProducts.values()).filter((function(product){return!ignorePassedBlockingProducts||!product.hasValidityTimeToPassed})).map((function(product){return product.productId})),necessaryProductIds=new Set(necessaryProducts.filter(productHasProductData).map((function(product){return parseInt(product.productData.glkId)}))),blockingProductIds=new Set(blockingProducts.filter(productHasProductData).map((function(product){return parseInt(product.productData.glkId)}))),necessaryProductCount=productIdsUsedForNecessaryChecks.filter((function(productId){return necessaryProductIds.has(productId)})).length,blockingProductCount=productIdsUsedForBlockingChecks.filter((function(productId){return blockingProductIds.has(productId)})).length;if(!(necessaryProductCount>0))return"LOGGED_IN_NOT_NECESSARY_PRODUCTS";var isBlockedByBlockingProducts=!1;if(void 0===lockNecessaryProductsRatio)isBlockedByBlockingProducts=blockingProductCount>0;else isBlockedByBlockingProducts=blockingProductCount>=necessaryProductCount*lockNecessaryProductsRatio;return isBlockedByBlockingProducts?"LOGGED_IN_BLOCKING_PRODUCT":"LOGGED_IN_NECESSARY_PRODUCTS"}return"ERROR"}),[auth,necessaryProducts,blockingProducts,lockNecessaryProductsRatio,ignorePassedBlockingProducts]);(0,react.useEffect)((function(){"LOGGED_IN_NECESSARY_PRODUCTS"===lockState&&setHasPassed(!0)}),[lockState,setHasPassed]);var onClickLoginLink=(0,use_on_pre_navigate.W)((function(){return location_helper.Z.setPostMyParksLogin(window.location.pathname)}));return(0,jsx_runtime.jsxs)("div",{children:[(0,jsx_runtime.jsx)(PageLockModal,{children:(0,jsx_runtime.jsxs)("div",{className:(0,string_helper.JC)(page_lock_page_lock_module.content,page_lock_page_lock_module.biggerContent),children:["LOADING"===lockState&&(0,jsx_runtime.jsx)(loading_block.B,{className:page_lock_page_lock_module.loader}),"NOT_LOGGED_IN"===lockState&&(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[lockMyPageMessageNotLoggedIn&&(0,jsx_runtime.jsx)(text_block.a,_objectSpread(_objectSpread({},lockMyPageMessageNotLoggedIn),{},{size:"m"})),(0,jsx_runtime.jsx)(link_link.Z,{internalLink:routes_LOGIN.getSlug(language_helper.Z.getCurrentLocale()),onClick:onClickLoginLink,children:(0,jsx_runtime.jsx)(parks_button.KM,{label:t("login"),isFullWidth:!0})})]}),"LOGGED_IN_NECESSARY_PRODUCTS"===lockState&&(0,jsx_runtime.jsx)("p",{children:t("myPageLockSuccess")}),"LOGGED_IN_BLOCKING_PRODUCT"===lockState&&(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[lockMyPageMessageBlockingProducts&&(0,jsx_runtime.jsx)(text_block.a,_objectSpread(_objectSpread({},lockMyPageMessageBlockingProducts),{},{size:"m"})),!lockMyPageMessageBlockingProducts&&(0,jsx_runtime.jsx)("p",{children:t("myPageLockBlockingProducts")})]}),"LOGGED_IN_NOT_NECESSARY_PRODUCTS"===lockState&&(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[lockMyPageMessageNotNecessaryProducts&&(0,jsx_runtime.jsx)(text_block.a,_objectSpread(_objectSpread({},lockMyPageMessageNotNecessaryProducts),{},{size:"m"})),!lockMyPageMessageNotNecessaryProducts&&(0,jsx_runtime.jsx)("p",{children:t("myPageLockNotEnoughProducts")})]}),"ERROR"===lockState&&(0,jsx_runtime.jsx)("p",{children:t("somethingWentWrong")}),(0,jsx_runtime.jsx)(parks_button.fS,{label:t("backToLandingPage"),url:homeRoute,isFullWidth:!0,className:page_lock_page_lock_module.myPageLockHomeButton})]})}),(0,jsx_runtime.jsx)(Component,_objectSpread({isLocked:!0},props))]})};MyPageLock.displayName="MyPageLock";var MyPageLockWithAuth=(0,auth_aware.Z)(MyPageLock),getDateTimeLockParagraph=function getDateTimeLockParagraph(t,dateTimeLockAsUTC){return t("dateTimeLockMessageParagraph",["".concat(date_helper.ZP.toStringMMDDWeekday(dateTimeLockAsUTC)," ").concat(date_helper.ZP.toStringTimeHHMM(dateTimeLockAsUTC))])},DateTimeNotYetPassedLock=function DateTimeNotYetPassedLock(_ref6){var dateTimeLockAsUTC=_ref6.dateTimeLockAsUTC,Component=_ref6.Component,props=_ref6.props,t=(0,es.$G)().t;return(0,jsx_runtime.jsxs)("div",{children:[(0,jsx_runtime.jsx)(PageLockModal,{children:(0,jsx_runtime.jsxs)("div",{className:page_lock_page_lock_module.content,children:[(0,jsx_runtime.jsx)("p",{className:"bold",children:t("dateTimeLockMessageHeading")}),(0,jsx_runtime.jsx)("p",{className:page_lock_page_lock_module.error,children:getDateTimeLockParagraph(t,dateTimeLockAsUTC)})]})}),(0,jsx_runtime.jsx)(Component,_objectSpread({isLocked:!0},props))]})};DateTimeNotYetPassedLock.displayName="DateTimeNotYetPassedLock";var LockWithValue=function LockWithValue(_ref7){var _props$ignorePassedBl,props=_ref7.props,hasPassed=_ref7.hasPassed,setHasPassed=_ref7.setHasPassed,dateTimeLock=_ref7.dateTimeLock,Component=_ref7.Component,t=(0,es.$G)().t;return isCodeProps(props)?(0,jsx_runtime.jsx)(CodeLock,{code:props.lockValue,lockInputLabel:props.lockInputLabel,lockInputPlaceholder:props.lockInputPlaceholder,lockErrorMsg:props.lockErrorMsg,hasPassed,cacheCode:props.cacheCode,setHasPassed,setIsViewportScrollable:props.setIsViewportScrollable,isDisabled:!dateTimeLock.hasPassed,bottomText:dateTimeLock.hasPassed?void 0:getDateTimeLockParagraph(t,dateTimeLock.dateTimeLockAsUTC),Component,props}):isReferrerProps(props)?(0,jsx_runtime.jsx)(ReferrerLock,{validReferrer:props.lockValue,lockErrorMsg:props.lockErrorMsg,setHasPassed,setIsViewportScrollable:props.setIsViewportScrollable,Component,props}):isLocationParametersProps(props)?(0,jsx_runtime.jsx)(LocationParametersLock,{locationParameters:props.locationSearch,validPromoCode:props.lockValue,lockErrorMsg:props.lockErrorMsg,setHasPassed,setIsViewportScrollable:props.setIsViewportScrollable,Component,props}):isMyPageProps(props)?(0,jsx_runtime.jsx)(MyPageLockWithAuth,{necessaryProducts:props.lockNecessaryProducts,blockingProducts:props.lockBlockingProducts,ignorePassedBlockingProducts:null!==(_props$ignorePassedBl=props.ignorePassedBlockingProducts)&&void 0!==_props$ignorePassedBl&&_props$ignorePassedBl,lockMyPageMessageNotNecessaryProducts:props.lockMyPageMessageNotNecessaryProducts,lockMyPageMessageBlockingProducts:props.lockMyPageMessageBlockingProducts,lockNecessaryProductsRatio:props.lockNecessaryProductsRatio,lockMyPageMessageNotLoggedIn:props.lockMyPageMessageNotLoggedIn,setHasPassed,Component,props}):(0,jsx_runtime.jsx)(Component,_objectSpread({isLocked:!1},props))};LockWithValue.displayName="LockWithValue";var isCodeProps=function isCodeProps(props){return"Code"===props.lockType},isReferrerProps=function isReferrerProps(props){return"Referrer"===props.lockType},isLocationParametersProps=function isLocationParametersProps(props){return"Location Parameters"===props.lockType},isMyPageProps=function isMyPageProps(props){return"MyPage"===props.lockType},pageLock=function pageLock(Component){return function PageLockWrapper(props){var _useState2=_slicedToArray((0,react.useState)(!1),2),hasPassed=_useState2[0],setHasPassed=_useState2[1],dateTimeLockAsUTC=function getUTCTimeFromDateTimeLock(dateTimeLock){return date_helper.ZP.parseWallDateTimeToUTCDateTime(dateTimeLock,"Europe/Stockholm")}(props.dateTimeLock),hasDateTimePassed=!dateTimeLockAsUTC||date_helper.ZP.hasDatePassed(dateTimeLockAsUTC),hasDateTimeProps=!!dateTimeLockAsUTC;return(isCodeProps(props)||isReferrerProps(props)||isLocationParametersProps(props)||isMyPageProps(props))&&!hasPassed?(0,jsx_runtime.jsx)(LockWithValue,{props,hasPassed,setHasPassed,dateTimeLock:!hasDateTimePassed&&dateTimeLockAsUTC?{hasPassed:!1,dateTimeLockAsUTC}:{hasPassed:!0},Component}):hasDateTimeProps&&!hasDateTimePassed?(0,jsx_runtime.jsx)(DateTimeNotYetPassedLock,{dateTimeLockAsUTC,Component,props}):(0,jsx_runtime.jsx)(Component,_objectSpread({isLocked:!1},props))}};try{pageLock.displayName="pageLock",pageLock.__docgenInfo={description:"",displayName:"pageLock",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/hocs/page-lock/page-lock.tsx#pageLock"]={docgenInfo:pageLock.__docgenInfo,name:"pageLock",path:"src/components/hocs/page-lock/page-lock.tsx#pageLock"})}catch(__react_docgen_typescript_loader_error){}var dist=__webpack_require__("./node_modules/@storybook/testing-library/dist/index.mjs"),jest_dist=__webpack_require__("./node_modules/@storybook/jest/dist/index.mjs"),preview=__webpack_require__("./.storybook/preview.tsx"),labels=__webpack_require__("./src/labels/labels.ts");function page_lock_stories_typeof(o){return page_lock_stories_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},page_lock_stories_typeof(o)}function page_lock_stories_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function page_lock_stories_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?page_lock_stories_ownKeys(Object(t),!0).forEach((function(r){page_lock_stories_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):page_lock_stories_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function page_lock_stories_defineProperty(obj,key,value){return(key=function page_lock_stories_toPropertyKey(t){var i=function page_lock_stories_toPrimitive(t,r){if("object"!=page_lock_stories_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=page_lock_stories_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==page_lock_stories_typeof(i)?i:String(i)}(key))in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _regeneratorRuntime(){_regeneratorRuntime=function _regeneratorRuntime(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function define(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{define({},"")}catch(t){define=function define(t,e,r){return t[e]=r}}function wrap(t,e,r,n){var i=e&&e.prototype instanceof Generator?e:Generator,a=Object.create(i.prototype),c=new Context(n||[]);return o(a,"_invoke",{value:makeInvokeMethod(t,r,c)}),a}function tryCatch(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=wrap;var h="suspendedStart",f="executing",s="completed",y={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var p={};define(p,a,(function(){return this}));var d=Object.getPrototypeOf,v=d&&d(d(values([])));v&&v!==r&&n.call(v,a)&&(p=v);var g=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(p);function defineIteratorMethods(t){["next","throw","return"].forEach((function(e){define(t,e,(function(t){return this._invoke(e,t)}))}))}function AsyncIterator(t,e){function invoke(r,o,i,a){var c=tryCatch(t[r],t,o);if("throw"!==c.type){var u=c.arg,h=u.value;return h&&"object"==page_lock_stories_typeof(h)&&n.call(h,"__await")?e.resolve(h.__await).then((function(t){invoke("next",t,i,a)}),(function(t){invoke("throw",t,i,a)})):e.resolve(h).then((function(t){u.value=t,i(u)}),(function(t){return invoke("throw",t,i,a)}))}a(c.arg)}var r;o(this,"_invoke",{value:function value(t,n){function callInvokeWithMethodAndArg(){return new e((function(e,r){invoke(t,n,e,r)}))}return r=r?r.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}})}function makeInvokeMethod(e,r,n){var o=h;return function(i,a){if(o===f)throw new Error("Generator is already running");if(o===s){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var c=n.delegate;if(c){var u=maybeInvokeDelegate(c,n);if(u){if(u===y)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=s,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=f;var p=tryCatch(e,r,n);if("normal"===p.type){if(o=n.done?s:"suspendedYield",p.arg===y)continue;return{value:p.arg,done:n.done}}"throw"===p.type&&(o=s,n.method="throw",n.arg=p.arg)}}}function maybeInvokeDelegate(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,maybeInvokeDelegate(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var i=tryCatch(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,y;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,y):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function pushTryEntry(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function resetTryEntry(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function Context(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(pushTryEntry,this),this.reset(!0)}function values(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function next(){for(;++o<e.length;)if(n.call(e,o))return next.value=e[o],next.done=!1,next;return next.value=t,next.done=!0,next};return i.next=i}}throw new TypeError(page_lock_stories_typeof(e)+" is not iterable")}return GeneratorFunction.prototype=GeneratorFunctionPrototype,o(g,"constructor",{value:GeneratorFunctionPrototype,configurable:!0}),o(GeneratorFunctionPrototype,"constructor",{value:GeneratorFunction,configurable:!0}),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===GeneratorFunction||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,GeneratorFunctionPrototype):(t.__proto__=GeneratorFunctionPrototype,define(t,u,"GeneratorFunction")),t.prototype=Object.create(g),t},e.awrap=function(t){return{__await:t}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,c,(function(){return this})),e.AsyncIterator=AsyncIterator,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new AsyncIterator(wrap(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},defineIteratorMethods(g),define(g,u,"Generator"),define(g,a,(function(){return this})),define(g,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function next(){for(;r.length;){var t=r.pop();if(t in e)return next.value=t,next.done=!1,next}return next.done=!0,next}},e.values=values,Context.prototype={constructor:Context,reset:function reset(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(resetTryEntry),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function stop(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function dispatchException(e){if(this.done)throw e;var r=this;function handle(n,o){return a.type="throw",a.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return handle("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return handle(i.catchLoc,!0);if(this.prev<i.finallyLoc)return handle(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return handle(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return handle(i.finallyLoc)}}}},abrupt:function abrupt(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,y):this.complete(a)},complete:function complete(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function finish(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),resetTryEntry(r),y}},catch:function _catch(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;resetTryEntry(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function delegateYield(e,r,n){return this.delegate={iterator:values(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),y}},e}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}const page_lock_stories={title:"Elements/Page Lock",component:pageLock((function(){return(0,jsx_runtime.jsxs)("div",{children:[(0,jsx_runtime.jsx)("h1",{children:"Secret page!"}),(0,jsx_runtime.jsx)("p",{children:"Very hidden content"})]})})),decorators:[preview.withMockedDate],argTypes:preview.argTypesMockDate};var _play,_play2,_play3,_play4,trimmedTimeLockParagraphText=labels.Z.sv.dateTimeLockMessageParagraph.substring(0,labels.Z.sv.dateTimeLockMessageParagraph.length-"{{0}}".length),Primary={args:{mockedDate:new Date("2024-08-13T08:11:20.297Z"),lockType:"Code",lockValue:"hunter2",setIsViewportScrollable:function setIsViewportScrollable(){},lockErrorMsg:"Locked error message",lockInputLabel:void 0,lockInputPlaceholder:void 0}},DateTimeLockNotPassed={play:(_play=_asyncToGenerator(_regeneratorRuntime().mark((function _callee(_ref){var canvasElement,canvas;return _regeneratorRuntime().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return canvasElement=_ref.canvasElement,_context.next=3,new Promise((function(resolve){return setTimeout(resolve,2e3)}));case 3:canvas=(0,dist.uh)(canvasElement),(0,jest_dist.l)(canvas.getByText(labels.Z.sv.dateTimeLockMessageHeading)).toBeInTheDocument();case 5:case"end":return _context.stop()}}),_callee)}))),function play(_x){return _play.apply(this,arguments)}),args:{dateTimeLock:"2024-08-01T18:00",mockedDate:new Date("2024-08-01T17:55:00.000+02:00")}},DateTimeLockHasPassed={play:(_play2=_asyncToGenerator(_regeneratorRuntime().mark((function _callee2(_ref2){var canvasElement,canvas;return _regeneratorRuntime().wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return canvasElement=_ref2.canvasElement,_context2.next=3,new Promise((function(resolve){return setTimeout(resolve,2e3)}));case 3:canvas=(0,dist.uh)(canvasElement),(0,jest_dist.l)(canvas.queryByText(labels.Z.sv.dateTimeLockMessageHeading)).toBeNull();case 5:case"end":return _context2.stop()}}),_callee2)}))),function play(_x2){return _play2.apply(this,arguments)}),args:{dateTimeLock:"2024-08-01T18:00",mockedDate:new Date("2024-08-01T18:01:00.000+02:00")}},CodeLockAndDateTimeLockNotPassed={play:(_play3=_asyncToGenerator(_regeneratorRuntime().mark((function _callee3(_ref3){var canvasElement,canvas;return _regeneratorRuntime().wrap((function _callee3$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return canvasElement=_ref3.canvasElement,_context3.next=3,new Promise((function(resolve){return setTimeout(resolve,2e3)}));case 3:canvas=(0,dist.uh)(canvasElement),(0,jest_dist.l)(canvas.getByText(trimmedTimeLockParagraphText,{exact:!1})).toBeInTheDocument(),(0,jest_dist.l)(canvas.getByPlaceholderText(labels.Z.sv.inputPlaceholderPromoCode)).toBeDisabled();case 6:case"end":return _context3.stop()}}),_callee3)}))),function play(_x3){return _play3.apply(this,arguments)}),args:page_lock_stories_objectSpread(page_lock_stories_objectSpread({},Primary.args),DateTimeLockNotPassed.args)},CodeLockAndDateTimeLockHasPassed={play:(_play4=_asyncToGenerator(_regeneratorRuntime().mark((function _callee4(_ref4){var canvasElement,canvas;return _regeneratorRuntime().wrap((function _callee4$(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:return canvasElement=_ref4.canvasElement,_context4.next=3,new Promise((function(resolve){return setTimeout(resolve,2e3)}));case 3:return canvas=(0,dist.uh)(canvasElement),(0,jest_dist.l)(canvas.queryByText(trimmedTimeLockParagraphText,{exact:!1})).toBeNull(),_context4.next=7,new Promise((function(resolve){return setTimeout(resolve,1e3)}));case 7:return _context4.next=9,dist.mV.type(canvas.getByPlaceholderText("Skriv in din kampanjkod hr"),"hunter2");case 9:return _context4.next=11,dist.mV.tab();case 11:return _context4.next=13,dist.mV.keyboard("{Enter}");case 13:(0,jest_dist.l)(canvas.queryByText(labels.Z.sv.dateTimeLockMessageHeading)).toBeNull();case 14:case"end":return _context4.stop()}}),_callee4)}))),function play(_x4){return _play4.apply(this,arguments)}),args:page_lock_stories_objectSpread(page_lock_stories_objectSpread({},Primary.args),DateTimeLockHasPassed.args)},__namedExportsOrder=["Primary","DateTimeLockNotPassed","DateTimeLockHasPassed","CodeLockAndDateTimeLockNotPassed","CodeLockAndDateTimeLockHasPassed"];Primary.parameters={...Primary.parameters,docs:{...Primary.parameters?.docs,source:{originalSource:'{\n  args: {\n    mockedDate: new Date("2024-08-13T08:11:20.297Z"),\n    lockType: "Code",\n    lockValue: "hunter2",\n    setIsViewportScrollable: () => {\n      return;\n    },\n    lockErrorMsg: "Locked error message",\n    lockInputLabel: undefined,\n    lockInputPlaceholder: undefined\n  }\n}',...Primary.parameters?.docs?.source}}},DateTimeLockNotPassed.parameters={...DateTimeLockNotPassed.parameters,docs:{...DateTimeLockNotPassed.parameters?.docs,source:{originalSource:'{\n  play: async ({\n    canvasElement\n  }) => {\n    await new Promise(resolve => setTimeout(resolve, 2_000));\n    const canvas = within(canvasElement);\n    expect(canvas.getByText(labels.sv.dateTimeLockMessageHeading)).toBeInTheDocument();\n  },\n  args: {\n    dateTimeLock: "2024-08-01T18:00",\n    //NOTE! This will always be in Europe/Stockholm timezone\n    mockedDate: new Date("2024-08-01T17:55:00.000+02:00") //An exact point in time using +2h offset\n  }\n}',...DateTimeLockNotPassed.parameters?.docs?.source}}},DateTimeLockHasPassed.parameters={...DateTimeLockHasPassed.parameters,docs:{...DateTimeLockHasPassed.parameters?.docs,source:{originalSource:'{\n  play: async ({\n    canvasElement\n  }) => {\n    await new Promise(resolve => setTimeout(resolve, 2_000));\n    const canvas = within(canvasElement);\n    expect(canvas.queryByText(labels.sv.dateTimeLockMessageHeading)).toBeNull();\n  },\n  args: {\n    dateTimeLock: "2024-08-01T18:00",\n    //NOTE! This will always be in Europe/Stockholm timezone\n    mockedDate: new Date("2024-08-01T18:01:00.000+02:00") //An exact point in time using +2h offset (Stockholm in summertime)\n  }\n}',...DateTimeLockHasPassed.parameters?.docs?.source}}},CodeLockAndDateTimeLockNotPassed.parameters={...CodeLockAndDateTimeLockNotPassed.parameters,docs:{...CodeLockAndDateTimeLockNotPassed.parameters?.docs,source:{originalSource:"{\n  play: async ({\n    canvasElement\n  }) => {\n    await new Promise(resolve => setTimeout(resolve, 2_000));\n    const canvas = within(canvasElement);\n    expect(canvas.getByText(trimmedTimeLockParagraphText, {\n      exact: false\n    })).toBeInTheDocument();\n    expect(canvas.getByPlaceholderText(labels.sv.inputPlaceholderPromoCode)).toBeDisabled();\n  },\n  args: {\n    ...Primary.args,\n    ...DateTimeLockNotPassed.args\n  }\n}",...CodeLockAndDateTimeLockNotPassed.parameters?.docs?.source}}},CodeLockAndDateTimeLockHasPassed.parameters={...CodeLockAndDateTimeLockHasPassed.parameters,docs:{...CodeLockAndDateTimeLockHasPassed.parameters?.docs,source:{originalSource:'{\n  play: async ({\n    canvasElement\n  }) => {\n    await new Promise(resolve => setTimeout(resolve, 2_000));\n    const canvas = within(canvasElement);\n    expect(canvas.queryByText(trimmedTimeLockParagraphText, {\n      exact: false\n    })).toBeNull();\n    await new Promise(resolve => setTimeout(resolve, 1000));\n    await userEvent.type(canvas.getByPlaceholderText("Skriv in din kampanjkod hr"), "hunter2");\n    await userEvent.tab();\n    await userEvent.keyboard("{Enter}");\n    expect(canvas.queryByText(labels.sv.dateTimeLockMessageHeading)).toBeNull();\n  },\n  args: {\n    ...Primary.args,\n    ...DateTimeLockHasPassed.args\n  }\n}',...CodeLockAndDateTimeLockHasPassed.parameters?.docs?.source}}}},"?4f7e":()=>{}}]);