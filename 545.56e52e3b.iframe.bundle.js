"use strict";(self.webpackChunk_parksandresorts_core=self.webpackChunk_parksandresorts_core||[]).push([[545],{"./src/components/group-admission/components/step-backdrop.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>step_backdrop});var injectStylesIntoStyleTag=__webpack_require__("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),injectStylesIntoStyleTag_default=__webpack_require__.n(injectStylesIntoStyleTag),styleDomAPI=__webpack_require__("./node_modules/style-loader/dist/runtime/styleDomAPI.js"),styleDomAPI_default=__webpack_require__.n(styleDomAPI),insertBySelector=__webpack_require__("./node_modules/style-loader/dist/runtime/insertBySelector.js"),insertBySelector_default=__webpack_require__.n(insertBySelector),setAttributesWithoutAttributes=__webpack_require__("./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js"),setAttributesWithoutAttributes_default=__webpack_require__.n(setAttributesWithoutAttributes),insertStyleElement=__webpack_require__("./node_modules/style-loader/dist/runtime/insertStyleElement.js"),insertStyleElement_default=__webpack_require__.n(insertStyleElement),styleTagTransform=__webpack_require__("./node_modules/style-loader/dist/runtime/styleTagTransform.js"),styleTagTransform_default=__webpack_require__.n(styleTagTransform),step_backdrop_module=__webpack_require__("./node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[16].use[1]!./node_modules/postcss-loader/dist/cjs.js!./node_modules/less-loader/dist/cjs.js!./src/components/group-admission/components/step-backdrop.module.less"),options={};options.styleTagTransform=styleTagTransform_default(),options.setAttributes=setAttributesWithoutAttributes_default(),options.insert=insertBySelector_default().bind(null,"head"),options.domAPI=styleDomAPI_default(),options.insertStyleElement=insertStyleElement_default();injectStylesIntoStyleTag_default()(step_backdrop_module.Z,options);const components_step_backdrop_module=step_backdrop_module.Z&&step_backdrop_module.Z.locals?step_backdrop_module.Z.locals:void 0;var jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),StepBackdrop=function StepBackdrop(_ref){var children=_ref.children;return(0,jsx_runtime.jsxs)("div",{className:components_step_backdrop_module.wrapper,children:[(0,jsx_runtime.jsx)("div",{className:components_step_backdrop_module.border}),(0,jsx_runtime.jsx)("div",{className:components_step_backdrop_module.innerWrapper,children})]})};StepBackdrop.displayName="StepBackdrop";const step_backdrop=StepBackdrop;try{stepbackdrop.displayName="stepbackdrop",stepbackdrop.__docgenInfo={description:"",displayName:"stepbackdrop",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/group-admission/components/step-backdrop.tsx#stepbackdrop"]={docgenInfo:stepbackdrop.__docgenInfo,name:"stepbackdrop",path:"src/components/group-admission/components/step-backdrop.tsx#stepbackdrop"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/group-admission/steps/calendar/price-presentation-controls/price-presentation-controls.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{OB:()=>PRODUCT_TYPE_PRICE_VISITOR_CATEGORY_VALUE,Ai:()=>PricePresentationControls,gS:()=>createCalendarFooterPricePresentation,tp:()=>createPricePresentationFromCalendarData});var injectStylesIntoStyleTag=__webpack_require__("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),injectStylesIntoStyleTag_default=__webpack_require__.n(injectStylesIntoStyleTag),styleDomAPI=__webpack_require__("./node_modules/style-loader/dist/runtime/styleDomAPI.js"),styleDomAPI_default=__webpack_require__.n(styleDomAPI),insertBySelector=__webpack_require__("./node_modules/style-loader/dist/runtime/insertBySelector.js"),insertBySelector_default=__webpack_require__.n(insertBySelector),setAttributesWithoutAttributes=__webpack_require__("./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js"),setAttributesWithoutAttributes_default=__webpack_require__.n(setAttributesWithoutAttributes),insertStyleElement=__webpack_require__("./node_modules/style-loader/dist/runtime/insertStyleElement.js"),insertStyleElement_default=__webpack_require__.n(insertStyleElement),styleTagTransform=__webpack_require__("./node_modules/style-loader/dist/runtime/styleTagTransform.js"),styleTagTransform_default=__webpack_require__.n(styleTagTransform),price_presentation_controls_module=__webpack_require__("./node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[16].use[1]!./node_modules/postcss-loader/dist/cjs.js!./node_modules/less-loader/dist/cjs.js!./src/components/group-admission/steps/calendar/price-presentation-controls/price-presentation-controls.module.less"),options={};options.styleTagTransform=styleTagTransform_default(),options.setAttributes=setAttributesWithoutAttributes_default(),options.insert=insertBySelector_default().bind(null,"head"),options.domAPI=styleDomAPI_default(),options.insertStyleElement=insertStyleElement_default();injectStylesIntoStyleTag_default()(price_presentation_controls_module.Z,options);const price_presentation_controls_price_presentation_controls_module=price_presentation_controls_module.Z&&price_presentation_controls_module.Z.locals?price_presentation_controls_module.Z.locals:void 0;var location_helper=__webpack_require__("./src/helpers/location-helper.ts"),string_helper=__webpack_require__("./src/helpers/string-helper.tsx"),es=__webpack_require__("./node_modules/react-i18next/dist/es/index.js"),segmented_controls=__webpack_require__("./src/components/elements/segmented-controls/segmented-controls.tsx"),styled_radio_buttons=__webpack_require__("./src/components/forms/styled-radio-buttons/styled-radio-buttons.tsx"),step_backdrop=__webpack_require__("./src/components/group-admission/components/step-backdrop.tsx"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");function _typeof(o){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function _defineProperty(obj,key,value){return(key=function _toPropertyKey(t){var i=function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==_typeof(i)?i:String(i)}(key))in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(r,l){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,n,i,u,a=[],f=!0,o=!1;try{if(i=(t=t.call(r)).next,0===l){if(Object(t)!==t)return;f=!1}else for(;!(f=(e=i.call(t)).done)&&(a.push(e.value),a.length!==l);f=!0);}catch(r){o=!0,n=r}finally{try{if(!f&&null!=t.return&&(u=t.return(),Object(u)!==u))return}finally{if(o)throw n}}return a}}(arr,i)||_unsupportedIterableToArray(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||_unsupportedIterableToArray(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _createForOfIteratorHelper(o,allowArrayLike){var it="undefined"!=typeof Symbol&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=_unsupportedIterableToArray(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0,F=function F(){};return{s:F,n:function n(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function e(_e){throw _e},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var err,normalCompletion=!0,didErr=!1;return{s:function s(){it=it.call(o)},n:function n(){var step=it.next();return normalCompletion=step.done,step},e:function e(_e2){didErr=!0,err=_e2},f:function f(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}function _unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(o,minLen):void 0}}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var ProductType=["Jetpass","Entry"],PRODUCT_TYPE_PRICE_VISITOR_CATEGORY_VALUE="Adult",createCalendarFooterPricePresentation=function createCalendarFooterPricePresentation(activePricePresentationValue,t){var presentationValue=t("Jetpass"===activePricePresentationValue?"calendarStepPricingJetpassFooter":"calendarStepPricingOptions.".concat(activePricePresentationValue));return ProductType.includes(activePricePresentationValue)?t("calendarStepCalendarFooterInfoProductType",{productType:presentationValue}):t("calendarStepCalendarFooterInfoVisitorCategory",{visitorCategory:presentationValue})},createPricePresentationFromCalendarData=function createPricePresentationFromCalendarData(selectedVisitorCategories,calendarData){var _hashInfo$ticket,_step,productTicketTypeFromHash=null===(_hashInfo$ticket=location_helper.Z.getDecodedHashParams().ticket)||void 0===_hashInfo$ticket?void 0:_hashInfo$ticket[0],productTypesSet=new Set,visitorCategoriesMap=new Map,_iterator=_createForOfIteratorHelper(calendarData);try{for(_iterator.s();!(_step=_iterator.n()).done;){var _step2,date=_step.value,_iterator2=_createForOfIteratorHelper(date.products);try{var _loop=function _loop(){var _product$productMetad,_product$productMetad2,product=_step2.value,productType=(null===(_product$productMetad=product.productMetadata)||void 0===_product$productMetad?void 0:_product$productMetad.numberOfJetPassIncluded)>0?"Jetpass":"Entry";productTypesSet.add(productType);var visitorCategory=null==product||null===(_product$productMetad2=product.productMetadata)||void 0===_product$productMetad2?void 0:_product$productMetad2.visitorCategory,dateCategory=date.visitorCategories.find((function(category){return category.id===visitorCategory}));if(dateCategory&&visitorCategory){var _visitorCategoriesMap,currentMin=null!==(_visitorCategoriesMap=visitorCategoriesMap.get(visitorCategory))&&void 0!==_visitorCategoriesMap?_visitorCategoriesMap:Number.MAX_SAFE_INTEGER;visitorCategoriesMap.set(visitorCategory,Math.min(currentMin,dateCategory.sortIndex))}};for(_iterator2.s();!(_step2=_iterator2.n()).done;)_loop()}catch(err){_iterator2.e(err)}finally{_iterator2.f()}}}catch(err){_iterator.e(err)}finally{_iterator.f()}var uniqueProductTypes=ProductType.filter((function(productType){return productTypesSet.has(productType)}));return productTicketTypeFromHash&&uniqueProductTypes.sort((function(a,b){return a===productTicketTypeFromHash?-1:b===productTicketTypeFromHash?1:0})),{uniqueProductTypes,uniqueVisitorCategories:_toConsumableArray(visitorCategoriesMap.entries()).sort((function(_ref,_ref2){return _slicedToArray(_ref,2)[1]-_slicedToArray(_ref2,2)[1]})).map((function(_ref5){return _slicedToArray(_ref5,1)[0]})).filter((function(visitorCategory){return selectedVisitorCategories.includes(visitorCategory)}))}},PricePresentationControls=function PricePresentationControls(_ref7){var toggleOptions=_ref7.toggleOptions,visitorCategories=_ref7.visitorCategories,activePricePresentationValue=_ref7.activePricePresentationValue,onPriceChange=_ref7.onPriceChange,t=(0,es.$G)().t,segments=toggleOptions.map((function(option){var _visitorCategories$ge;return{label:t("calendarStepPricingOptions.".concat(option)),contentfulLabelId:"calendarStepPricingOptions.".concat(option),sublabel:t("calendarStepPricingOptions.".concat(option,"Subheading"),"")||(null===(_visitorCategories$ge=visitorCategories.get(option))||void 0===_visitorCategories$ge?void 0:_visitorCategories$ge.description),value:option}}));if(segments.length<2)return null;var useRadioButtos=segments.length>2||ProductType.includes(activePricePresentationValue);return(0,jsx_runtime.jsx)("div",{className:price_presentation_controls_price_presentation_controls_module.pricePresentationOuterWrapper,children:(0,jsx_runtime.jsx)(step_backdrop.Z,{children:(0,jsx_runtime.jsxs)("div",{className:price_presentation_controls_price_presentation_controls_module.pricePresentationInnerWrapper,children:[(0,jsx_runtime.jsx)("p",{className:(0,string_helper.JC)("bold",price_presentation_controls_price_presentation_controls_module.pricePresentationHeading),"data-contentful-label-id":"calendarStepPricingHeading",children:t("calendarStepPricingHeading")}),useRadioButtos?(0,jsx_runtime.jsx)(styled_radio_buttons.Z,{name:"pricePresentation",value:null!=activePricePresentationValue?activePricePresentationValue:segments[0].value,options:segments.map((function(segment){return _objectSpread(_objectSpread({},segment),{},{label:(0,jsx_runtime.jsxs)("div",{children:[(0,jsx_runtime.jsx)("b",{"data-contentful-label-id":segment.contentfulLabelId,children:segment.label})," ",segment.sublabel&&(0,jsx_runtime.jsxs)("span",{"data-contentful-label-id":segment.contentfulLabelId+"Subheading",children:["(",segment.sublabel,")"]})]})})})),displayMode:"VERTICAL",onChange:function onChange(name,value){return onPriceChange(value)}}):(0,jsx_runtime.jsx)(segmented_controls.Z,{dateKey:"pricePresentation",name:"pricePresentation",selectedValue:null!=activePricePresentationValue?activePricePresentationValue:segments[0].value,segments,onChange:onPriceChange}),(0,jsx_runtime.jsx)("p",{className:(0,string_helper.JC)("p_tiny",price_presentation_controls_price_presentation_controls_module.pricePresentationInformation),"data-contentful-label-id":"calendarStepPricingInformation",children:t("calendarStepPricingInformation")})]})})})};PricePresentationControls.displayName="PricePresentationControls";try{PricePresentationControls.displayName="PricePresentationControls",PricePresentationControls.__docgenInfo={description:"",displayName:"PricePresentationControls",props:{toggleOptions:{defaultValue:null,description:"",name:"toggleOptions",required:!0,type:{name:'("Adult" | "Child" | "Elderly" | "Baby")[] | ("Jetpass" | "Entry")[]'}},visitorCategories:{defaultValue:null,description:"",name:"visitorCategories",required:!0,type:{name:'Map<"Adult" | "Child" | "Elderly" | "Baby", VisitorCategory>'}},activePricePresentationValue:{defaultValue:null,description:"",name:"activePricePresentationValue",required:!0,type:{name:"enum",value:[{value:'"Adult"'},{value:'"Child"'},{value:'"Elderly"'},{value:'"Baby"'},{value:'"Jetpass"'},{value:'"Entry"'}]}},onPriceChange:{defaultValue:null,description:"",name:"onPriceChange",required:!0,type:{name:'(activeValue: "Adult" | "Child" | "Elderly" | "Baby" | "Jetpass" | "Entry") => void'}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/group-admission/steps/calendar/price-presentation-controls/price-presentation-controls.tsx#PricePresentationControls"]={docgenInfo:PricePresentationControls.__docgenInfo,name:"PricePresentationControls",path:"src/components/group-admission/steps/calendar/price-presentation-controls/price-presentation-controls.tsx#PricePresentationControls"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/shared-components/calendar/calendar-helpers.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{AO:()=>allCalendarDataHasPriceLevelData,eU:()=>computedPriceMap,em:()=>dayState,sX:()=>matcherToArray});var _core_helpers__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/helpers/array-helper.ts"),_core_helpers__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/helpers/group-admission-helper.ts"),_core_helpers__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/helpers/product-helper.ts"),_core_helpers_date_helper__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/helpers/date-helper.ts"),_core_components_group_admission_steps_calendar_price_presentation_controls_price_presentation_controls__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/components/group-admission/steps/calendar/price-presentation-controls/price-presentation-controls.tsx");function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function matcherToArray(matcher){return Array.isArray(matcher)?_toConsumableArray(matcher):void 0!==matcher?[matcher]:[]}function allCalendarDataHasPriceLevelData(calendarData){return null==calendarData?void 0:calendarData.every((function(item){return void 0!==item.products&&void 0!==item.visitorCategories}))}var dayState=function dayState(_ref){var isPriceLevelDate=_ref.isPriceLevelDate,calendarData=_ref.calendarData,priceLevelsWithMarking=_ref.priceLevelsWithMarking;return new _core_helpers_date_helper__WEBPACK_IMPORTED_MODULE_0__.U3(calendarData.map((function(dayData){var products="products"in dayData&&dayData.products,allProductsSoldOut=(0,_core_helpers__WEBPACK_IMPORTED_MODULE_1__.Of)(products)&&products.every((function(p){return"soldOut"in p&&p.soldOut})),visitorCategories="visitorCategories"in dayData&&dayData.visitorCategories,events="shows"in dayData&&dayData.shows,priceLevel=products&&visitorCategories&&_core_helpers__WEBPACK_IMPORTED_MODULE_2__.Z.getLowestPriceLevel(products,visitorCategories),hasPriceLevelTicketsLeft=products&&isPriceLevelDate&&_core_helpers__WEBPACK_IMPORTED_MODULE_2__.Z.atLeastOneVariantHasTicketsLeft(products),hasProductsQuantity=products&&!isPriceLevelDate&&products.some((function(product){return(0,_core_helpers__WEBPACK_IMPORTED_MODULE_3__.EM)(product)})),isSoldOut=!hasPriceLevelTicketsLeft&&!hasProductsQuantity||allProductsSoldOut,hasEvents=events&&events.length>0,showMarking=!!(0,_core_helpers__WEBPACK_IMPORTED_MODULE_1__.Of)(priceLevelsWithMarking)&&priceLevelsWithMarking.includes(priceLevel);return[_core_helpers_date_helper__WEBPACK_IMPORTED_MODULE_0__.ZP.toStringYYYYMMDD(dayData.date),{priceLevel,hasEvents,isSoldOut,showMarking}]})))},computedPriceMap=function computedPriceMap(_ref2){var calendarData=_ref2.calendarData,activePricePresentationValue=_ref2.activePricePresentationValue,variants=_ref2.variants;return new _core_helpers_date_helper__WEBPACK_IMPORTED_MODULE_0__.U3(calendarData.map((function(dayData){var key=_core_helpers_date_helper__WEBPACK_IMPORTED_MODULE_0__.ZP.toStringYYYYMMDD(dayData.date),products="products"in dayData&&dayData.products,visitorCategories="visitorCategories"in dayData&&dayData.visitorCategories;if(!(activePricePresentationValue&&products&&visitorCategories&&variants))return[key,{computedPrice:void 0}];var candidateProducts=products.map((function(product){var _product$productMetad,productType=(null===(_product$productMetad=product.productMetadata)||void 0===_product$productMetad?void 0:_product$productMetad.numberOfJetPassIncluded)>0?"Jetpass":"Entry";return{price:product.price,productVariant:product.productMetadata.entryVariant,productType,visitorCategory:product.productMetadata.visitorCategory}})),validCandidates=[];return 0===(validCandidates=["Jetpass","Entry"].includes(activePricePresentationValue)?candidateProducts.filter((function(p){return p.productType===activePricePresentationValue&&p.visitorCategory===_core_components_group_admission_steps_calendar_price_presentation_controls_price_presentation_controls__WEBPACK_IMPORTED_MODULE_4__.OB})):candidateProducts.filter((function(p){return p.visitorCategory===activePricePresentationValue}))).length?[key,{computedPrice:void 0}]:[key,{computedPrice:validCandidates.reduce((function(acc,curr){return acc.productVariant&&curr.productVariant&&variants[acc.productVariant].sortIndex>variants[curr.productVariant].sortIndex?curr:acc})).price}]})))}},"./src/helpers/group-admission-helper.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var dayjs__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/dayjs/dayjs.min.js"),dayjs__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(dayjs__WEBPACK_IMPORTED_MODULE_0__),_date_helper__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/helpers/date-helper.ts"),lodash_es__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/lodash-es/sortBy.js"),lodash_es__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/lodash-es/range.js"),lodash_es__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/lodash-es/uniqBy.js"),_types_state_group_admission_group_admission_types__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./src/types/state/group-admission/group-admission-types.ts"),_array_helper__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/helpers/array-helper.ts"),animated_scroll_to__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/animated-scroll-to/dist/esm/index.js");function _typeof(o){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||_unsupportedIterableToArray(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function _defineProperty(obj,key,value){return(key=function _toPropertyKey(t){var i=function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==_typeof(i)?i:String(i)}(key))in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(r,l){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,n,i,u,a=[],f=!0,o=!1;try{if(i=(t=t.call(r)).next,0===l){if(Object(t)!==t)return;f=!1}else for(;!(f=(e=i.call(t)).done)&&(a.push(e.value),a.length!==l);f=!0);}catch(r){o=!0,n=r}finally{try{if(!f&&null!=t.return&&(u=t.return(),Object(u)!==u))return}finally{if(o)throw n}}return a}}(arr,i)||_unsupportedIterableToArray(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(o,minLen):void 0}}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}const __WEBPACK_DEFAULT_EXPORT__={hasSelectedJetpassesBeforePickedEntryTime:function hasSelectedJetpassesBeforePickedEntryTime(guests,selectedEntryTimeSlotFrom){var entryTimeSlotFrom=dayjs__WEBPACK_IMPORTED_MODULE_0___default()(selectedEntryTimeSlotFrom);return guests.every((function(guest){return guest.admissionProduct.selectedJetpasses.find((function(jetpass){return dayjs__WEBPACK_IMPORTED_MODULE_0___default()(jetpass.timeSlotFrom).isBefore(entryTimeSlotFrom)}))}))},getSelectedTimeSlotsFromEntrancesArray:function getSelectedTimeSlotsFromEntrancesArray(entrances,selectedTimeSlot){var _step,foundEntranceTimeSlotsArray=[],_iterator=function _createForOfIteratorHelper(o,allowArrayLike){var it="undefined"!=typeof Symbol&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=_unsupportedIterableToArray(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0,F=function F(){};return{s:F,n:function n(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function e(_e){throw _e},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var err,normalCompletion=!0,didErr=!1;return{s:function s(){it=it.call(o)},n:function n(){var step=it.next();return normalCompletion=step.done,step},e:function e(_e2){didErr=!0,err=_e2},f:function f(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}(entrances.entries());try{for(_iterator.s();!(_step=_iterator.n()).done;){var _step$value=_slicedToArray(_step.value,2),index=_step$value[0],entrance=_step$value[1],foundEntranceTimeSlots=entrance.timeSlots.find((function(entranceTimeSlot){return _date_helper__WEBPACK_IMPORTED_MODULE_2__.ZP.toStringTimeHHMM(entranceTimeSlot.timeSlotFrom)===_date_helper__WEBPACK_IMPORTED_MODULE_2__.ZP.toStringTimeHHMM(selectedTimeSlot)}));if(foundEntranceTimeSlots)foundEntranceTimeSlotsArray.push(_objectSpread(_objectSpread({},foundEntranceTimeSlots),{},{productId:entrance.productId}));else{var pseudoTimeSlot=_objectSpread({},foundEntranceTimeSlotsArray[0]);pseudoTimeSlot.timeSlotFrom="".concat(_date_helper__WEBPACK_IMPORTED_MODULE_2__.ZP.toStringTimeYYYYMMDDHHMM(_date_helper__WEBPACK_IMPORTED_MODULE_2__.ZP.addDays(pseudoTimeSlot.timeSlotFrom,index)),":00"),pseudoTimeSlot.timeSlotTo="".concat(_date_helper__WEBPACK_IMPORTED_MODULE_2__.ZP.toStringTimeYYYYMMDDHHMM(_date_helper__WEBPACK_IMPORTED_MODULE_2__.ZP.addDays(pseudoTimeSlot.timeSlotTo,index)),":00"),foundEntranceTimeSlotsArray.push(pseudoTimeSlot)}}}catch(err){_iterator.e(err)}finally{_iterator.f()}return foundEntranceTimeSlotsArray},getSelectedUpsellProductsBeforePickedEntryTime:function getSelectedUpsellProductsBeforePickedEntryTime(selectedUpsellProducts,selectedEntryTimeSlotFrom){for(var selectedUpsellProductsCopy=new Map(selectedUpsellProducts),entryTimeSlotFrom=dayjs__WEBPACK_IMPORTED_MODULE_0___default()(selectedEntryTimeSlotFrom),upsellProductsBeforeEntryTime=new Array,_loop=function _loop(){var _selectedUpsellProduc,selectedUpsellProduct=_arr[_i],timeSlotFrom=null==selectedUpsellProduct||null===(_selectedUpsellProduc=selectedUpsellProduct.timeSlot)||void 0===_selectedUpsellProduc?void 0:_selectedUpsellProduc.timeSlotFrom;if(!timeSlotFrom)return 1;selectedUpsellProduct.product.purchasableOutsideEntryTime&&selectedUpsellProductsCopy.delete(selectedUpsellProduct.product.id),dayjs__WEBPACK_IMPORTED_MODULE_0___default()(timeSlotFrom).isAfter(entryTimeSlotFrom)||void 0!==upsellProductsBeforeEntryTime.find((function(upsellProductsForDate){return _date_helper__WEBPACK_IMPORTED_MODULE_2__.ZP.toStringYYYYMMDD(upsellProductsForDate.date)===_date_helper__WEBPACK_IMPORTED_MODULE_2__.ZP.toStringYYYYMMDD(timeSlotFrom)}))||upsellProductsBeforeEntryTime.push({date:timeSlotFrom,upsellProducts:selectedUpsellProductsCopy})},_i=0,_arr=_toConsumableArray(selectedUpsellProductsCopy.values());_i<_arr.length;_i++)_loop();return upsellProductsBeforeEntryTime},sortProductsByVisitorCategorySortIndex:function sortProductsByVisitorCategorySortIndex(products,visitorCategories){var sortIndexes=products.map((function(product){var _visitorCategory$sort,visitorCategoryId=product.productMetadata.visitorCategory,visitorCategory=visitorCategoryId&&visitorCategories.get(visitorCategoryId);return null!==(_visitorCategory$sort=null==visitorCategory?void 0:visitorCategory.sortIndex)&&void 0!==_visitorCategory$sort?_visitorCategory$sort:1e3}));return(0,lodash_es__WEBPACK_IMPORTED_MODULE_4__.Z)(products.length).sort((function(a,b){var sortIndexForA=sortIndexes[a],sortIndexForB=sortIndexes[b];return sortIndexForA<sortIndexForB?1:sortIndexForA>sortIndexForB?-1:0})).map((function(index){return products[index]}))},mapAndSortVisitorCategories:function mapAndSortVisitorCategories(visitorCategories){if(!Object.keys(visitorCategories))return new Map;var visitorCategoryEntries=Object.entries(visitorCategories),sortedVisitorCategories=(0,lodash_es__WEBPACK_IMPORTED_MODULE_3__.Z)(visitorCategoryEntries,["[1].sortIndex"]);return new Map(sortedVisitorCategories)},getNextStepCompletedStatus:function getNextStepCompletedStatus(steps,isCompleted,activeStep){if((0,_array_helper__WEBPACK_IMPORTED_MODULE_5__.Of)(steps)&&isCompleted.size>0&&!(activeStep===steps.length-1)){var nextStep=steps[activeStep+1].stepType;return isCompleted.get(nextStep)}return!1},mapJetshopTimeSlotToSelectablePass:function mapJetshopTimeSlotToSelectablePass(jetshopTimeSlot,productId,attractionId,attractionName){return{productId,timeSlotId:jetshopTimeSlot.timeSlotId,timeSlotFrom:jetshopTimeSlot.timeSlotFrom,timeSlotTo:jetshopTimeSlot.timeSlotTo,quantity:jetshopTimeSlot.quantity,attractionId,attractionName}},getSortedVariantsFromSelection:function getSortedVariantsFromSelection(products,entryVariants){var variants=products.map((function(product){var _product$productMetad;return null==product||null===(_product$productMetad=product.productMetadata)||void 0===_product$productMetad?void 0:_product$productMetad.entryVariant})).filter(_array_helper__WEBPACK_IMPORTED_MODULE_5__.fQ).filter((function(variant,index,arr){return arr.indexOf(variant)===index}));return variants.sort((function(variantA,variantB){var entryVariantA=entryVariants[variantA],entryVariantB=entryVariants[variantB];return entryVariantA.sortIndex<entryVariantB.sortIndex?-1:entryVariantA.sortIndex>entryVariantB.sortIndex?1:0})),variants},getMappedProductsFromSelectedVariants:function getMappedProductsFromSelectedVariants(products,selectedVariants){return new Map(selectedVariants.map((function(variant){var productsForVariant=products.filter((function(product){return product.productMetadata.entryVariant===variant}));return[variant,productsForVariant]})).filter((function(_ref){return _slicedToArray(_ref,2)[1].length>0})))},atLeastOneVariantHasTicketsLeft:function atLeastOneVariantHasTicketsLeft(products){var uniqueEntryVariants=(0,lodash_es__WEBPACK_IMPORTED_MODULE_6__.Z)(products,"productMetadata.entryVariant").map((function(product){return product.productMetadata.entryVariant}));return uniqueEntryVariants.some((function(variant){return function checkIfVariantHasTicketsLeft(variant){return products.filter((function(product){return product.productMetadata.entryVariant===variant})).every((function(product){return!0===product.ticketsForQuantity}))}(variant)}))},scrollAndCompleteStep:function scrollAndCompleteStep(element,step,dispatch){var _element$clientHeight,alwaysAnimateScroll=arguments.length>3&&void 0!==arguments[3]&&arguments[3],wrapperHeight=null!==(_element$clientHeight=null==element?void 0:element.clientHeight)&&void 0!==_element$clientHeight?_element$clientHeight:0;if(alwaysAnimateScroll||wrapperHeight>.9*window.innerHeight)try{(0,animated_scroll_to__WEBPACK_IMPORTED_MODULE_1__.Z)(element,{verticalOffset:-48,speed:1350,maxDuration:500})}catch(error){console.error("Error scrolling to element. Continuing without scrolling.",error)}dispatch({type:_types_state_group_admission_group_admission_types__WEBPACK_IMPORTED_MODULE_7__.U.COMPLETE_STEP,payload:{completedStep:step}})},getLowestPriceLevel:function getLowestPriceLevel(products,visitorCategories){var filteredProducts=products;if(!(0,_array_helper__WEBPACK_IMPORTED_MODULE_5__.Of)(filteredProducts))return null;if((0,_array_helper__WEBPACK_IMPORTED_MODULE_5__.Of)(visitorCategories)){var uniqueVisitorCategoriesInProducts=new Set(products.map((function(product){var _product$productMetad2;return null==product||null===(_product$productMetad2=product.productMetadata)||void 0===_product$productMetad2?void 0:_product$productMetad2.visitorCategory}))),visitorCategoriesRelevantForTheseProduct=visitorCategories.filter((function(visitorCategory){return uniqueVisitorCategoriesInProducts.has(visitorCategory.id)}));if(!(0,_array_helper__WEBPACK_IMPORTED_MODULE_5__.Of)(visitorCategoriesRelevantForTheseProduct))return null;var visitorCategoryWithLowestPriority=visitorCategoriesRelevantForTheseProduct.reduce((function(prev,curr){return prev.priceLevelPresenterPriority<curr.priceLevelPresenterPriority?prev:curr}));filteredProducts=products.filter((function(product){var _product$productMetad3;return(null==product||null===(_product$productMetad3=product.productMetadata)||void 0===_product$productMetad3?void 0:_product$productMetad3.visitorCategory)===visitorCategoryWithLowestPriority.id}))}var priceLevels=filteredProducts.map((function(product){var _product$productMetad4;return null==product||null===(_product$productMetad4=product.productMetadata)||void 0===_product$productMetad4?void 0:_product$productMetad4.priceLevel})).filter((function(priceLevel){return"number"==typeof priceLevel}));return Math.min.apply(Math,_toConsumableArray(priceLevels))},hasGuestsExeededJetpassLimit:function hasGuestsExeededJetpassLimit(guests,jetpassMaxLimit){return null!=jetpassMaxLimit&&guests.reduce((function(acc,guest){var _guest$admissionProdu;return acc+((null==guest||null===(_guest$admissionProdu=guest.admissionProduct)||void 0===_guest$admissionProdu?void 0:_guest$admissionProdu.numberOfJetpassIncluded)>0?1:0)}),0)>jetpassMaxLimit},getRadioPickerValueFromProduct:function getRadioPickerValueFromProduct(product){return"".concat(product.productId,"_").concat(product.productMetadata.visitorCategory)}}},"./src/helpers/location-helper.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _session_storage_helper__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/helpers/session-storage-helper.js");function _typeof(o){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(r,l){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,n,i,u,a=[],f=!0,o=!1;try{if(i=(t=t.call(r)).next,0===l){if(Object(t)!==t)return;f=!1}else for(;!(f=(e=i.call(t)).done)&&(a.push(e.value),a.length!==l);f=!0);}catch(r){o=!0,n=r}finally{try{if(!f&&null!=t.return&&(u=t.return(),Object(u)!==u))return}finally{if(o)throw n}}return a}}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,_toPropertyKey(descriptor.key),descriptor)}}function _toPropertyKey(t){var i=function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==_typeof(i)?i:String(i)}const __WEBPACK_DEFAULT_EXPORT__=new(function(){function LocationHelper(){!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,LocationHelper)}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}(LocationHelper,[{key:"navigateBack",value:function navigateBack(){"undefined"!=typeof window&&window.history.go(-1)}},{key:"addHashToUrlWithoutReload",value:function addHashToUrlWithoutReload(valuesArray){if("undefined"!=typeof document&&"undefined"!=typeof window&&window.history&&window.history.replaceState){if(!(valuesArray instanceof Array&&valuesArray.length>0))return window.history.replaceState({},"".concat(document.title),window.location.pathname+window.location.search);var allValues=valuesArray.map((function(item){return item.key+"="+item.value})).join("&");window.history.replaceState({},"".concat(document.title),"#".concat(allValues))}}},{key:"updateHistory",value:function updateHistory(url,title){var replace=arguments.length>2&&void 0!==arguments[2]&&arguments[2];"undefined"!=typeof window&&window.history&&window.history.pushState&&!replace&&window.history.pushState({previousPath:window.location.pathname},title,url),"undefined"!=typeof window&&window.history&&window.history.replaceState&&replace&&window.history.replaceState({},title,url)}},{key:"getDecodedHashParams",value:function getDecodedHashParams(){var hashParams={};return"undefined"!=typeof window&&window.location&&window.location.hash&&window.location.hash.substring(1).split("&").forEach((function(item){var _item$split2=_slicedToArray(item.split("="),2),k=_item$split2[0],v=_item$split2[1];v=v&&decodeURIComponent(v),(hashParams[k]=hashParams[k]||[]).push(v)})),hashParams}},{key:"getQueryParams",value:function getQueryParams(){var pageParams={};return"undefined"!=typeof window&&window.location.search&&window.location.search.substring(1).split("&").forEach((function(item){var _item$split4=_slicedToArray(item.split("="),2),k=_item$split4[0],v=_item$split4[1];v=v&&decodeURIComponent(v),(pageParams[k]=pageParams[k]||[]).push(v)})),pageParams}},{key:"getChannelFromQuery",value:function getChannelFromQuery(){var pageParams=this.getQueryParams();return pageParams instanceof Object&&pageParams.channel instanceof Array&&pageParams.channel.length&&pageParams.channel[0]?pageParams.channel[0]:""}},{key:"setPostMyParksLogin",value:function setPostMyParksLogin(postLoginUrl,pageName){var routeBeforeRedirect={pageName,pageUrl:postLoginUrl};_session_storage_helper__WEBPACK_IMPORTED_MODULE_0__.Z.setItem("routeBeforeRedirect",routeBeforeRedirect,null)}},{key:"getPostMyParksLogin",value:function getPostMyParksLogin(){var routeBeforeRedirect=_session_storage_helper__WEBPACK_IMPORTED_MODULE_0__.Z.getItem("routeBeforeRedirect");return routeBeforeRedirect&&routeBeforeRedirect.pageUrl?routeBeforeRedirect:null}},{key:"clearPostMyParksLogin",value:function clearPostMyParksLogin(){_session_storage_helper__WEBPACK_IMPORTED_MODULE_0__.Z.removeItem("routeBeforeRedirect")}}]),LocationHelper}())},"./src/helpers/product-helper.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{EM:()=>productHasQuantity,RY:()=>isShippingFeeProduct,j_:()=>cartItemToItemInCart});var _parksandresorts_webapiproxy_types__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@parksandresorts/webapiproxy-types/dist/src/index.js"),_date_helper__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/helpers/date-helper.ts"),_e_commerce_helper__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/helpers/e-commerce-helper.ts"),_array_helper__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/helpers/array-helper.ts");function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var productHasQuantity=function productHasQuantity(product){var _product$dateSlot$qua,_product$dateSlot,_product$timeSlots$0$,_product$timeSlots;return!!product&&(("dateSlot"in product&&null!==(_product$dateSlot$qua=null===(_product$dateSlot=product.dateSlot)||void 0===_product$dateSlot?void 0:_product$dateSlot.quantity)&&void 0!==_product$dateSlot$qua?_product$dateSlot$qua:0)>0||("timeSlots"in product&&null!==(_product$timeSlots$0$=null===(_product$timeSlots=product.timeSlots)||void 0===_product$timeSlots||null===(_product$timeSlots=_product$timeSlots[0])||void 0===_product$timeSlots?void 0:_product$timeSlots.quantity)&&void 0!==_product$timeSlots$0$?_product$timeSlots$0$:0)>0)},isShippingFeeProduct=function isShippingFeeProduct(product){var _product$productData;return(null==product||null===(_product$productData=product.productData)||void 0===_product$productData?void 0:_product$productData.productType)===_parksandresorts_webapiproxy_types__WEBPACK_IMPORTED_MODULE_0__.WebshopProductType.SHIPPING_FEE},flattenSubItems=function flattenSubItems(subItems){return subItems.flatMap((function(item){var _item$subItems;return[item].concat(_toConsumableArray(flattenSubItems(null!==(_item$subItems=item.subItems)&&void 0!==_item$subItems?_item$subItems:[])))}))},cartItemToItemInCart=function cartItemToItemInCart(cartItem,extendedProducts,t){var _cartItem$data,foundProduct=null==extendedProducts?void 0:extendedProducts.find((function(product){return product.glkId===cartItem.productId})),subItems=cartItem.subItems?flattenSubItems(cartItem.subItems).map((function(subItem){return{name:subItem.productName,slot:subItem.slot}})):[],bookableInformationMetadata=function getBookableInformation(subItems,productSlot,productData){var _productData$productD,_productData$productD2,_subItems$,activitySlot="BookableTimeslot"==(null==productData||null===(_productData$productD=productData.productData)||void 0===_productData$productD?void 0:_productData$productD.productType)||"ExpressPass"==(null==productData||null===(_productData$productD2=productData.productData)||void 0===_productData$productD2?void 0:_productData$productD2.productType)?null===(_subItems$=subItems[0])||void 0===_subItems$?void 0:_subItems$.slot:void 0,slot=null!=activitySlot?activitySlot:productSlot;if(slot){var onlyValidText=null===_e_commerce_helper__WEBPACK_IMPORTED_MODULE_1__.Z||void 0===_e_commerce_helper__WEBPACK_IMPORTED_MODULE_1__.Z?void 0:_e_commerce_helper__WEBPACK_IMPORTED_MODULE_1__.Z.jetshop.onlyValidText,isFullDay=slot.isFullDay,timeSlotBegin=slot.slotFrom;if(timeSlotBegin){var begin=(0,_date_helper__WEBPACK_IMPORTED_MODULE_2__.Bq)(timeSlotBegin);return isFullDay?"".concat(onlyValidText?onlyValidText+" ":"").concat(_date_helper__WEBPACK_IMPORTED_MODULE_2__.ZP.toStringDDMonth(begin)):"".concat(_date_helper__WEBPACK_IMPORTED_MODULE_2__.ZP.toStringDDMonth(begin)," - ").concat(_date_helper__WEBPACK_IMPORTED_MODULE_2__.ZP.toStringTimeHHMM(begin))}}}(subItems,cartItem.slot,foundProduct),cardOwner=null!==(_cartItem$data=cartItem.data)&&void 0!==_cartItem$data&&_cartItem$data.cardHolderInformationV1?t("owner",{firstName:cartItem.data.cardHolderInformationV1.firstName,lastName:cartItem.data.cardHolderInformationV1.lastName}):void 0;return{id:cartItem.cartItemGuid,name:cartItem.productName,price:cartItem.productPrice,quantity:cartItem.quantity,minimumQuantity:!1===(null==foundProduct?void 0:foundProduct.missingJetshopData)?foundProduct.minimumQuantity:1,productData:foundProduct,visitorName:cartItem.visitorName,metadata:[bookableInformationMetadata,cardOwner].filter(_array_helper__WEBPACK_IMPORTED_MODULE_3__.fQ),subItems,isShippingProduct:isShippingFeeProduct(foundProduct)}}},"./src/types/state/group-admission/group-admission-types.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{U:()=>ActionType,h:()=>Step});var ActionType=function(ActionType){return ActionType.DEBUG="DEBUG",ActionType.INITIALIZE="INITIALIZE",ActionType.CHANGE_STEP="CHANGE_STEP",ActionType.CHANGE_QUANTITY="CHANGE_QUANTITY",ActionType.COMPLETE_STEP="COMPLETE_STEP",ActionType.SELECT_DATE="SELECT_DATE",ActionType.SELECT_MONTH="SELECT_MONTH",ActionType.SELECT_VARIANT="SELECT_VARIANT",ActionType.SELECT_ENTRY_TIME="SELECT_ENTRY_TIME",ActionType.SELECT_TICKET="SELECT_TICKET",ActionType.ADD_JETPASSES_TO_GUESTS="ADD_JETPASSES_TO_GUESTS",ActionType.UPDATE_UPSELL_PRODUCT="UPDATE_UPSELL_PRODUCT",ActionType.DELETE_UPSELL_PRODUCT="DELETE_UPSELL_PRODUCT",ActionType.SELECT_MANDATORY_JETPASS="SELECT_MANDATORY_JETPASS",ActionType}({}),Step=function(Step){return Step.FIXED_DATE="FIXED_DATE",Step.GROUP_SIZE="GROUP_SIZE",Step.SELECT_DATE="SELECT_DATE",Step.SELECT_ENTRY_TIME="SELECT_ENTRY_TIME",Step.SELECT_TICKET="SELECT_TICKET",Step.SELECT_MANDATORY_JETPASS="SELECT_MANDATORY_JETPASS",Step.SELECT_JETPASS="SELECT_JETPASS",Step.UPSELL="UPSELL",Step.SUMMARY="SUMMARY",Step}({})},"./node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[16].use[1]!./node_modules/postcss-loader/dist/cjs.js!./node_modules/less-loader/dist/cjs.js!./src/components/group-admission/components/step-backdrop.module.less":(module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/css-loader/dist/runtime/sourceMaps.js"),_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__),_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js"),___CSS_LOADER_EXPORT___=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__)()(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default());___CSS_LOADER_EXPORT___.push([module.id,".step-backdrop-module--wrapper--JgrI2 {\n  border-radius: var(--foundation-border-radius-xs);\n  border: var(--step-backdrop-border-width, 0.0625rem) solid transparent;\n  position: relative;\n}\n.step-backdrop-module--border--ygf7l {\n  position: absolute;\n  top: calc(0rem - var(--step-backdrop-border-width, -0.0625rem));\n  right: calc(0rem - var(--step-backdrop-border-width, -0.0625rem));\n  bottom: calc(0rem - var(--step-backdrop-border-width, -0.0625rem));\n  left: calc(0rem - var(--step-backdrop-border-width, -0.0625rem));\n  background: var(--common-inner-wrapper-border);\n  border-radius: var(--foundation-border-radius-xs);\n}\n.step-backdrop-module--inner-wrapper--mSXgk {\n  border-radius: var(--foundation-border-radius-xs);\n  border: 0.0625rem solid var(--common-wrapper-border-color);\n  background: var(--common-inner-wrapper-background);\n  z-index: 2;\n  position: relative;\n}\n","",{version:3,sources:["webpack://./src/components/group-admission/components/step-backdrop.module.less"],names:[],mappings:"AAAA;EACE,iDAAA;EACA,sEAAA;EACA,kBAAA;AACF;AAIA;EACE,kBAAA;EACA,+DAAA;EACA,iEAAA;EACA,kEAAA;EACA,gEAAA;EACA,8CAAA;EACA,iDAAA;AAFF;AAKA;EACE,iDAAA;EACA,0DAAA;EACA,kDAAA;EACA,UAAA;EACA,kBAAA;AAHF",sourcesContent:[".wrapper {\n  border-radius: var(--foundation-border-radius-xs);\n  border: var(--step-backdrop-border-width, 0.0625rem) solid transparent;\n  position: relative;\n}\n\n@borderWidth: -0.125rem;\n\n.border {\n  position: absolute;\n  top: calc(0rem - var(--step-backdrop-border-width, -0.0625rem));\n  right: calc(0rem - var(--step-backdrop-border-width, -0.0625rem));\n  bottom: calc(0rem - var(--step-backdrop-border-width, -0.0625rem));\n  left: calc(0rem - var(--step-backdrop-border-width, -0.0625rem));\n  background: var(--common-inner-wrapper-border);\n  border-radius: var(--foundation-border-radius-xs);\n}\n\n.inner-wrapper {\n  border-radius: var(--foundation-border-radius-xs);\n  border: 0.0625rem solid var(--common-wrapper-border-color);\n  background: var(--common-inner-wrapper-background);\n  z-index: 2;\n  position: relative;\n}\n"],sourceRoot:""}]),___CSS_LOADER_EXPORT___.locals={wrapper:"step-backdrop-module--wrapper--JgrI2",border:"step-backdrop-module--border--ygf7l","inner-wrapper":"step-backdrop-module--inner-wrapper--mSXgk",innerWrapper:"step-backdrop-module--inner-wrapper--mSXgk"};const __WEBPACK_DEFAULT_EXPORT__=___CSS_LOADER_EXPORT___},"./node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[16].use[1]!./node_modules/postcss-loader/dist/cjs.js!./node_modules/less-loader/dist/cjs.js!./src/components/group-admission/steps/calendar/price-presentation-controls/price-presentation-controls.module.less":(module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/css-loader/dist/runtime/sourceMaps.js"),_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__),_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js"),___CSS_LOADER_EXPORT___=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__)()(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default());___CSS_LOADER_EXPORT___.push([module.id,"/* Breakpoints for responsive design\n   IMPORTANT! Make sure to keep these in sync with the breakpoints in ts file (used by hooks) (src\\constants\\breakpoints.ts)\n   IMPORTANT! useIsMobile() hook uses these breakpoints to determine if the device is mobile or not, make sure to update the hook if you change these breakpoints\n */\n.price-presentation-controls-module--price-presentation-outer-wrapper--ISlaq {\n  margin-bottom: var(--foundation-spacing-x2);\n}\n.price-presentation-controls-module--price-presentation-inner-wrapper--jn3Qm {\n  padding: var(--foundation-spacing-x4);\n}\n.price-presentation-controls-module--price-presentation-heading--FsCkV {\n  margin: 0 0 var(--foundation-spacing-x3);\n}\n.price-presentation-controls-module--price-presentation-information--VD1yi {\n  margin-bottom: 0;\n}\n","",{version:3,sources:["webpack://./src/components/group-admission/steps/calendar/price-presentation-controls/price-presentation-controls.module.less"],names:[],mappings:"AAAA;;;EAGE;AADF;EACE,2CAAA;AAGF;AAAA;EACE,qCAAA;AAEF;AACA;EACE,wCAAA;AACF;AAEA;EACE,gBAAA;AAAF",sourcesContent:['@import "../../../../../constants/breakpoints.less";\n\n.price-presentation-outer-wrapper {\n  margin-bottom: var(--foundation-spacing-x2);\n}\n\n.price-presentation-inner-wrapper {\n  padding: var(--foundation-spacing-x4);\n}\n\n.price-presentation-heading {\n  margin: 0 0 var(--foundation-spacing-x3);\n}\n\n.price-presentation-information {\n  margin-bottom: 0;\n}\n'],sourceRoot:""}]),___CSS_LOADER_EXPORT___.locals={"price-presentation-outer-wrapper":"price-presentation-controls-module--price-presentation-outer-wrapper--ISlaq",pricePresentationOuterWrapper:"price-presentation-controls-module--price-presentation-outer-wrapper--ISlaq","price-presentation-inner-wrapper":"price-presentation-controls-module--price-presentation-inner-wrapper--jn3Qm",pricePresentationInnerWrapper:"price-presentation-controls-module--price-presentation-inner-wrapper--jn3Qm","price-presentation-heading":"price-presentation-controls-module--price-presentation-heading--FsCkV",pricePresentationHeading:"price-presentation-controls-module--price-presentation-heading--FsCkV","price-presentation-information":"price-presentation-controls-module--price-presentation-information--VD1yi",pricePresentationInformation:"price-presentation-controls-module--price-presentation-information--VD1yi"};const __WEBPACK_DEFAULT_EXPORT__=___CSS_LOADER_EXPORT___}}]);